{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "platform": {
      "type": "array",
      "items": {
        "enum": [
          "Chromium GEM-X Single Cell 3' Chip v4",
          "BD FACSymphony S6",
          "Cytek Aurora Evo",
          "BD FACSCanto II",
          "Chromium X",
          "Fluidigm BioMark",
          "Illumina HiSeq X Ten",
          "Olink Signature Q100",
          "GEM-X Flex Gene Expression Chip",
          "Hyperion",
          "Thermo Fisher Attune NxT",
          "Chromium Next GEM Chip K",
          "CyTOF XT",
          "Chromium Next GEM Chip G",
          "Thermo Fisher Attune CytPix",
          "BD FACSLyric Clinical",
          "Helios Mass Cytometer",
          "Cytek Aurora",
          "Chromium iX",
          "Illumina NovaSeq 6000",
          "BD FACSMelody",
          "Illumina NovaSeq X",
          "Xenium",
          "Sony MA900",
          "BD FACSDiscover S8",
          "Chromium Next GEM Chip Q",
          "Not Applicable",
          "Visium CytAssist",
          "Illumina HiSeq 2500",
          "unknown",
          "BD LSRFortessa",
          "Chromium Next GEM Chip H",
          "Chromium Xo",
          "Illumina NextSeq 500",
          "Chromium Next GEM Chip M",
          "BD FACSDiscover A8",
          "BD FACSCanto",
          "BD FACSAria Fusion cell sorter",
          "Thermo Fisher Attune Xenith",
          "BD FACSAria III",
          "none",
          "GEM-X OCM 5' Chip",
          "Chromium Controller"
        ]
      },
      "maxItems": 43
    },
    "dataCollectionBatch": {},
    "sampleProcessingBatch": {},
    "specimenModality": {
      "enum": [
        "multispecimen",
        "single specimen"
      ]
    },
    "totalReads": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "alignmentReference": {
      "enum": [
        "unknown",
        "10x Cell Ranger Human GRCh38 2024-A",
        "vdj_GRCh38_alts_ensembl-4.0.0",
        "10x Cell Ranger Human GRCh38 2020-A"
      ]
    },
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "WGS",
          "CosMX",
          "Olink Target 48",
          "Olink Target 96",
          "CyTOF",
          "feature barcode sequencing",
          "scVDJSeq",
          "RNASeq",
          "WES",
          "SomaScan",
          "snRNASeq",
          "serial IHC",
          "kiloplex",
          "LC-MS/MS",
          "NULISA",
          "snATACSeq",
          "Olink Explore HT",
          "H&E",
          "imaging mass cytometry",
          "Xenium",
          "multiplexed ELISA",
          "scRNASeq",
          "flow cytometry",
          "Olink Reveal",
          "imaging mass spectrometry",
          "CE-MS",
          "SNP array",
          "ASAPSeq",
          "Olink Flex",
          "CITESeq",
          "VDJSeq",
          "Olink Focus"
        ]
      },
      "maxItems": 32
    },
    "nucleicAcidSource": {
      "type": "array",
      "items": {
        "enum": [
          "BCR mRNA",
          "antigen capture barcode",
          "surface protein feature barcode",
          "CRISPR protospacer feature barcode",
          "TCR mRNA",
          "Tn5-accessible gDNA",
          "gDNA",
          "intracellular protein feature barcode",
          "poly(A) RNA",
          "rRNA-depleted RNA",
          "multiplexing oligo",
          "globin-depleted RNA"
        ]
      },
      "maxItems": 12
    },
    "softwareAndVersion": {
      "enum": [
        "Space Ranger 3.1.0",
        "Cell Ranger v7.0.0",
        "Cell Ranger v3.0.1",
        "Cell Ranger v6.1.2",
        "Cell Ranger v9.0.0",
        "Cell Ranger v3.1.0",
        "Cell Ranger v7.0.1",
        "Space Ranger 3.0.1",
        "Space Ranger 3.1.2",
        "Cell Ranger v5.0.1",
        "Cell Ranger v6.0.2",
        "Space Ranger 3.1.3",
        "Cell Ranger v6.0.0",
        "Cell Ranger v6.1.0",
        "Space Ranger 3.1.1",
        "Space Ranger 3.0.0",
        "Cell Ranger v7.1.0",
        "Cell Ranger v3.0.2",
        "Cell Ranger v8.0.1",
        "BD FACSDiva 8.0.1",
        "Cell Ranger v6.1.1",
        "Cell Ranger v6.0.1",
        "Cell Ranger v7.2.0",
        "Cell Ranger v4.0.0",
        "demuxlet",
        "Cell Ranger 9.0.1",
        "Cell Ranger v3.0.0",
        "Cell Ranger v8.0.0",
        "Cell Ranger ATAC v1.1.0",
        "Cell Ranger v5.0.0",
        ""
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "libraryPrepMethod": {
      "enum": [
        "SMART-Seq Human BCR with UMI",
        "QIAseq miRNA Library",
        "Nextera XT",
        "Takara Human scTCR profiling for Illumina",
        "10x Chromium Next GEM Single Cell 3'",
        "CEL-Seq2",
        "TruSeq Stranded mRNA",
        "10x Chromium Next GEM Single Cell 5' v1.1",
        "10x Chromium Fixed RNA Human Transcriptome",
        "Nextera XT DNA",
        "10x Chromium Single Cell Human TCR",
        "10x Chromium GEM-X Single Cell 5' v3",
        "Chromium Next GEM Single Cell ATAC v1.1",
        "NEBNext Ultra II Directional RNA Library",
        "Takara Human TCRv2 profiling for Illumina",
        "10x Chromium Single Cell Human BCR",
        "SMART-Seq Human TCR with UMI",
        "SMART-Seq v4 Ultra Low Input RNA",
        "NEBNext Human Immune Sequencing Kit",
        "Takara Human TCR profiling for Illumina",
        "10x GEM-X Flex Gene Expression Human",
        "10x Chromium Next GEM Single Cell 3' 3.1",
        "10x Chromium GEM-X Single Cell 3' v4",
        "Takara Human BCR profiling for Illumina",
        "in-house library prep",
        "Fluidigm C1 HT",
        "10x GEM-X Universal 5? Gene Expression v3",
        "custom DASH-treatment",
        "10x Chromium Next GEM Single Cell ATAC v2",
        "10x Chromium Next GEM Single Cell 5' v2",
        "SMARTer Stranded Total RNA v2"
      ]
    },
    "libraryID": {},
    "biospecimenID": {},
    "10xProbeSetReference": {
      "enum": [
        "custom probe set",
        "Flex Human Transcriptome Probe Set v1.1.0",
        "Visium Human Transcriptome v2",
        "Visium Human Transcriptome v1",
        "Flex Human Transcriptome Probe Set v1.0.1",
        ""
      ]
    }
  },
  "required": [
    "platform",
    "specimenModality",
    "totalReads",
    "alignmentReference",
    "assay",
    "nucleicAcidSource",
    "Component",
    "libraryPrepMethod"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "libraryID": {}
        },
        "required": [
          "libraryID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "libraryPrepMethod": {
            "enum": [
              "10x GEM-X Flex Gene Expression Human"
            ]
          }
        },
        "required": [
          "libraryPrepMethod"
        ]
      },
      "then": {
        "properties": {
          "10xProbeSetReference": {
            "enum": [
              "custom probe set",
              "Flex Human Transcriptome Probe Set v1.1.0",
              "Visium Human Transcriptome v2",
              "Visium Human Transcriptome v1",
              "Flex Human Transcriptome Probe Set v1.0.1"
            ]
          }
        },
        "required": [
          "10xProbeSetReference"
        ]
      }
    }
  ]
}