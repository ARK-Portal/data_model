{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "totalReads": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "platform": {
      "type": "array",
      "items": {
        "enum": [
          "CyTOF XT",
          "BD FACSDiscover A8",
          "Xenium",
          "Cytek Aurora",
          "Illumina NextSeq 500",
          "BD LSRFortessa",
          "Chromium Next GEM Chip K",
          "Chromium GEM-X Single Cell 3' Chip v4",
          "BD FACSCanto",
          "BD FACSMelody",
          "unknown",
          "Illumina HiSeq X Ten",
          "Olink Signature Q100",
          "Fluidigm BioMark",
          "none",
          "Chromium X",
          "Chromium Xo",
          "Illumina NovaSeq X",
          "Thermo Fisher Attune Xenith",
          "Chromium Next GEM Chip H",
          "Hyperion",
          "Chromium iX",
          "Illumina HiSeq 2500",
          "Thermo Fisher Attune NxT",
          "BD FACSLyric Clinical",
          "BD FACSAria Fusion cell sorter",
          "Not Applicable",
          "Visium CytAssist",
          "Chromium Next GEM Chip G",
          "GEM-X Flex Gene Expression Chip",
          "BD FACSAria III",
          "Chromium Next GEM Chip M",
          "Illumina NovaSeq 6000",
          "Sony MA900",
          "BD FACSCanto II",
          "GEM-X OCM 5' Chip",
          "BD FACSymphony S6",
          "Chromium Next GEM Chip Q",
          "Cytek Aurora Evo",
          "Thermo Fisher Attune CytPix",
          "Chromium Controller",
          "Helios Mass Cytometer",
          "BD FACSDiscover S8"
        ]
      },
      "maxItems": 43
    },
    "softwareAndVersion": {
      "enum": [
        "Cell Ranger 9.0.1",
        "Cell Ranger v3.1.0",
        "Cell Ranger v7.0.0",
        "Cell Ranger v6.0.1",
        "Cell Ranger v8.0.0",
        "Cell Ranger v7.1.0",
        "Space Ranger 3.0.0",
        "Cell Ranger v6.0.2",
        "Space Ranger 3.0.1",
        "Cell Ranger v9.0.0",
        "Cell Ranger v6.0.0",
        "Space Ranger 3.1.2",
        "Cell Ranger v3.0.1",
        "Cell Ranger v6.1.1",
        "BD FACSDiva 8.0.1",
        "Space Ranger 3.1.0",
        "Cell Ranger v4.0.0",
        "Cell Ranger v7.2.0",
        "Cell Ranger ATAC v1.1.0",
        "Cell Ranger v5.0.1",
        "Cell Ranger v7.0.1",
        "Cell Ranger v6.1.2",
        "Cell Ranger v6.1.0",
        "Cell Ranger v5.0.0",
        "Space Ranger 3.1.1",
        "Cell Ranger v3.0.0",
        "Cell Ranger v8.0.1",
        "demuxlet",
        "Cell Ranger v3.0.2",
        "Space Ranger 3.1.3",
        ""
      ]
    },
    "specimenModality": {
      "enum": [
        "single specimen",
        "multispecimen"
      ]
    },
    "alignmentReference": {
      "enum": [
        "vdj_GRCh38_alts_ensembl-4.0.0",
        "10x Cell Ranger Human GRCh38 2020-A",
        "10x Cell Ranger Human GRCh38 2024-A",
        "unknown"
      ]
    },
    "nucleicAcidSource": {
      "type": "array",
      "items": {
        "enum": [
          "BCR mRNA",
          "multiplexing oligo",
          "TCR mRNA",
          "rRNA-depleted RNA",
          "surface protein feature barcode",
          "antigen capture barcode",
          "intracellular protein feature barcode",
          "poly(A) RNA",
          "Tn5-accessible gDNA",
          "gDNA",
          "globin-depleted RNA",
          "CRISPR protospacer feature barcode"
        ]
      },
      "maxItems": 12
    },
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "scRNASeq",
          "Xenium",
          "CosMX",
          "H&E",
          "kiloplex",
          "NULISA",
          "RNASeq",
          "Olink Focus",
          "VDJSeq",
          "snATACSeq",
          "serial IHC",
          "SNP array",
          "Olink Reveal",
          "ASAPSeq",
          "Olink Target 96",
          "flow cytometry",
          "WGS",
          "multiplexed ELISA",
          "imaging mass cytometry",
          "snRNASeq",
          "WES",
          "imaging mass spectrometry",
          "CE-MS",
          "Olink Target 48",
          "scVDJSeq",
          "CITESeq",
          "feature barcode sequencing",
          "LC-MS/MS",
          "CyTOF",
          "SomaScan",
          "Olink Explore HT",
          "Olink Flex"
        ]
      },
      "maxItems": 32
    },
    "libraryPrepMethod": {
      "enum": [
        "10x Chromium GEM-X Single Cell 3' v4",
        "NEBNext Ultra II Directional RNA Library",
        "10x Chromium Fixed RNA Human Transcriptome",
        "SMART-Seq Human TCR with UMI",
        "TruSeq Stranded mRNA",
        "10x Chromium Next GEM Single Cell 5' v2",
        "Nextera XT",
        "custom DASH-treatment",
        "NEBNext Human Immune Sequencing Kit",
        "Nextera XT DNA",
        "QIAseq miRNA Library",
        "SMARTer Stranded Total RNA v2",
        "Takara Human BCR profiling for Illumina",
        "Chromium Next GEM Single Cell ATAC v1.1",
        "10x Chromium GEM-X Single Cell 5' v3",
        "SMART-Seq v4 Ultra Low Input RNA",
        "10x Chromium Single Cell Human TCR",
        "10x Chromium Next GEM Single Cell 3'",
        "10x Chromium Next GEM Single Cell 5' v1.1",
        "Fluidigm C1 HT",
        "10x Chromium Next GEM Single Cell 3' 3.1",
        "Takara Human scTCR profiling for Illumina",
        "10x GEM-X Universal 5? Gene Expression v3",
        "Takara Human TCRv2 profiling for Illumina",
        "10x GEM-X Flex Gene Expression Human",
        "Takara Human TCR profiling for Illumina",
        "10x Chromium Next GEM Single Cell ATAC v2",
        "CEL-Seq2",
        "SMART-Seq Human BCR with UMI",
        "10x Chromium Single Cell Human BCR",
        "in-house library prep"
      ]
    },
    "dataCollectionBatch": {},
    "sampleProcessingBatch": {},
    "biospecimenID": {},
    "libraryID": {},
    "10xProbeSetReference": {
      "enum": [
        "custom probe set",
        "Visium Human Transcriptome v2",
        "Flex Human Transcriptome Probe Set v1.1.0",
        "Visium Human Transcriptome v1",
        "Flex Human Transcriptome Probe Set v1.0.1",
        ""
      ]
    }
  },
  "required": [
    "Component",
    "totalReads",
    "platform",
    "specimenModality",
    "alignmentReference",
    "nucleicAcidSource",
    "assay",
    "libraryPrepMethod"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "libraryID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "libraryID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "libraryPrepMethod": {
            "enum": [
              "10x GEM-X Flex Gene Expression Human"
            ]
          }
        },
        "required": [
          "libraryPrepMethod"
        ]
      },
      "then": {
        "properties": {
          "10xProbeSetReference": {
            "enum": [
              "custom probe set",
              "Visium Human Transcriptome v2",
              "Flex Human Transcriptome Probe Set v1.1.0",
              "Visium Human Transcriptome v1",
              "Flex Human Transcriptome Probe Set v1.0.1"
            ]
          }
        },
        "required": [
          "10xProbeSetReference"
        ]
      }
    }
  ]
}