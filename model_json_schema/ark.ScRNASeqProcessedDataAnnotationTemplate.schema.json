{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "CITESeq",
          "Olink Focus",
          "NULISA",
          "Xenium",
          "imaging mass spectrometry",
          "Olink Target 48",
          "snATACSeq",
          "CosMX",
          "flow cytometry",
          "Visium",
          "VDJSeq",
          "serial IHC",
          "multiplexed ELISA",
          "WES",
          "CyTOF",
          "RNASeq",
          "Olink Reveal",
          "Olink Flex",
          "Olink Explore HT",
          "SomaScan",
          "ASAPSeq",
          "SNP array",
          "CE-MS",
          "GenePS SeqFISH",
          "kiloplex",
          "scRNASeq",
          "LC-MS/MS",
          "H&E",
          "imaging mass cytometry",
          "snRNASeq",
          "Olink Target 96",
          "WGS",
          "scVDJSeq",
          "feature barcode sequencing"
        ]
      },
      "maxItems": 34
    },
    "dataLevel": {
      "enum": [
        "1",
        "3",
        "4",
        "2",
        "5"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "cellRangerOutput": {
      "enum": [
        "filtered_peak_bc_matrix",
        "filtered MEX",
        "raw_peak_bc_matrix",
        "filtered_feature_bc_matrix",
        "raw_feature_bc_matrix",
        "Not Applicable",
        "raw MEX"
      ]
    },
    "resourceType": {
      "type": "array",
      "items": {
        "enum": [
          "metadata",
          "experimental data"
        ]
      },
      "maxItems": 2
    },
    "fileFormat": {
      "enum": [
        "bed",
        "h5ad",
        "zip",
        "tsv",
        "bam",
        "txt",
        "h5",
        "xlsx",
        "Rds",
        "fam",
        "mtx",
        "bim",
        "bai",
        "tgz",
        "csv",
        "xls"
      ]
    },
    "specimenModality": {
      "enum": [
        "single specimen",
        "multispecimen"
      ]
    },
    "targetPanelSynID": {},
    "targetPanelSize": {},
    "targetPanel": {},
    "metadataType": {
      "enum": [
        "single-cell metadata",
        ""
      ]
    },
    "processedDataType": {
      "type": "array",
      "items": {
        "enum": [
          "differential expression results",
          "gene counts",
          "epigenomic peaks",
          "barcode counts",
          ""
        ]
      },
      "maxItems": 4
    },
    "RObjectClass": {
      "enum": [
        "Symphony reference",
        "sparse matrix",
        "SummarizedExperiment",
        "data.frame",
        "matrix",
        "vector",
        "Seurat object",
        "list",
        "ROCR prediction.object",
        ""
      ]
    },
    "individualID": {},
    "biospecimenID": {}
  },
  "required": [
    "assay",
    "dataLevel",
    "Component",
    "cellRangerOutput",
    "resourceType",
    "fileFormat",
    "specimenModality"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "assay": {
            "enum": [
              "feature barcode sequencing"
            ]
          }
        },
        "required": [
          "assay"
        ]
      },
      "then": {
        "properties": {
          "targetPanelSynID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "targetPanelSynID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "assay": {
            "enum": [
              "feature barcode sequencing"
            ]
          }
        },
        "required": [
          "assay"
        ]
      },
      "then": {
        "properties": {
          "targetPanelSize": {}
        },
        "required": [
          "targetPanelSize"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "assay": {
            "enum": [
              "feature barcode sequencing"
            ]
          }
        },
        "required": [
          "assay"
        ]
      },
      "then": {
        "properties": {
          "targetPanel": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "targetPanel"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "metadata"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "metadataType": {
            "enum": [
              "single-cell metadata"
            ]
          }
        },
        "required": [
          "metadataType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "processedDataType": {
            "type": "array",
            "items": {
              "enum": [
                "differential expression results",
                "gene counts",
                "epigenomic peaks",
                "barcode counts",
                ""
              ]
            },
            "maxItems": 4
          }
        },
        "required": [
          "processedDataType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "fileFormat": {
            "enum": [
              "Rds"
            ]
          }
        },
        "required": [
          "fileFormat"
        ]
      },
      "then": {
        "properties": {
          "RObjectClass": {
            "enum": [
              "Symphony reference",
              "sparse matrix",
              "SummarizedExperiment",
              "data.frame",
              "matrix",
              "vector",
              "Seurat object",
              "list",
              "ROCR prediction.object",
              ""
            ]
          }
        },
        "required": [
          "RObjectClass"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "individualID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "individualID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    }
  ]
}