{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "Olink Flex",
          "Xenium",
          "RNASeq",
          "Olink Target 96",
          "snRNASeq",
          "Olink Focus",
          "feature barcode sequencing",
          "kiloplex",
          "scVDJSeq",
          "SNP array",
          "WES",
          "Visium",
          "scRNASeq",
          "serial IHC",
          "imaging mass spectrometry",
          "ASAPSeq",
          "NULISA",
          "VDJSeq",
          "GenePS SeqFISH",
          "CITESeq",
          "WGS",
          "LC-MS/MS",
          "Olink Explore HT",
          "H&E",
          "imaging mass cytometry",
          "Olink Reveal",
          "multiplexed ELISA",
          "SomaScan",
          "CyTOF",
          "CE-MS",
          "Olink Target 48",
          "CosMX",
          "flow cytometry",
          "snATACSeq"
        ]
      },
      "maxItems": 34
    },
    "dataLevel": {
      "enum": [
        "1",
        "5",
        "4",
        "3",
        "2"
      ]
    },
    "fileFormat": {
      "enum": [
        "tgz",
        "h5ad",
        "bim",
        "mtx",
        "Rds",
        "txt",
        "bed",
        "h5",
        "csv",
        "tsv",
        "fam",
        "bai",
        "xlsx",
        "bam",
        "zip",
        "xls"
      ]
    },
    "specimenModality": {
      "enum": [
        "multispecimen",
        "single specimen"
      ]
    },
    "cellRangerOutput": {
      "enum": [
        "filtered_feature_bc_matrix",
        "filtered_peak_bc_matrix",
        "raw_peak_bc_matrix",
        "raw_feature_bc_matrix",
        "raw MEX",
        "Not Applicable",
        "filtered MEX"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "resourceType": {
      "type": "array",
      "items": {
        "enum": [
          "experimental data",
          "metadata"
        ]
      },
      "maxItems": 2
    },
    "targetPanel": {},
    "targetPanelSize": {},
    "targetPanelSynID": {},
    "RObjectClass": {
      "enum": [
        "matrix",
        "list",
        "ROCR prediction.object",
        "Seurat object",
        "Symphony reference",
        "vector",
        "data.frame",
        "sparse matrix",
        "SummarizedExperiment",
        ""
      ]
    },
    "individualID": {},
    "biospecimenID": {},
    "processedDataType": {
      "type": "array",
      "items": {
        "enum": [
          "barcode counts",
          "epigenomic peaks",
          "differential expression results",
          "gene counts",
          ""
        ]
      },
      "maxItems": 4
    },
    "metadataType": {
      "enum": [
        "single-cell metadata",
        ""
      ]
    }
  },
  "required": [
    "assay",
    "dataLevel",
    "fileFormat",
    "specimenModality",
    "cellRangerOutput",
    "Component",
    "resourceType"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "assay": {
            "enum": [
              "feature barcode sequencing"
            ]
          }
        },
        "required": [
          "assay"
        ]
      },
      "then": {
        "properties": {
          "targetPanel": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "targetPanel"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "assay": {
            "enum": [
              "feature barcode sequencing"
            ]
          }
        },
        "required": [
          "assay"
        ]
      },
      "then": {
        "properties": {
          "targetPanelSize": {}
        },
        "required": [
          "targetPanelSize"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "assay": {
            "enum": [
              "feature barcode sequencing"
            ]
          }
        },
        "required": [
          "assay"
        ]
      },
      "then": {
        "properties": {
          "targetPanelSynID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "targetPanelSynID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "fileFormat": {
            "enum": [
              "Rds"
            ]
          }
        },
        "required": [
          "fileFormat"
        ]
      },
      "then": {
        "properties": {
          "RObjectClass": {
            "enum": [
              "matrix",
              "list",
              "ROCR prediction.object",
              "Seurat object",
              "Symphony reference",
              "vector",
              "data.frame",
              "sparse matrix",
              "SummarizedExperiment",
              ""
            ]
          }
        },
        "required": [
          "RObjectClass"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "individualID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "individualID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "processedDataType": {
            "type": "array",
            "items": {
              "enum": [
                "barcode counts",
                "epigenomic peaks",
                "differential expression results",
                "gene counts",
                ""
              ]
            },
            "maxItems": 4
          }
        },
        "required": [
          "processedDataType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "metadata"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "metadataType": {
            "enum": [
              "single-cell metadata"
            ]
          }
        },
        "required": [
          "metadataType"
        ]
      }
    }
  ]
}