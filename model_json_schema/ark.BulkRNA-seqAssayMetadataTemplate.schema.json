{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "project": {
      "enum": [
        "ELLIPSS",
        "AIM for RA",
        "LOCKIT",
        "STAMP",
        "RA",
        "SLE",
        "V-CoRT"
      ]
    },
    "platform": {
      "type": "array",
      "items": {
        "enum": [
          "BD FACSymphony S6",
          "Chromium GEM-X Single Cell 3' Chip v4",
          "CyTOF XT",
          "BD LSRFortessa",
          "Illumina NovaSeq X",
          "Thermo Fisher Attune CytPix",
          "Chromium Controller",
          "BD FACSCanto II",
          "Illumina NovaSeq 6000",
          "unknown",
          "GEM-X OCM 5' Chip",
          "Chromium Next GEM Chip G",
          "Thermo Fisher Attune Xenith",
          "BD FACSAria Fusion cell sorter",
          "Visium CytAssist",
          "BD FACSLyric Clinical",
          "Helios Mass Cytometer",
          "BD FACSDiscover S8",
          "Xenium",
          "Sony MA900",
          "Cytek Aurora",
          "Illumina NextSeq 500",
          "Chromium Next GEM Chip H",
          "none",
          "BD FACSMelody",
          "BD FACSAria III",
          "Illumina HiSeq 2500",
          "Chromium Next GEM Chip Q",
          "Chromium Xo",
          "Cytek Aurora Evo",
          "Not Applicable",
          "BD FACSDiscover A8",
          "Illumina HiSeq X Ten",
          "Chromium Next GEM Chip K",
          "Fluidigm BioMark",
          "Olink Signature Q100",
          "GEM-X Flex Gene Expression Chip",
          "Hyperion",
          "Chromium X",
          "Chromium iX",
          "Thermo Fisher Attune NxT",
          "BD FACSCanto",
          "Chromium Next GEM Chip M"
        ]
      },
      "maxItems": 43
    },
    "libraryPrepMethod": {
      "enum": [
        "10x Chromium Single Cell Human BCR",
        "Takara Human BCR profiling for Illumina",
        "NEBNext Ultra II Directional RNA Library",
        "Takara Human TCRv2 profiling for Illumina",
        "Nextera XT",
        "Takara Human TCR profiling for Illumina",
        "Chromium Next GEM Single Cell ATAC v1.1",
        "10x Chromium Next GEM Single Cell ATAC v2",
        "CEL-Seq2",
        "10x Chromium Next GEM Single Cell 3'",
        "SMARTer Stranded Total RNA v2",
        "Takara Human scTCR profiling for Illumina",
        "in-house library prep",
        "QIAseq miRNA Library",
        "10x Chromium Next GEM Single Cell 3' 3.1",
        "10x GEM-X Universal 5? Gene Expression v3",
        "10x Chromium Next GEM Single Cell 5' v1.1",
        "Nextera XT DNA",
        "SMART-Seq Human BCR with UMI",
        "10x Chromium Fixed RNA Human Transcriptome",
        "custom DASH-treatment",
        "10x GEM-X Flex Gene Expression Human",
        "10x Chromium GEM-X Single Cell 3' v4",
        "10x Chromium Single Cell Human TCR",
        "Fluidigm C1 HT",
        "SMART-Seq v4 Ultra Low Input RNA",
        "SMART-Seq Human TCR with UMI",
        "NEBNext Human Immune Sequencing Kit",
        "10x Chromium Next GEM Single Cell 5' v2",
        "TruSeq Stranded mRNA",
        "10x Chromium GEM-X Single Cell 5' v3"
      ]
    },
    "nucleicAcidSource": {
      "type": "array",
      "items": {
        "enum": [
          "TCR mRNA",
          "BCR mRNA",
          "rRNA-depleted RNA",
          "CRISPR protospacer feature barcode",
          "Tn5-accessible gDNA",
          "globin-depleted RNA",
          "surface protein feature barcode",
          "poly(A) RNA",
          "gDNA",
          "antigen capture barcode",
          "multiplexing oligo",
          "intracellular protein feature barcode"
        ]
      },
      "maxItems": 12
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "SNP array",
          "VDJSeq",
          "ASAPSeq",
          "WGS",
          "Olink Focus",
          "scRNASeq",
          "imaging mass spectrometry",
          "imaging mass cytometry",
          "snRNASeq",
          "Olink Explore HT",
          "CITESeq",
          "CyTOF",
          "LC-MS/MS",
          "flow cytometry",
          "Xenium",
          "snATACSeq",
          "NULISA",
          "multiplexed ELISA",
          "Olink Target 96",
          "serial IHC",
          "H&E",
          "feature barcode sequencing",
          "CE-MS",
          "Olink Target 48",
          "SomaScan",
          "Olink Flex",
          "WES",
          "Olink Reveal",
          "RNASeq",
          "CosMX",
          "scVDJSeq"
        ]
      },
      "maxItems": 31
    },
    "totalReads": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "softwareAndVersion": {
      "enum": [
        "Cell Ranger v3.0.1",
        "Space Ranger 3.0.1",
        "Cell Ranger v5.0.0",
        "Cell Ranger v7.0.1",
        "Space Ranger 3.1.1",
        "Cell Ranger ATAC v1.1.0",
        "Cell Ranger v6.1.2",
        "Cell Ranger v8.0.1",
        "Cell Ranger v6.1.0",
        "Space Ranger 3.1.2",
        "Cell Ranger v6.0.0",
        "Cell Ranger v9.0.0",
        "Cell Ranger v3.0.2",
        "Space Ranger 3.1.0",
        "BD FACSDiva 8.0.1",
        "Space Ranger 3.0.0",
        "demuxlet",
        "Cell Ranger v5.0.1",
        "Cell Ranger v3.0.0",
        "Cell Ranger v6.0.2",
        "Cell Ranger v7.1.0",
        "Cell Ranger v4.0.0",
        "Cell Ranger v7.0.0",
        "Cell Ranger 9.0.1",
        "Cell Ranger v3.1.0",
        "Cell Ranger v8.0.0",
        "Cell Ranger v6.0.1",
        "Space Ranger 3.1.3",
        "Cell Ranger v6.1.1",
        "Cell Ranger v7.2.0",
        ""
      ]
    },
    "sampleProcessingBatch": {},
    "program": {
      "enum": [
        "AMP AIM",
        "Community Contribution",
        "AMP RA/SLE"
      ]
    },
    "alignmentReference": {
      "enum": [
        "10x Cell Ranger Human GRCh38 2020-A",
        "vdj_GRCh38_alts_ensembl-4.0.0",
        "unknown",
        "10x Cell Ranger Human GRCh38 2024-A"
      ]
    },
    "dataCollectionBatch": {},
    "specimenModality": {
      "enum": [
        "multispecimen",
        "single specimen"
      ]
    },
    "10xProbeSetReference": {
      "enum": [
        "Flex Human Transcriptome Probe Set v1.1.0",
        "custom probe set",
        "Flex Human Transcriptome Probe Set v1.0.1",
        "Visium Human Transcriptome v2",
        "Visium Human Transcriptome v1",
        ""
      ]
    },
    "programPhase": {
      "enum": [
        "I",
        "II",
        ""
      ]
    },
    "libraryID": {},
    "biospecimenID": {}
  },
  "required": [
    "project",
    "platform",
    "libraryPrepMethod",
    "nucleicAcidSource",
    "Component",
    "assay",
    "totalReads",
    "program",
    "alignmentReference",
    "specimenModality"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "libraryPrepMethod": {
            "enum": [
              "10x GEM-X Flex Gene Expression Human"
            ]
          }
        },
        "required": [
          "libraryPrepMethod"
        ]
      },
      "then": {
        "properties": {
          "10xProbeSetReference": {
            "enum": [
              "Flex Human Transcriptome Probe Set v1.1.0",
              "custom probe set",
              "Flex Human Transcriptome Probe Set v1.0.1",
              "Visium Human Transcriptome v2",
              "Visium Human Transcriptome v1"
            ]
          }
        },
        "required": [
          "10xProbeSetReference"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP RA/SLE"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "programPhase": {
            "enum": [
              "I",
              "II"
            ]
          }
        },
        "required": [
          "programPhase"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "libraryID": {}
        },
        "required": [
          "libraryID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    }
  ]
}