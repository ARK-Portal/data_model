{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "sampleProcessingBatch": {},
    "alignmentReference": {
      "enum": [
        "vdj_GRCh38_alts_ensembl-4.0.0",
        "10x Cell Ranger Human GRCh38 2020-A",
        "unknown",
        "10x Cell Ranger Human GRCh38 2024-A"
      ]
    },
    "nucleicAcidSource": {
      "type": "array",
      "items": {
        "enum": [
          "surface protein feature barcode",
          "BCR mRNA",
          "CRISPR protospacer feature barcode",
          "gDNA",
          "Tn5-accessible gDNA",
          "TCR mRNA",
          "rRNA-depleted RNA",
          "intracellular protein feature barcode",
          "globin-depleted RNA",
          "multiplexing oligo",
          "antigen capture barcode",
          "poly(A) RNA"
        ]
      },
      "maxItems": 12
    },
    "totalReads": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "VDJSeq",
          "NULISA",
          "SNP array",
          "imaging mass cytometry",
          "ASAPSeq",
          "H&E",
          "LC-MS/MS",
          "CosMX",
          "Olink Target 96",
          "WES",
          "SomaScan",
          "CyTOF",
          "WGS",
          "feature barcode sequencing",
          "RNASeq",
          "Olink Flex",
          "flow cytometry",
          "CITESeq",
          "scVDJSeq",
          "scRNASeq",
          "Olink Focus",
          "Olink Explore HT",
          "snATACSeq",
          "multiplexed ELISA",
          "imaging mass spectrometry",
          "Olink Target 48",
          "Olink Reveal",
          "serial IHC",
          "snRNASeq",
          "Xenium",
          "CE-MS"
        ]
      },
      "maxItems": 31
    },
    "platform": {
      "type": "array",
      "items": {
        "enum": [
          "none",
          "BD FACSDiscover S8",
          "Fluidigm BioMark",
          "BD FACSymphony S6",
          "BD FACSDiscover A8",
          "Chromium GEM-X Single Cell 3' Chip v4",
          "BD FACSAria Fusion cell sorter",
          "Thermo Fisher Attune Xenith",
          "Illumina NextSeq 500",
          "GEM-X OCM 5' Chip",
          "Illumina HiSeq X Ten",
          "Chromium Next GEM Chip Q",
          "BD FACSCanto",
          "Cytek Aurora Evo",
          "Thermo Fisher Attune CytPix",
          "Chromium iX",
          "Cytek Aurora",
          "Chromium Next GEM Chip M",
          "Illumina NovaSeq 6000",
          "BD FACSLyric Clinical",
          "Thermo Fisher Attune NxT",
          "Hyperion",
          "Visium CytAssist",
          "BD LSRFortessa",
          "Illumina HiSeq 2500",
          "Illumina NovaSeq X",
          "Not Applicable",
          "Chromium Next GEM Chip H",
          "Chromium X",
          "Olink Signature Q100",
          "CyTOF XT",
          "Sony MA900",
          "BD FACSAria III",
          "Chromium Controller",
          "Chromium Next GEM Chip K",
          "unknown",
          "Helios Mass Cytometer",
          "Xenium",
          "Chromium Next GEM Chip G",
          "Chromium Xo",
          "BD FACSCanto II",
          "BD FACSMelody",
          "GEM-X Flex Gene Expression Chip"
        ]
      },
      "maxItems": 43
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "specimenModality": {
      "enum": [
        "single specimen",
        "multispecimen"
      ]
    },
    "dataCollectionBatch": {},
    "softwareAndVersion": {
      "enum": [
        "Cell Ranger v4.0.0",
        "Cell Ranger v6.1.0",
        "BD FACSDiva 8.0.1",
        "Cell Ranger v6.1.2",
        "Space Ranger 3.1.2",
        "Cell Ranger v6.0.2",
        "demuxlet",
        "Space Ranger 3.0.0",
        "Cell Ranger v7.0.0",
        "Cell Ranger v9.0.0",
        "Cell Ranger v8.0.1",
        "Cell Ranger v5.0.0",
        "Cell Ranger 9.0.1",
        "Cell Ranger v6.0.0",
        "Cell Ranger v3.1.0",
        "Space Ranger 3.1.1",
        "Cell Ranger v3.0.1",
        "Cell Ranger v5.0.1",
        "Cell Ranger v8.0.0",
        "Cell Ranger v6.1.1",
        "Cell Ranger v7.0.1",
        "Cell Ranger v3.0.2",
        "Cell Ranger v7.2.0",
        "Space Ranger 3.0.1",
        "Cell Ranger v3.0.0",
        "Space Ranger 3.1.0",
        "Cell Ranger v6.0.1",
        "Space Ranger 3.1.3",
        "Cell Ranger v7.1.0",
        "Cell Ranger ATAC v1.1.0",
        ""
      ]
    },
    "program": {
      "enum": [
        "AMP AIM",
        "Community Contribution",
        "AMP RA/SLE"
      ]
    },
    "libraryPrepMethod": {
      "enum": [
        "SMARTer Stranded Total RNA v2",
        "SMART-Seq v4 Ultra Low Input RNA",
        "Nextera XT",
        "Takara Human TCR profiling for Illumina",
        "QIAseq miRNA Library",
        "in-house library prep",
        "10x Chromium Next GEM Single Cell 3'",
        "Takara Human TCRv2 profiling for Illumina",
        "10x GEM-X Universal 5? Gene Expression v3",
        "10x Chromium Single Cell Human BCR",
        "SMART-Seq Human BCR with UMI",
        "NEBNext Ultra II Directional RNA Library",
        "10x Chromium GEM-X Single Cell 5' v3",
        "10x Chromium Next GEM Single Cell 5' v2",
        "10x GEM-X Flex Gene Expression Human",
        "Nextera XT DNA",
        "10x Chromium Next GEM Single Cell 5' v1.1",
        "custom DASH-treatment",
        "10x Chromium Fixed RNA Human Transcriptome",
        "NEBNext Human Immune Sequencing Kit",
        "CEL-Seq2",
        "10x Chromium Next GEM Single Cell ATAC v2",
        "10x Chromium GEM-X Single Cell 3' v4",
        "10x Chromium Single Cell Human TCR",
        "10x Chromium Next GEM Single Cell 3' 3.1",
        "TruSeq Stranded mRNA",
        "SMART-Seq Human TCR with UMI",
        "Takara Human scTCR profiling for Illumina",
        "Fluidigm C1 HT",
        "Chromium Next GEM Single Cell ATAC v1.1",
        "Takara Human BCR profiling for Illumina"
      ]
    },
    "project": {
      "enum": [
        "RA",
        "AIM for RA",
        "LOCKIT",
        "ELLIPSS",
        "V-CoRT",
        "STAMP",
        "SLE"
      ]
    },
    "biospecimenID": {},
    "libraryID": {},
    "programPhase": {
      "enum": [
        "I",
        "II",
        ""
      ]
    },
    "10xProbeSetReference": {
      "enum": [
        "Flex Human Transcriptome Probe Set v1.0.1",
        "Visium Human Transcriptome v1",
        "Flex Human Transcriptome Probe Set v1.1.0",
        "Visium Human Transcriptome v2",
        "custom probe set",
        ""
      ]
    }
  },
  "required": [
    "alignmentReference",
    "nucleicAcidSource",
    "totalReads",
    "assay",
    "platform",
    "Component",
    "specimenModality",
    "program",
    "libraryPrepMethod",
    "project"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "libraryID": {}
        },
        "required": [
          "libraryID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP RA/SLE"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "programPhase": {
            "enum": [
              "I",
              "II"
            ]
          }
        },
        "required": [
          "programPhase"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "libraryPrepMethod": {
            "enum": [
              "10x GEM-X Flex Gene Expression Human"
            ]
          }
        },
        "required": [
          "libraryPrepMethod"
        ]
      },
      "then": {
        "properties": {
          "10xProbeSetReference": {
            "enum": [
              "Flex Human Transcriptome Probe Set v1.0.1",
              "Visium Human Transcriptome v1",
              "Flex Human Transcriptome Probe Set v1.1.0",
              "Visium Human Transcriptome v2",
              "custom probe set"
            ]
          }
        },
        "required": [
          "10xProbeSetReference"
        ]
      }
    }
  ]
}