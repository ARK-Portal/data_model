{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "biospecimenSubtype": {
      "enum": [
        "fresh tissue",
        "FFPE tissue",
        "cell or tissue lysate",
        "flow-sorted cells",
        "cell suspension",
        "frozen tissue",
        "PFA-fixed tissue",
        "nuclei suspension",
        ""
      ]
    },
    "program": {
      "enum": [
        "AMP AIM",
        "Community Contribution",
        "AMP RA/SLE"
      ]
    },
    "visitID": {},
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "project": {
      "enum": [
        "STAMP",
        "LOCKIT",
        "RA",
        "SLE",
        "V-CoRT",
        "AIM for RA",
        "ELLIPSS"
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "skin biopsy",
        "plasma",
        "suction blister cells",
        "whole blood",
        "uvea",
        "none",
        "PBMCs",
        "urine",
        "suction blister fluid",
        "serum",
        "salivary gland",
        "kidney biopsy",
        "total leukocytes",
        "saliva",
        "skin swab",
        "synovial tissue",
        "synovial fluid",
        "fibroblast-like synoviocyte",
        "stool"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "parentBiospecimenID": {},
    "cellOntologyID": {},
    "FACSPopulation": {},
    "userDefinedCellType": {},
    "cellType": {},
    "anatomicalSite": {
      "enum": [
        "right hip joint",
        "right ankle joint",
        "right 2nd MTP joint",
        "right knee joint",
        "left knee joint",
        "right 3rd MCP joint",
        "unknown",
        "other site",
        "left wrist joint",
        "right 1st MTP joint",
        "left ankle joint",
        "left hip joint",
        "right 2nd MCP joint",
        "right wrist joint",
        "left 2nd MCP joint",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "healthy control",
        "lesional proximal",
        "non-lesional",
        "lesional",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "synovectomy",
        "arthroplasty",
        "unknown",
        "biopsy",
        ""
      ]
    },
    "krennLining": {},
    "krennSynovitisScore": {},
    "krennInflammatory": {},
    "krennStroma": {}
  },
  "required": [
    "program",
    "individualID",
    "project",
    "biospecimenID",
    "biospecimenType",
    "Component",
    "plateID"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "right ankle joint",
              "right 2nd MTP joint",
              "right knee joint",
              "left knee joint",
              "right 3rd MCP joint",
              "unknown",
              "other site",
              "left wrist joint",
              "right 1st MTP joint",
              "left ankle joint",
              "left hip joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "right ankle joint",
              "right 2nd MTP joint",
              "right knee joint",
              "left knee joint",
              "right 3rd MCP joint",
              "unknown",
              "other site",
              "left wrist joint",
              "right 1st MTP joint",
              "left ankle joint",
              "left hip joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "right ankle joint",
              "right 2nd MTP joint",
              "right knee joint",
              "left knee joint",
              "right 3rd MCP joint",
              "unknown",
              "other site",
              "left wrist joint",
              "right 1st MTP joint",
              "left ankle joint",
              "left hip joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "right ankle joint",
              "right 2nd MTP joint",
              "right knee joint",
              "left knee joint",
              "right 3rd MCP joint",
              "unknown",
              "other site",
              "left wrist joint",
              "right 1st MTP joint",
              "left ankle joint",
              "left hip joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "right ankle joint",
              "right 2nd MTP joint",
              "right knee joint",
              "left knee joint",
              "right 3rd MCP joint",
              "unknown",
              "other site",
              "left wrist joint",
              "right 1st MTP joint",
              "left ankle joint",
              "left hip joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional proximal",
              "non-lesional",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional proximal",
              "non-lesional",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional proximal",
              "non-lesional",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "arthroplasty",
              "unknown",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "arthroplasty",
              "unknown",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    }
  ]
}