{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "visitID": {},
    "parentBiospecimenID": {},
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "LOCKIT",
          "AIM for RA",
          "ELLIPSS",
          "RA",
          "STAMP",
          "SLE",
          "V-CoRT"
        ]
      },
      "maxItems": 7
    },
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "program": {
      "enum": [
        "AMP AIM",
        "AMP RA/SLE",
        "Community Contribution"
      ]
    },
    "biospecimenSubtype": {
      "enum": [
        "PFA-fixed tissue",
        "fresh tissue",
        "flow-sorted cells",
        "FFPE tissue",
        "cell or tissue lysate",
        "frozen tissue",
        "nuclei suspension",
        "cell suspension",
        ""
      ]
    },
    "biospecimenType": {
      "enum": [
        "skin biopsy",
        "skin swab",
        "uvea",
        "saliva",
        "kidney biopsy",
        "synovial tissue",
        "serum",
        "fibroblast-like synoviocyte",
        "stool",
        "PBMCs",
        "suction blister fluid",
        "urine",
        "salivary gland",
        "none",
        "suction blister cells",
        "total leukocytes",
        "whole blood",
        "synovial fluid",
        "plasma"
      ]
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "userDefinedCellType": {},
    "FACSPopulation": {},
    "cellType": {},
    "cellOntologyID": {},
    "anatomicalSite": {
      "enum": [
        "right 1st MTP joint",
        "left hip joint",
        "right 2nd MTP joint",
        "right 2nd MCP joint",
        "left knee joint",
        "left ankle joint",
        "right 3rd MCP joint",
        "right knee joint",
        "other site",
        "left wrist joint",
        "unknown",
        "left 2nd MCP joint",
        "right wrist joint",
        "right ankle joint",
        "right hip joint",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "lesional",
        "non-lesional",
        "lesional proximal",
        "healthy control",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "unknown",
        "biopsy",
        "arthroplasty",
        "synovectomy",
        ""
      ]
    },
    "krennStroma": {},
    "krennInflammatory": {},
    "krennSynovitisScore": {},
    "krennLining": {}
  },
  "required": [
    "biospecimenID",
    "project",
    "plateID",
    "Component",
    "program",
    "biospecimenType",
    "individualID"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "left hip joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left knee joint",
              "left ankle joint",
              "right 3rd MCP joint",
              "right knee joint",
              "other site",
              "left wrist joint",
              "unknown",
              "left 2nd MCP joint",
              "right wrist joint",
              "right ankle joint",
              "right hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "left hip joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left knee joint",
              "left ankle joint",
              "right 3rd MCP joint",
              "right knee joint",
              "other site",
              "left wrist joint",
              "unknown",
              "left 2nd MCP joint",
              "right wrist joint",
              "right ankle joint",
              "right hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "left hip joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left knee joint",
              "left ankle joint",
              "right 3rd MCP joint",
              "right knee joint",
              "other site",
              "left wrist joint",
              "unknown",
              "left 2nd MCP joint",
              "right wrist joint",
              "right ankle joint",
              "right hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "left hip joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left knee joint",
              "left ankle joint",
              "right 3rd MCP joint",
              "right knee joint",
              "other site",
              "left wrist joint",
              "unknown",
              "left 2nd MCP joint",
              "right wrist joint",
              "right ankle joint",
              "right hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "left hip joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left knee joint",
              "left ankle joint",
              "right 3rd MCP joint",
              "right knee joint",
              "other site",
              "left wrist joint",
              "unknown",
              "left 2nd MCP joint",
              "right wrist joint",
              "right ankle joint",
              "right hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "non-lesional",
              "lesional proximal",
              "healthy control"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "non-lesional",
              "lesional proximal",
              "healthy control"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "non-lesional",
              "lesional proximal",
              "healthy control"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "biopsy",
              "arthroplasty",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "biopsy",
              "arthroplasty",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    }
  ]
}