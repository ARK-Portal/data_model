{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "parentBiospecimenID": {},
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "total leukocytes",
        "suction blister cells",
        "uvea",
        "skin swab",
        "PBMCs",
        "synovial fluid",
        "suction blister fluid",
        "stool",
        "kidney biopsy",
        "none",
        "saliva",
        "whole blood",
        "skin biopsy",
        "salivary gland",
        "synovial tissue",
        "plasma",
        "urine",
        "serum",
        "fibroblast-like synoviocyte"
      ]
    },
    "biospecimenSubtype": {
      "enum": [
        "PFA-fixed tissue",
        "frozen tissue",
        "fresh tissue",
        "FFPE tissue",
        "cell or tissue lysate",
        "nuclei suspension",
        "flow-sorted cells",
        "cell suspension",
        ""
      ]
    },
    "project": {
      "enum": [
        "SLE",
        "LOCKIT",
        "STAMP",
        "RA",
        "ELLIPSS",
        "V-CoRT",
        "AIM for RA"
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "visitID": {},
    "program": {
      "enum": [
        "AMP RA/SLE",
        "AMP AIM",
        "Community Contribution"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "anatomicalSite": {
      "enum": [
        "left knee joint",
        "right ankle joint",
        "right 2nd MTP joint",
        "right 3rd MCP joint",
        "right 2nd MCP joint",
        "right knee joint",
        "left wrist joint",
        "other site",
        "left ankle joint",
        "right 1st MTP joint",
        "unknown",
        "left hip joint",
        "left 2nd MCP joint",
        "right hip joint",
        "right wrist joint",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "healthy control",
        "non-lesional",
        "lesional",
        "lesional proximal",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "unknown",
        "arthroplasty",
        "synovectomy",
        "biopsy",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "krennStroma": {},
    "krennInflammatory": {},
    "krennSynovitisScore": {},
    "krennLining": {},
    "cellType": {},
    "userDefinedCellType": {},
    "FACSPopulation": {},
    "cellOntologyID": {}
  },
  "required": [
    "individualID",
    "plateID",
    "biospecimenType",
    "project",
    "biospecimenID",
    "program",
    "Component"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left knee joint",
              "right ankle joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right knee joint",
              "left wrist joint",
              "other site",
              "left ankle joint",
              "right 1st MTP joint",
              "unknown",
              "left hip joint",
              "left 2nd MCP joint",
              "right hip joint",
              "right wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left knee joint",
              "right ankle joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right knee joint",
              "left wrist joint",
              "other site",
              "left ankle joint",
              "right 1st MTP joint",
              "unknown",
              "left hip joint",
              "left 2nd MCP joint",
              "right hip joint",
              "right wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left knee joint",
              "right ankle joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right knee joint",
              "left wrist joint",
              "other site",
              "left ankle joint",
              "right 1st MTP joint",
              "unknown",
              "left hip joint",
              "left 2nd MCP joint",
              "right hip joint",
              "right wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left knee joint",
              "right ankle joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right knee joint",
              "left wrist joint",
              "other site",
              "left ankle joint",
              "right 1st MTP joint",
              "unknown",
              "left hip joint",
              "left 2nd MCP joint",
              "right hip joint",
              "right wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left knee joint",
              "right ankle joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right knee joint",
              "left wrist joint",
              "other site",
              "left ankle joint",
              "right 1st MTP joint",
              "unknown",
              "left hip joint",
              "left 2nd MCP joint",
              "right hip joint",
              "right wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "non-lesional",
              "lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "non-lesional",
              "lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "non-lesional",
              "lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "arthroplasty",
              "synovectomy",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "arthroplasty",
              "synovectomy",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    }
  ]
}