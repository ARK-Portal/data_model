{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "parentBiospecimenID": {},
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "cell suspension",
        "fresh tissue",
        "cell or tissue lysate",
        "nuclei suspension",
        "frozen tissue",
        "FFPE tissue",
        "flow-sorted cells",
        "PFA-fixed tissue",
        ""
      ]
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "program": {
      "enum": [
        "Community Contribution",
        "AMP RA/SLE",
        "AMP AIM"
      ]
    },
    "visitID": {},
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "AIM for RA",
          "LOCKIT",
          "SLE",
          "STAMP",
          "ELLIPSS",
          "V-CoRT",
          "RA"
        ]
      },
      "maxItems": 7
    },
    "biospecimenType": {
      "enum": [
        "suction blister fluid",
        "skin swab",
        "none",
        "serum",
        "kidney biopsy",
        "saliva",
        "uvea",
        "fibroblast-like synoviocyte",
        "synovial fluid",
        "PBMCs",
        "whole blood",
        "skin biopsy",
        "total leukocytes",
        "suction blister cells",
        "stool",
        "synovial tissue",
        "urine",
        "salivary gland",
        "plasma"
      ]
    },
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "userDefinedCellType": {},
    "cellOntologyID": {},
    "cellType": {},
    "FACSPopulation": {},
    "skinSiteStatus": {
      "enum": [
        "healthy control",
        "lesional proximal",
        "lesional",
        "non-lesional",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "right 3rd MCP joint",
        "right hip joint",
        "left knee joint",
        "left ankle joint",
        "left hip joint",
        "other site",
        "right knee joint",
        "right wrist joint",
        "right 2nd MCP joint",
        "right 1st MTP joint",
        "right 2nd MTP joint",
        "left 2nd MCP joint",
        "right ankle joint",
        "unknown",
        "left wrist joint",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "synovectomy",
        "arthroplasty",
        "unknown",
        "biopsy",
        ""
      ]
    },
    "krennSynovitisScore": {},
    "krennLining": {},
    "krennStroma": {},
    "krennInflammatory": {}
  },
  "required": [
    "biospecimenID",
    "individualID",
    "program",
    "Component",
    "project",
    "biospecimenType",
    "plateID"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional proximal",
              "lesional",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional proximal",
              "lesional",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional proximal",
              "lesional",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "right hip joint",
              "left knee joint",
              "left ankle joint",
              "left hip joint",
              "other site",
              "right knee joint",
              "right wrist joint",
              "right 2nd MCP joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left 2nd MCP joint",
              "right ankle joint",
              "unknown",
              "left wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "right hip joint",
              "left knee joint",
              "left ankle joint",
              "left hip joint",
              "other site",
              "right knee joint",
              "right wrist joint",
              "right 2nd MCP joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left 2nd MCP joint",
              "right ankle joint",
              "unknown",
              "left wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "right hip joint",
              "left knee joint",
              "left ankle joint",
              "left hip joint",
              "other site",
              "right knee joint",
              "right wrist joint",
              "right 2nd MCP joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left 2nd MCP joint",
              "right ankle joint",
              "unknown",
              "left wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "right hip joint",
              "left knee joint",
              "left ankle joint",
              "left hip joint",
              "other site",
              "right knee joint",
              "right wrist joint",
              "right 2nd MCP joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left 2nd MCP joint",
              "right ankle joint",
              "unknown",
              "left wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "right hip joint",
              "left knee joint",
              "left ankle joint",
              "left hip joint",
              "other site",
              "right knee joint",
              "right wrist joint",
              "right 2nd MCP joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left 2nd MCP joint",
              "right ankle joint",
              "unknown",
              "left wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "arthroplasty",
              "unknown",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "arthroplasty",
              "unknown",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    }
  ]
}