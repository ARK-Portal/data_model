{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "parentBiospecimenID": {},
    "biospecimenSubtype": {
      "enum": [
        "fresh tissue",
        "nuclei suspension",
        "PFA-fixed tissue",
        "flow-sorted cells",
        "frozen tissue",
        "FFPE tissue",
        "cell suspension",
        "cell or tissue lysate",
        ""
      ]
    },
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "LOCKIT",
          "AIM for RA",
          "ELLIPSS",
          "STAMP",
          "V-CoRT",
          "SLE",
          "RA"
        ]
      },
      "maxItems": 7
    },
    "visitID": {},
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "none",
        "PBMCs",
        "plasma",
        "salivary gland",
        "skin biopsy",
        "whole blood",
        "uvea",
        "suction blister fluid",
        "saliva",
        "urine",
        "serum",
        "kidney biopsy",
        "total leukocytes",
        "synovial fluid",
        "synovial tissue",
        "fibroblast-like synoviocyte",
        "stool",
        "suction blister cells",
        "skin swab"
      ]
    },
    "program": {
      "enum": [
        "Community Contribution",
        "AMP AIM",
        "AMP RA/SLE"
      ]
    },
    "cellOntologyID": {},
    "userDefinedCellType": {},
    "cellType": {},
    "FACSPopulation": {},
    "skinSiteStatus": {
      "enum": [
        "lesional",
        "healthy control",
        "lesional proximal",
        "non-lesional",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "right 2nd MTP joint",
        "right 3rd MCP joint",
        "right ankle joint",
        "right hip joint",
        "right 1st MTP joint",
        "right knee joint",
        "right wrist joint",
        "left 2nd MCP joint",
        "left hip joint",
        "other site",
        "right 2nd MCP joint",
        "left knee joint",
        "unknown",
        "left ankle joint",
        "left wrist joint",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "biopsy",
        "synovectomy",
        "unknown",
        "arthroplasty",
        ""
      ]
    },
    "krennInflammatory": {},
    "krennSynovitisScore": {},
    "krennStroma": {},
    "krennLining": {}
  },
  "required": [
    "plateID",
    "project",
    "Component",
    "individualID",
    "biospecimenID",
    "biospecimenType",
    "program"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "healthy control",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "healthy control",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "healthy control",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right hip joint",
              "right 1st MTP joint",
              "right knee joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "left hip joint",
              "other site",
              "right 2nd MCP joint",
              "left knee joint",
              "unknown",
              "left ankle joint",
              "left wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right hip joint",
              "right 1st MTP joint",
              "right knee joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "left hip joint",
              "other site",
              "right 2nd MCP joint",
              "left knee joint",
              "unknown",
              "left ankle joint",
              "left wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right hip joint",
              "right 1st MTP joint",
              "right knee joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "left hip joint",
              "other site",
              "right 2nd MCP joint",
              "left knee joint",
              "unknown",
              "left ankle joint",
              "left wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right hip joint",
              "right 1st MTP joint",
              "right knee joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "left hip joint",
              "other site",
              "right 2nd MCP joint",
              "left knee joint",
              "unknown",
              "left ankle joint",
              "left wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right hip joint",
              "right 1st MTP joint",
              "right knee joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "left hip joint",
              "other site",
              "right 2nd MCP joint",
              "left knee joint",
              "unknown",
              "left ankle joint",
              "left wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "synovectomy",
              "unknown",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "synovectomy",
              "unknown",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    }
  ]
}