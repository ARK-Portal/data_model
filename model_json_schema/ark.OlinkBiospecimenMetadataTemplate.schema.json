{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "visitID": {},
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "LOCKIT",
          "STAMP",
          "ELLIPSS",
          "V-CoRT",
          "AIM for RA",
          "SLE",
          "RA"
        ]
      },
      "maxItems": 7
    },
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "parentBiospecimenID": {},
    "program": {
      "enum": [
        "Community Contribution",
        "AMP RA/SLE",
        "AMP AIM"
      ]
    },
    "biospecimenType": {
      "enum": [
        "uvea",
        "PBMCs",
        "synovial tissue",
        "synovial fluid",
        "skin biopsy",
        "total leukocytes",
        "urine",
        "suction blister fluid",
        "saliva",
        "serum",
        "salivary gland",
        "fibroblast-like synoviocyte",
        "stool",
        "none",
        "kidney biopsy",
        "plasma",
        "suction blister cells",
        "skin swab",
        "whole blood"
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "PFA-fixed tissue",
        "FFPE tissue",
        "nuclei suspension",
        "frozen tissue",
        "fresh tissue",
        "flow-sorted cells",
        "cell or tissue lysate",
        "cell suspension",
        ""
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "krennInflammatory": {},
    "krennStroma": {},
    "synovialCollectionProcedure": {
      "enum": [
        "biopsy",
        "synovectomy",
        "unknown",
        "arthroplasty",
        ""
      ]
    },
    "krennLining": {},
    "anatomicalSite": {
      "enum": [
        "right knee joint",
        "left 2nd MCP joint",
        "left hip joint",
        "right 2nd MTP joint",
        "left ankle joint",
        "left knee joint",
        "other site",
        "right 3rd MCP joint",
        "unknown",
        "right 1st MTP joint",
        "right ankle joint",
        "right hip joint",
        "left wrist joint",
        "right 2nd MCP joint",
        "right wrist joint",
        ""
      ]
    },
    "krennSynovitisScore": {},
    "skinSiteStatus": {
      "enum": [
        "healthy control",
        "non-lesional",
        "lesional proximal",
        "lesional",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "cellType": {},
    "userDefinedCellType": {},
    "FACSPopulation": {},
    "cellOntologyID": {}
  },
  "required": [
    "individualID",
    "project",
    "plateID",
    "program",
    "biospecimenType",
    "biospecimenID",
    "Component"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "synovectomy",
              "unknown",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "synovectomy",
              "unknown",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left 2nd MCP joint",
              "left hip joint",
              "right 2nd MTP joint",
              "left ankle joint",
              "left knee joint",
              "other site",
              "right 3rd MCP joint",
              "unknown",
              "right 1st MTP joint",
              "right ankle joint",
              "right hip joint",
              "left wrist joint",
              "right 2nd MCP joint",
              "right wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left 2nd MCP joint",
              "left hip joint",
              "right 2nd MTP joint",
              "left ankle joint",
              "left knee joint",
              "other site",
              "right 3rd MCP joint",
              "unknown",
              "right 1st MTP joint",
              "right ankle joint",
              "right hip joint",
              "left wrist joint",
              "right 2nd MCP joint",
              "right wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left 2nd MCP joint",
              "left hip joint",
              "right 2nd MTP joint",
              "left ankle joint",
              "left knee joint",
              "other site",
              "right 3rd MCP joint",
              "unknown",
              "right 1st MTP joint",
              "right ankle joint",
              "right hip joint",
              "left wrist joint",
              "right 2nd MCP joint",
              "right wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left 2nd MCP joint",
              "left hip joint",
              "right 2nd MTP joint",
              "left ankle joint",
              "left knee joint",
              "other site",
              "right 3rd MCP joint",
              "unknown",
              "right 1st MTP joint",
              "right ankle joint",
              "right hip joint",
              "left wrist joint",
              "right 2nd MCP joint",
              "right wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left 2nd MCP joint",
              "left hip joint",
              "right 2nd MTP joint",
              "left ankle joint",
              "left knee joint",
              "other site",
              "right 3rd MCP joint",
              "unknown",
              "right 1st MTP joint",
              "right ankle joint",
              "right hip joint",
              "left wrist joint",
              "right 2nd MCP joint",
              "right wrist joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "non-lesional",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "non-lesional",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "non-lesional",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    }
  ]
}