{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "LOCKIT",
          "V-CoRT",
          "STAMP",
          "AIM for RA",
          "ELLIPSS",
          "SLE",
          "RA"
        ]
      },
      "maxItems": 7
    },
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "cell suspension",
        "cell or tissue lysate",
        "flow-sorted cells",
        "fresh tissue",
        "PFA-fixed tissue",
        "nuclei suspension",
        "frozen tissue",
        "FFPE tissue",
        ""
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "kidney biopsy",
        "saliva",
        "uvea",
        "PBMCs",
        "total leukocytes",
        "plasma",
        "synovial tissue",
        "suction blister fluid",
        "urine",
        "whole blood",
        "synovial fluid",
        "salivary gland",
        "serum",
        "fibroblast-like synoviocyte",
        "skin biopsy",
        "suction blister cells",
        "stool",
        "skin swab",
        "none"
      ]
    },
    "parentBiospecimenID": {},
    "visitID": {},
    "program": {
      "enum": [
        "Community Contribution",
        "AMP RA/SLE",
        "AMP AIM"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "userDefinedCellType": {},
    "cellOntologyID": {},
    "cellType": {},
    "FACSPopulation": {},
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    },
    "krennInflammatory": {},
    "krennSynovitisScore": {},
    "anatomicalSite": {
      "enum": [
        "right knee joint",
        "left ankle joint",
        "other site",
        "right 3rd MCP joint",
        "unknown",
        "right hip joint",
        "left hip joint",
        "right wrist joint",
        "right 1st MTP joint",
        "right 2nd MTP joint",
        "right ankle joint",
        "left wrist joint",
        "left 2nd MCP joint",
        "left knee joint",
        "right 2nd MCP joint",
        ""
      ]
    },
    "krennStroma": {},
    "krennLining": {},
    "synovialCollectionProcedure": {
      "enum": [
        "unknown",
        "biopsy",
        "arthroplasty",
        "synovectomy",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "non-lesional",
        "healthy control",
        "lesional",
        "lesional proximal",
        ""
      ]
    }
  },
  "required": [
    "project",
    "plateID",
    "biospecimenID",
    "individualID",
    "biospecimenType",
    "program",
    "Component"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left ankle joint",
              "other site",
              "right 3rd MCP joint",
              "unknown",
              "right hip joint",
              "left hip joint",
              "right wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "left wrist joint",
              "left 2nd MCP joint",
              "left knee joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left ankle joint",
              "other site",
              "right 3rd MCP joint",
              "unknown",
              "right hip joint",
              "left hip joint",
              "right wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "left wrist joint",
              "left 2nd MCP joint",
              "left knee joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left ankle joint",
              "other site",
              "right 3rd MCP joint",
              "unknown",
              "right hip joint",
              "left hip joint",
              "right wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "left wrist joint",
              "left 2nd MCP joint",
              "left knee joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left ankle joint",
              "other site",
              "right 3rd MCP joint",
              "unknown",
              "right hip joint",
              "left hip joint",
              "right wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "left wrist joint",
              "left 2nd MCP joint",
              "left knee joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left ankle joint",
              "other site",
              "right 3rd MCP joint",
              "unknown",
              "right hip joint",
              "left hip joint",
              "right wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "left wrist joint",
              "left 2nd MCP joint",
              "left knee joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "biopsy",
              "arthroplasty",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "biopsy",
              "arthroplasty",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "healthy control",
              "lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "healthy control",
              "lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "healthy control",
              "lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    }
  ]
}