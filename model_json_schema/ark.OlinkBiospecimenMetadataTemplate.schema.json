{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/example",
  "title": "example",
  "type": "object",
  "properties": {
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "project": {
      "enum": [
        "RA",
        "STAMP",
        "AIM for RA",
        "LOCKIT",
        "V-CoRT",
        "SLE",
        "ELLIPSS"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "program": {
      "enum": [
        "AMP RA/SLE",
        "AMP AIM",
        "Community Contribution"
      ]
    },
    "biospecimenType": {
      "type": "array",
      "items": {
        "enum": [
          "fibroblast-like synoviocyte",
          "skin swab",
          "none",
          "kidney biopsy",
          "synovial fluid",
          "saliva",
          "salivary gland",
          "suction blister fluid",
          "urine",
          "suction blister cells",
          "serum",
          "PBMCs",
          "total leukocytes",
          "synovial tissue",
          "stool",
          "plasma",
          "uvea",
          "whole blood",
          "skin biopsy"
        ]
      },
      "maxItems": 19
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "visitID": {},
    "parentBiospecimenID": {},
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "FFPE tissue",
        "cell suspension",
        "fresh tissue",
        "PFA-fixed tissue",
        "frozen tissue",
        "nuclei suspension",
        "flow-sorted cells",
        ""
      ]
    },
    "programPhase": {
      "enum": [
        "II",
        "I",
        ""
      ]
    }
  },
  "required": [
    "plateID",
    "project",
    "Component",
    "program",
    "biospecimenType",
    "individualID",
    "biospecimenID"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP RA/SLE"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "programPhase": {
            "enum": [
              "II",
              "I"
            ]
          }
        },
        "required": [
          "programPhase"
        ]
      }
    }
  ]
}