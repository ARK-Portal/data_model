{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "program": {
      "enum": [
        "AMP RA/SLE",
        "Community Contribution",
        "AMP AIM"
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "cell suspension",
        "frozen tissue",
        "cell or tissue lysate",
        "FFPE tissue",
        "nuclei suspension",
        "flow-sorted cells",
        "fresh tissue",
        "PFA-fixed tissue",
        ""
      ]
    },
    "parentBiospecimenID": {},
    "visitID": {},
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "AIM for RA",
          "RA",
          "ELLIPSS",
          "STAMP",
          "SLE",
          "LOCKIT",
          "V-CoRT"
        ]
      },
      "maxItems": 7
    },
    "biospecimenType": {
      "enum": [
        "serum",
        "total leukocytes",
        "suction blister fluid",
        "synovial fluid",
        "none",
        "whole blood",
        "skin biopsy",
        "PBMCs",
        "kidney biopsy",
        "salivary gland",
        "plasma",
        "fibroblast-like synoviocyte",
        "skin swab",
        "suction blister cells",
        "uvea",
        "urine",
        "stool",
        "synovial tissue",
        "saliva"
      ]
    },
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "cellType": {},
    "userDefinedCellType": {},
    "cellOntologyID": {},
    "FACSPopulation": {},
    "anatomicalSite": {
      "enum": [
        "left wrist joint",
        "other site",
        "right knee joint",
        "right 2nd MTP joint",
        "left ankle joint",
        "left hip joint",
        "right 3rd MCP joint",
        "right ankle joint",
        "right wrist joint",
        "right hip joint",
        "left knee joint",
        "right 1st MTP joint",
        "unknown",
        "right 2nd MCP joint",
        "left 2nd MCP joint",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "lesional proximal",
        "healthy control",
        "lesional",
        "non-lesional",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "biopsy",
        "synovectomy",
        "arthroplasty",
        "unknown",
        ""
      ]
    },
    "krennInflammatory": {},
    "krennSynovitisScore": {},
    "krennLining": {},
    "krennStroma": {},
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    }
  },
  "required": [
    "program",
    "biospecimenID",
    "Component",
    "individualID",
    "project",
    "biospecimenType",
    "plateID"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "other site",
              "right knee joint",
              "right 2nd MTP joint",
              "left ankle joint",
              "left hip joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right wrist joint",
              "right hip joint",
              "left knee joint",
              "right 1st MTP joint",
              "unknown",
              "right 2nd MCP joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "other site",
              "right knee joint",
              "right 2nd MTP joint",
              "left ankle joint",
              "left hip joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right wrist joint",
              "right hip joint",
              "left knee joint",
              "right 1st MTP joint",
              "unknown",
              "right 2nd MCP joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "other site",
              "right knee joint",
              "right 2nd MTP joint",
              "left ankle joint",
              "left hip joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right wrist joint",
              "right hip joint",
              "left knee joint",
              "right 1st MTP joint",
              "unknown",
              "right 2nd MCP joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "other site",
              "right knee joint",
              "right 2nd MTP joint",
              "left ankle joint",
              "left hip joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right wrist joint",
              "right hip joint",
              "left knee joint",
              "right 1st MTP joint",
              "unknown",
              "right 2nd MCP joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "other site",
              "right knee joint",
              "right 2nd MTP joint",
              "left ankle joint",
              "left hip joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right wrist joint",
              "right hip joint",
              "left knee joint",
              "right 1st MTP joint",
              "unknown",
              "right 2nd MCP joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "lesional",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "lesional",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "lesional",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "synovectomy",
              "arthroplasty",
              "unknown"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "synovectomy",
              "arthroplasty",
              "unknown"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    }
  ]
}