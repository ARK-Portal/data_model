{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "biospecimenType": {
      "enum": [
        "fibroblast-like synoviocyte",
        "serum",
        "suction blister cells",
        "none",
        "synovial fluid",
        "plasma",
        "suction blister fluid",
        "uvea",
        "salivary gland",
        "PBMCs",
        "saliva",
        "kidney biopsy",
        "skin biopsy",
        "whole blood",
        "skin swab",
        "total leukocytes",
        "synovial tissue",
        "stool",
        "urine"
      ]
    },
    "project": {
      "enum": [
        "LOCKIT",
        "AIM for RA",
        "SLE",
        "ELLIPSS",
        "STAMP",
        "RA",
        "V-CoRT"
      ]
    },
    "biospecimenSubtype": {
      "enum": [
        "flow-sorted cells",
        "cell or tissue lysate",
        "nuclei suspension",
        "cell suspension",
        "PFA-fixed tissue",
        "fresh tissue",
        "frozen tissue",
        "FFPE tissue",
        ""
      ]
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "visitID": {},
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "parentBiospecimenID": {},
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "program": {
      "enum": [
        "Community Contribution",
        "AMP AIM",
        "AMP RA/SLE"
      ]
    },
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "anatomicalSite": {
      "enum": [
        "left 2nd MCP joint",
        "right 1st MTP joint",
        "left wrist joint",
        "right knee joint",
        "left ankle joint",
        "right ankle joint",
        "left hip joint",
        "right 3rd MCP joint",
        "unknown",
        "left knee joint",
        "other site",
        "right hip joint",
        "right wrist joint",
        "right 2nd MTP joint",
        "right 2nd MCP joint",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "lesional proximal",
        "healthy control",
        "lesional",
        "non-lesional",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "arthroplasty",
        "biopsy",
        "unknown",
        "synovectomy",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "krennInflammatory": {},
    "krennLining": {},
    "krennStroma": {},
    "krennSynovitisScore": {},
    "cellType": {},
    "FACSPopulation": {},
    "userDefinedCellType": {},
    "cellOntologyID": {}
  },
  "required": [
    "biospecimenType",
    "project",
    "individualID",
    "biospecimenID",
    "Component",
    "program",
    "plateID"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right knee joint",
              "left ankle joint",
              "right ankle joint",
              "left hip joint",
              "right 3rd MCP joint",
              "unknown",
              "left knee joint",
              "other site",
              "right hip joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right knee joint",
              "left ankle joint",
              "right ankle joint",
              "left hip joint",
              "right 3rd MCP joint",
              "unknown",
              "left knee joint",
              "other site",
              "right hip joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right knee joint",
              "left ankle joint",
              "right ankle joint",
              "left hip joint",
              "right 3rd MCP joint",
              "unknown",
              "left knee joint",
              "other site",
              "right hip joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right knee joint",
              "left ankle joint",
              "right ankle joint",
              "left hip joint",
              "right 3rd MCP joint",
              "unknown",
              "left knee joint",
              "other site",
              "right hip joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right knee joint",
              "left ankle joint",
              "right ankle joint",
              "left hip joint",
              "right 3rd MCP joint",
              "unknown",
              "left knee joint",
              "other site",
              "right hip joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "lesional",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "lesional",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "lesional",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "biopsy",
              "unknown",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "biopsy",
              "unknown",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    }
  ]
}