{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "visitID": {},
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "program": {
      "enum": [
        "Community Contribution",
        "AMP RA/SLE",
        "AMP AIM"
      ]
    },
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "RA",
          "LOCKIT",
          "STAMP",
          "V-CoRT",
          "ELLIPSS",
          "AIM for RA",
          "SLE"
        ]
      },
      "maxItems": 7
    },
    "parentBiospecimenID": {},
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "plasma",
        "PBMCs",
        "uvea",
        "serum",
        "stool",
        "none",
        "fibroblast-like synoviocyte",
        "kidney biopsy",
        "whole blood",
        "urine",
        "suction blister fluid",
        "total leukocytes",
        "synovial tissue",
        "synovial fluid",
        "salivary gland",
        "suction blister cells",
        "skin swab",
        "saliva",
        "skin biopsy"
      ]
    },
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "fresh tissue",
        "nuclei suspension",
        "cell suspension",
        "frozen tissue",
        "FFPE tissue",
        "flow-sorted cells",
        "PFA-fixed tissue",
        "cell or tissue lysate",
        ""
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "skinSiteStatus": {
      "enum": [
        "healthy control",
        "lesional proximal",
        "non-lesional",
        "lesional",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "right ankle joint",
        "right wrist joint",
        "right 1st MTP joint",
        "right knee joint",
        "left wrist joint",
        "right hip joint",
        "left ankle joint",
        "right 3rd MCP joint",
        "left knee joint",
        "left hip joint",
        "right 2nd MCP joint",
        "left 2nd MCP joint",
        "right 2nd MTP joint",
        "other site",
        "unknown",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "biopsy",
        "arthroplasty",
        "synovectomy",
        "unknown",
        ""
      ]
    },
    "krennLining": {},
    "krennInflammatory": {},
    "krennSynovitisScore": {},
    "krennStroma": {},
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    },
    "cellType": {},
    "cellOntologyID": {},
    "userDefinedCellType": {},
    "FACSPopulation": {}
  },
  "required": [
    "individualID",
    "program",
    "project",
    "Component",
    "biospecimenType",
    "plateID",
    "biospecimenID"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional proximal",
              "non-lesional",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional proximal",
              "non-lesional",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional proximal",
              "non-lesional",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "right wrist joint",
              "right 1st MTP joint",
              "right knee joint",
              "left wrist joint",
              "right hip joint",
              "left ankle joint",
              "right 3rd MCP joint",
              "left knee joint",
              "left hip joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "right 2nd MTP joint",
              "other site",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "right wrist joint",
              "right 1st MTP joint",
              "right knee joint",
              "left wrist joint",
              "right hip joint",
              "left ankle joint",
              "right 3rd MCP joint",
              "left knee joint",
              "left hip joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "right 2nd MTP joint",
              "other site",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "right wrist joint",
              "right 1st MTP joint",
              "right knee joint",
              "left wrist joint",
              "right hip joint",
              "left ankle joint",
              "right 3rd MCP joint",
              "left knee joint",
              "left hip joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "right 2nd MTP joint",
              "other site",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "right wrist joint",
              "right 1st MTP joint",
              "right knee joint",
              "left wrist joint",
              "right hip joint",
              "left ankle joint",
              "right 3rd MCP joint",
              "left knee joint",
              "left hip joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "right 2nd MTP joint",
              "other site",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "right wrist joint",
              "right 1st MTP joint",
              "right knee joint",
              "left wrist joint",
              "right hip joint",
              "left ankle joint",
              "right 3rd MCP joint",
              "left knee joint",
              "left hip joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "right 2nd MTP joint",
              "other site",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "arthroplasty",
              "synovectomy",
              "unknown"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "arthroplasty",
              "synovectomy",
              "unknown"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    }
  ]
}