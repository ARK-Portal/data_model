{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/example",
  "title": "example",
  "type": "object",
  "properties": {
    "program": {
      "enum": [
        "Community Contribution",
        "AMP RA/SLE",
        "AMP AIM"
      ]
    },
    "project": {
      "enum": [
        "SLE",
        "AIM for RA",
        "V-CoRT",
        "STAMP",
        "RA",
        "ELLIPSS",
        "LOCKIT"
      ]
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "frozen tissue",
        "nuclei suspension",
        "flow-sorted cells",
        "FFPE tissue",
        "cell or tissue lysate",
        "cell suspension",
        "PFA-fixed tissue",
        "fresh tissue",
        ""
      ]
    },
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "skin biopsy",
        "plasma",
        "synovial fluid",
        "whole blood",
        "kidney biopsy",
        "synovial tissue",
        "fibroblast-like synoviocyte",
        "saliva",
        "PBMCs",
        "salivary gland",
        "stool",
        "skin swab",
        "serum",
        "suction blister cells",
        "total leukocytes",
        "uvea",
        "urine",
        "none",
        "suction blister fluid"
      ]
    },
    "visitID": {},
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "parentBiospecimenID": {},
    "FACSPopulation": {},
    "cellType": {},
    "userDefinedCellType": {},
    "cellOntologyID": {},
    "skinSiteStatus": {
      "enum": [
        "lesional",
        "non-lesional",
        "healthy control",
        "lesional proximal",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "right hip joint",
        "right 2nd MTP joint",
        "right wrist joint",
        "left ankle joint",
        "right knee joint",
        "left 2nd MCP joint",
        "left wrist joint",
        "right 1st MTP joint",
        "left knee joint",
        "other site",
        "right 2nd MCP joint",
        "left hip joint",
        "unknown",
        "right ankle joint",
        "right 3rd MCP joint",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "biopsy",
        "synovectomy",
        "unknown",
        "arthroplasty",
        ""
      ]
    },
    "krennStroma": {},
    "krennSynovitisScore": {},
    "krennLining": {},
    "krennInflammatory": {},
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    }
  },
  "required": [
    "program",
    "project",
    "individualID",
    "Component",
    "plateID",
    "biospecimenType",
    "biospecimenID"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "non-lesional",
              "healthy control",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "non-lesional",
              "healthy control",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "non-lesional",
              "healthy control",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "right 2nd MTP joint",
              "right wrist joint",
              "left ankle joint",
              "right knee joint",
              "left 2nd MCP joint",
              "left wrist joint",
              "right 1st MTP joint",
              "left knee joint",
              "other site",
              "right 2nd MCP joint",
              "left hip joint",
              "unknown",
              "right ankle joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "right 2nd MTP joint",
              "right wrist joint",
              "left ankle joint",
              "right knee joint",
              "left 2nd MCP joint",
              "left wrist joint",
              "right 1st MTP joint",
              "left knee joint",
              "other site",
              "right 2nd MCP joint",
              "left hip joint",
              "unknown",
              "right ankle joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "right 2nd MTP joint",
              "right wrist joint",
              "left ankle joint",
              "right knee joint",
              "left 2nd MCP joint",
              "left wrist joint",
              "right 1st MTP joint",
              "left knee joint",
              "other site",
              "right 2nd MCP joint",
              "left hip joint",
              "unknown",
              "right ankle joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "right 2nd MTP joint",
              "right wrist joint",
              "left ankle joint",
              "right knee joint",
              "left 2nd MCP joint",
              "left wrist joint",
              "right 1st MTP joint",
              "left knee joint",
              "other site",
              "right 2nd MCP joint",
              "left hip joint",
              "unknown",
              "right ankle joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "right 2nd MTP joint",
              "right wrist joint",
              "left ankle joint",
              "right knee joint",
              "left 2nd MCP joint",
              "left wrist joint",
              "right 1st MTP joint",
              "left knee joint",
              "other site",
              "right 2nd MCP joint",
              "left hip joint",
              "unknown",
              "right ankle joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "synovectomy",
              "unknown",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "synovectomy",
              "unknown",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    }
  ]
}