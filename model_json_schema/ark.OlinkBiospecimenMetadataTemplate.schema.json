{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "parentBiospecimenID": {},
    "biospecimenSubtype": {
      "enum": [
        "PFA-fixed tissue",
        "fresh tissue",
        "flow-sorted cells",
        "cell suspension",
        "FFPE tissue",
        "frozen tissue",
        "nuclei suspension",
        "cell or tissue lysate",
        ""
      ]
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "visitID": {},
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "program": {
      "enum": [
        "Community Contribution",
        "AMP AIM",
        "AMP RA/SLE"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "saliva",
        "suction blister cells",
        "none",
        "suction blister fluid",
        "PBMCs",
        "whole blood",
        "total leukocytes",
        "kidney biopsy",
        "skin swab",
        "synovial fluid",
        "uvea",
        "synovial tissue",
        "fibroblast-like synoviocyte",
        "urine",
        "stool",
        "salivary gland",
        "serum",
        "skin biopsy",
        "plasma"
      ]
    },
    "project": {
      "enum": [
        "RA",
        "ELLIPSS",
        "SLE",
        "AIM for RA",
        "V-CoRT",
        "LOCKIT",
        "STAMP"
      ]
    },
    "cellType": {},
    "userDefinedCellType": {},
    "cellOntologyID": {},
    "FACSPopulation": {},
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "right 3rd MCP joint",
        "left ankle joint",
        "right hip joint",
        "right ankle joint",
        "right knee joint",
        "right wrist joint",
        "other site",
        "left knee joint",
        "right 2nd MCP joint",
        "unknown",
        "left wrist joint",
        "right 1st MTP joint",
        "right 2nd MTP joint",
        "left hip joint",
        "left 2nd MCP joint",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "healthy control",
        "lesional",
        "non-lesional",
        "lesional proximal",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "unknown",
        "arthroplasty",
        "synovectomy",
        "biopsy",
        ""
      ]
    },
    "krennInflammatory": {},
    "krennSynovitisScore": {},
    "krennStroma": {},
    "krennLining": {}
  },
  "required": [
    "plateID",
    "individualID",
    "biospecimenID",
    "program",
    "Component",
    "biospecimenType",
    "project"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "left ankle joint",
              "right hip joint",
              "right ankle joint",
              "right knee joint",
              "right wrist joint",
              "other site",
              "left knee joint",
              "right 2nd MCP joint",
              "unknown",
              "left wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left hip joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "left ankle joint",
              "right hip joint",
              "right ankle joint",
              "right knee joint",
              "right wrist joint",
              "other site",
              "left knee joint",
              "right 2nd MCP joint",
              "unknown",
              "left wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left hip joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "left ankle joint",
              "right hip joint",
              "right ankle joint",
              "right knee joint",
              "right wrist joint",
              "other site",
              "left knee joint",
              "right 2nd MCP joint",
              "unknown",
              "left wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left hip joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "left ankle joint",
              "right hip joint",
              "right ankle joint",
              "right knee joint",
              "right wrist joint",
              "other site",
              "left knee joint",
              "right 2nd MCP joint",
              "unknown",
              "left wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left hip joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "left ankle joint",
              "right hip joint",
              "right ankle joint",
              "right knee joint",
              "right wrist joint",
              "other site",
              "left knee joint",
              "right 2nd MCP joint",
              "unknown",
              "left wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left hip joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "non-lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "non-lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "non-lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "arthroplasty",
              "synovectomy",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "arthroplasty",
              "synovectomy",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    }
  ]
}