{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "visitID": {},
    "program": {
      "enum": [
        "Community Contribution",
        "AMP RA/SLE",
        "AMP AIM"
      ]
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "synovial fluid",
        "none",
        "skin swab",
        "kidney biopsy",
        "synovial tissue",
        "urine",
        "uvea",
        "fibroblast-like synoviocyte",
        "PBMCs",
        "stool",
        "suction blister fluid",
        "saliva",
        "plasma",
        "serum",
        "salivary gland",
        "skin biopsy",
        "whole blood",
        "suction blister cells",
        "total leukocytes"
      ]
    },
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "nuclei suspension",
        "cell suspension",
        "flow-sorted cells",
        "cell or tissue lysate",
        "frozen tissue",
        "PFA-fixed tissue",
        "FFPE tissue",
        "fresh tissue",
        ""
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "V-CoRT",
          "STAMP",
          "SLE",
          "AIM for RA",
          "ELLIPSS",
          "RA",
          "LOCKIT"
        ]
      },
      "maxItems": 7
    },
    "parentBiospecimenID": {},
    "synovialCollectionProcedure": {
      "enum": [
        "synovectomy",
        "biopsy",
        "unknown",
        "arthroplasty",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "left ankle joint",
        "left hip joint",
        "right 2nd MTP joint",
        "right hip joint",
        "left knee joint",
        "unknown",
        "other site",
        "right knee joint",
        "right 3rd MCP joint",
        "left wrist joint",
        "right ankle joint",
        "right wrist joint",
        "left 2nd MCP joint",
        "right 1st MTP joint",
        "right 2nd MCP joint",
        ""
      ]
    },
    "krennStroma": {},
    "krennInflammatory": {},
    "krennLining": {},
    "krennSynovitisScore": {},
    "skinSiteStatus": {
      "enum": [
        "non-lesional",
        "healthy control",
        "lesional",
        "lesional proximal",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "userDefinedCellType": {},
    "cellOntologyID": {},
    "cellType": {},
    "FACSPopulation": {}
  },
  "required": [
    "biospecimenID",
    "program",
    "individualID",
    "biospecimenType",
    "plateID",
    "Component",
    "project"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "biopsy",
              "unknown",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "biopsy",
              "unknown",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left hip joint",
              "right 2nd MTP joint",
              "right hip joint",
              "left knee joint",
              "unknown",
              "other site",
              "right knee joint",
              "right 3rd MCP joint",
              "left wrist joint",
              "right ankle joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left hip joint",
              "right 2nd MTP joint",
              "right hip joint",
              "left knee joint",
              "unknown",
              "other site",
              "right knee joint",
              "right 3rd MCP joint",
              "left wrist joint",
              "right ankle joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left hip joint",
              "right 2nd MTP joint",
              "right hip joint",
              "left knee joint",
              "unknown",
              "other site",
              "right knee joint",
              "right 3rd MCP joint",
              "left wrist joint",
              "right ankle joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left hip joint",
              "right 2nd MTP joint",
              "right hip joint",
              "left knee joint",
              "unknown",
              "other site",
              "right knee joint",
              "right 3rd MCP joint",
              "left wrist joint",
              "right ankle joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left hip joint",
              "right 2nd MTP joint",
              "right hip joint",
              "left knee joint",
              "unknown",
              "other site",
              "right knee joint",
              "right 3rd MCP joint",
              "left wrist joint",
              "right ankle joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "healthy control",
              "lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "healthy control",
              "lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "healthy control",
              "lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    }
  ]
}