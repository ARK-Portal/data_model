{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "targetPanelSynID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "specimenModality": {
      "enum": [
        "single specimen",
        "multispecimen"
      ]
    },
    "targetPanelSize": {},
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "targetPanel": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "sampleProcessingBatch": {},
    "assay": {
      "enum": [
        "Xenium",
        "CosMX",
        "imaging mass cytometry",
        "H&E",
        "serial IHC",
        "Visium",
        "GenePS SeqFISH",
        ""
      ]
    },
    "dataCollectionBatch": {},
    "individualID": {},
    "biospecimenID": {},
    "slideID": {}
  },
  "required": [
    "targetPanelSynID",
    "specimenModality",
    "Component",
    "targetPanel"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "individualID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "individualID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "slideID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "slideID"
        ]
      }
    }
  ]
}