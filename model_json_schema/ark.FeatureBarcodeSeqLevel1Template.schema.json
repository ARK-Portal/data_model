{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/example",
  "title": "example",
  "type": "object",
  "properties": {
    "libraryID": {},
    "sampleProcessingBatch": {},
    "dataCollectionBatch": {},
    "fileFormat": {
      "enum": [
        "fam",
        "rds",
        "xls",
        "fcs",
        "bai",
        "docx",
        "geojson",
        "h5ad",
        "tar.gz",
        "fastq",
        "bam",
        "pdf",
        "erate",
        "zip",
        "info",
        "xlsx",
        "mtx",
        "bed",
        "dose",
        "csv",
        "txt",
        "h5",
        "bim",
        "parquet",
        "vcf",
        "tbi",
        "tgz",
        "rec",
        "tsv"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "resourceType": {
      "enum": [
        "metadata",
        "code",
        "figure",
        "experimental data"
      ]
    },
    "targetPanel": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "program": {
      "enum": [
        "Community Contribution",
        "AMP AIM",
        "AMP RA/SLE"
      ]
    },
    "Filename": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "targetPanelSynID": {},
    "nucleicAcidSource": {
      "type": "array",
      "items": {
        "enum": [
          "Tn5-accessible gDNA",
          "TCR mRNA",
          "intracellular protein feature barcode",
          "multiplexing oligo",
          "rRNA-depleted RNA",
          "BCR mRNA",
          "CRISPR protospacer feature barcode",
          "antigen capture barcode",
          "gDNA",
          "poly(A) RNA",
          "globin-depleted RNA",
          "surface protein feature barcode"
        ]
      },
      "maxItems": 12
    },
    "project": {
      "enum": [
        "STAMP",
        "LOCKIT",
        "RA",
        "V-CoRT",
        "ELLIPSS",
        "AIM for RA",
        "SLE"
      ]
    },
    "metadataType": {
      "enum": [
        "data dictionary",
        "template",
        "assay",
        "biospecimen",
        "single-cell metadata",
        "protocol",
        "user manual",
        "target panel",
        ""
      ]
    },
    "metadataStandards": {
      "enum": [
        "user-defined",
        "ARK data model",
        ""
      ]
    },
    "codingLanguage": {
      "enum": [
        "Julia",
        "Fortan",
        "Java",
        "C#",
        "C++",
        "R",
        "Matlab",
        "Ruby",
        "SAS",
        "C",
        "Python",
        ""
      ]
    },
    "biospecimenType": {
      "type": "array",
      "items": {
        "enum": [
          "synovial fluid",
          "stool",
          "PBMCs",
          "plasma",
          "suction blister fluid",
          "saliva",
          "salivary gland",
          "synovial tissue",
          "serum",
          "whole blood",
          "total leukocytes",
          "suction blister cells",
          "none",
          "urine",
          "fibroblast-like synoviocyte",
          "skin biopsy",
          "uvea",
          "kidney biopsy",
          "skin swab",
          ""
        ]
      },
      "maxItems": 19
    },
    "softwareAndVersion": {
      "enum": [
        "Cell Ranger v7.0.0",
        "Space Ranger 3.1.0",
        "Cell Ranger v3.0.2",
        "Cell Ranger v3.0.0",
        "Cell Ranger v6.1.2",
        "Cell Ranger v5.0.1",
        "Space Ranger 3.1.2",
        "Space Ranger 3.1.3",
        "Cell Ranger v3.0.1",
        "Cell Ranger v7.1.0",
        "Cell Ranger v9.0.0",
        "Cell Ranger v7.0.1",
        "Cell Ranger v8.0.0",
        "Cell Ranger v8.0.1",
        "Space Ranger 3.0.0",
        "Cell Ranger v6.0.2",
        "Cell Ranger v3.1.0",
        "Cell Ranger v6.0.1",
        "Cell Ranger v4.0.0",
        "demuxlet",
        "Cell Ranger ATAC v1.1.0",
        "Cell Ranger v7.2.0",
        "Cell Ranger v6.1.1",
        "Cell Ranger v6.0.0",
        "Space Ranger 3.0.1",
        "BD FACSDiva 8.0.1",
        "Cell Ranger 9.0.1",
        "Cell Ranger v5.0.0",
        "Cell Ranger v6.1.0",
        "Space Ranger 3.1.1",
        ""
      ]
    },
    "specimenModality": {
      "enum": [
        "multispecimen",
        "single specimen",
        ""
      ]
    },
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "ASAPSeq",
          "snRNASeq",
          "Olink Explore HT",
          "RNASeq",
          "CosMX",
          "CE-MS",
          "Xenium",
          "imaging mass spectrometry",
          "scVDJSeq",
          "WES",
          "LC-MS/MS",
          "CyTOF",
          "WGS",
          "feature barcode sequencing",
          "imaging mass cytometry",
          "SNP array",
          "NULISA",
          "VDJSeq",
          "H&E",
          "flow cytometry",
          "scRNASeq",
          "snATACSeq",
          "multiplexed ELISA",
          "SomaScan",
          "serial IHC",
          "CITESeq",
          ""
        ]
      },
      "maxItems": 26
    },
    "dataType": {
      "type": "array",
      "items": {
        "enum": [
          "multimodal",
          "transcriptomics",
          "lipidomics",
          "proteomics",
          "microbiome",
          "epigenomics",
          "immunostaining",
          "immune repertoire profiling",
          "metabolomics",
          "histology",
          "genomics",
          "cytometry",
          ""
        ]
      },
      "maxItems": 12
    },
    "visitID": {},
    "individualID": {},
    "biospecimenSubtype": {
      "enum": [
        "cell suspension",
        "frozen tissue",
        "nuclei suspension",
        "FFPE tissue",
        "flow-sorted cells",
        "fresh tissue",
        "PFA-fixed tissue",
        ""
      ]
    },
    "dataSubtype": {
      "type": "array",
      "items": {
        "enum": [
          "single-cell",
          "pseudobulk",
          "none",
          "single-nucleus",
          "spatial",
          "bulk",
          ""
        ]
      },
      "maxItems": 6
    },
    "dataLevel": {
      "enum": [
        "1",
        "3",
        "5",
        "2",
        "4",
        ""
      ]
    },
    "diagnosis": {
      "enum": [
        "RA",
        "OA",
        "PsA",
        "PsO",
        "LN",
        "CLE",
        "vitiligo",
        "control",
        "SjD",
        "At-Risk RA",
        "SLE",
        "dermatomyositis",
        "scleroderma",
        ""
      ]
    },
    "biospecimenID": {},
    "platform": {
      "type": "array",
      "items": {
        "enum": [
          "Chromium Next GEM Chip Q",
          "CyTOF XT",
          "Hyperion",
          "Chromium GEM-X Single Cell 3' Chip v4",
          "Xenium",
          "Illumina HiSeq 2500",
          "BD FACSAria Fusion cell sorter",
          "Visium CytAssist",
          "Illumina HiSeq X Ten",
          "GEM-X OCM 5' Chip",
          "Chromium iX",
          "Illumina NovaSeq X",
          "none",
          "Chromium X",
          "Chromium Next GEM Chip G",
          "Chromium Controller",
          "Chromium Next GEM Chip H",
          "Illumina NovaSeq 6000",
          "Chromium Next GEM Chip M",
          "GEM-X Flex Gene Expression Chip",
          "Chromium Next GEM Chip K",
          "Illumina NextSeq 500",
          "Chromium Xo",
          "Helios Mass Cytometer",
          ""
        ]
      },
      "maxItems": 24
    },
    "programPhase": {
      "enum": [
        "II",
        "I",
        ""
      ]
    }
  },
  "required": [
    "fileFormat",
    "Component",
    "resourceType",
    "targetPanel",
    "program",
    "Filename",
    "nucleicAcidSource",
    "project"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "metadata"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "metadataType": {
            "enum": [
              "data dictionary",
              "template",
              "assay",
              "biospecimen",
              "single-cell metadata",
              "protocol",
              "user manual",
              "target panel"
            ]
          }
        },
        "required": [
          "metadataType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "metadata"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "metadataStandards": {
            "enum": [
              "user-defined",
              "ARK data model"
            ]
          }
        },
        "required": [
          "metadataStandards"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "code"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "codingLanguage": {
            "enum": [
              "Julia",
              "Fortan",
              "Java",
              "C#",
              "C++",
              "R",
              "Matlab",
              "Ruby",
              "SAS",
              "C",
              "Python"
            ]
          }
        },
        "required": [
          "codingLanguage"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "biospecimenType": {
            "type": "array",
            "items": {
              "enum": [
                "synovial fluid",
                "stool",
                "PBMCs",
                "plasma",
                "suction blister fluid",
                "saliva",
                "salivary gland",
                "synovial tissue",
                "serum",
                "whole blood",
                "total leukocytes",
                "suction blister cells",
                "none",
                "urine",
                "fibroblast-like synoviocyte",
                "skin biopsy",
                "uvea",
                "kidney biopsy",
                "skin swab"
              ]
            },
            "maxItems": 19
          }
        },
        "required": [
          "biospecimenType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "softwareAndVersion": {
            "enum": [
              "Cell Ranger v7.0.0",
              "Space Ranger 3.1.0",
              "Cell Ranger v3.0.2",
              "Cell Ranger v3.0.0",
              "Cell Ranger v6.1.2",
              "Cell Ranger v5.0.1",
              "Space Ranger 3.1.2",
              "Space Ranger 3.1.3",
              "Cell Ranger v3.0.1",
              "Cell Ranger v7.1.0",
              "Cell Ranger v9.0.0",
              "Cell Ranger v7.0.1",
              "Cell Ranger v8.0.0",
              "Cell Ranger v8.0.1",
              "Space Ranger 3.0.0",
              "Cell Ranger v6.0.2",
              "Cell Ranger v3.1.0",
              "Cell Ranger v6.0.1",
              "Cell Ranger v4.0.0",
              "demuxlet",
              "Cell Ranger ATAC v1.1.0",
              "Cell Ranger v7.2.0",
              "Cell Ranger v6.1.1",
              "Cell Ranger v6.0.0",
              "Space Ranger 3.0.1",
              "BD FACSDiva 8.0.1",
              "Cell Ranger 9.0.1",
              "Cell Ranger v5.0.0",
              "Cell Ranger v6.1.0",
              "Space Ranger 3.1.1",
              ""
            ]
          }
        },
        "required": [
          "softwareAndVersion"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen",
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "assay": {
            "type": "array",
            "items": {
              "enum": [
                "ASAPSeq",
                "snRNASeq",
                "Olink Explore HT",
                "RNASeq",
                "CosMX",
                "CE-MS",
                "Xenium",
                "imaging mass spectrometry",
                "scVDJSeq",
                "WES",
                "LC-MS/MS",
                "CyTOF",
                "WGS",
                "feature barcode sequencing",
                "imaging mass cytometry",
                "SNP array",
                "NULISA",
                "VDJSeq",
                "H&E",
                "flow cytometry",
                "scRNASeq",
                "snATACSeq",
                "multiplexed ELISA",
                "SomaScan",
                "serial IHC",
                "CITESeq"
              ]
            },
            "maxItems": 26
          }
        },
        "required": [
          "assay"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "dataType": {
            "type": "array",
            "items": {
              "enum": [
                "multimodal",
                "transcriptomics",
                "lipidomics",
                "proteomics",
                "microbiome",
                "epigenomics",
                "immunostaining",
                "immune repertoire profiling",
                "metabolomics",
                "histology",
                "genomics",
                "cytometry"
              ]
            },
            "maxItems": 12
          }
        },
        "required": [
          "dataType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "visitID": {}
        },
        "required": [
          "visitID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "individualID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "individualID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension",
              "frozen tissue",
              "nuclei suspension",
              "FFPE tissue",
              "flow-sorted cells",
              "fresh tissue",
              "PFA-fixed tissue",
              ""
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "dataSubtype": {
            "type": "array",
            "items": {
              "enum": [
                "single-cell",
                "pseudobulk",
                "none",
                "single-nucleus",
                "spatial",
                "bulk"
              ]
            },
            "maxItems": 6
          }
        },
        "required": [
          "dataSubtype"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "dataLevel": {
            "enum": [
              "1",
              "3",
              "5",
              "2",
              "4"
            ]
          }
        },
        "required": [
          "dataLevel"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "diagnosis": {
            "enum": [
              "RA",
              "OA",
              "PsA",
              "PsO",
              "LN",
              "CLE",
              "vitiligo",
              "control",
              "SjD",
              "At-Risk RA",
              "SLE",
              "dermatomyositis",
              "scleroderma"
            ]
          }
        },
        "required": [
          "diagnosis"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "resourceType": {
            "enum": [
              "experimental data"
            ]
          }
        },
        "required": [
          "resourceType"
        ]
      },
      "then": {
        "properties": {
          "platform": {
            "type": "array",
            "items": {
              "enum": [
                "Chromium Next GEM Chip Q",
                "CyTOF XT",
                "Hyperion",
                "Chromium GEM-X Single Cell 3' Chip v4",
                "Xenium",
                "Illumina HiSeq 2500",
                "BD FACSAria Fusion cell sorter",
                "Visium CytAssist",
                "Illumina HiSeq X Ten",
                "GEM-X OCM 5' Chip",
                "Chromium iX",
                "Illumina NovaSeq X",
                "none",
                "Chromium X",
                "Chromium Next GEM Chip G",
                "Chromium Controller",
                "Chromium Next GEM Chip H",
                "Illumina NovaSeq 6000",
                "Chromium Next GEM Chip M",
                "GEM-X Flex Gene Expression Chip",
                "Chromium Next GEM Chip K",
                "Illumina NextSeq 500",
                "Chromium Xo",
                "Helios Mass Cytometer",
                ""
              ]
            },
            "maxItems": 24
          }
        },
        "required": [
          "platform"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP RA/SLE"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "programPhase": {
            "enum": [
              "II",
              "I"
            ]
          }
        },
        "required": [
          "programPhase"
        ]
      }
    }
  ]
}