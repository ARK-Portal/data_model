{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "frozen tissue",
        "nuclei suspension",
        "FFPE tissue",
        "flow-sorted cells",
        "cell or tissue lysate",
        "PFA-fixed tissue",
        "fresh tissue",
        "cell suspension",
        ""
      ]
    },
    "biospecimenType": {
      "enum": [
        "stool",
        "saliva",
        "synovial tissue",
        "urine",
        "total leukocytes",
        "suction blister fluid",
        "serum",
        "none",
        "skin biopsy",
        "fibroblast-like synoviocyte",
        "PBMCs",
        "suction blister cells",
        "uvea",
        "kidney biopsy",
        "whole blood",
        "skin swab",
        "synovial fluid",
        "salivary gland",
        "plasma"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "program": {
      "enum": [
        "AMP RA/SLE",
        "Community Contribution",
        "AMP AIM"
      ]
    },
    "visitID": {},
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "V-CoRT",
          "RA",
          "SLE",
          "STAMP",
          "LOCKIT",
          "ELLIPSS",
          "AIM for RA"
        ]
      },
      "maxItems": 7
    },
    "parentBiospecimenID": {},
    "cellOntologyID": {},
    "FACSPopulation": {},
    "userDefinedCellType": {},
    "cellType": {},
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "krennLining": {},
    "anatomicalSite": {
      "enum": [
        "right 3rd MCP joint",
        "right ankle joint",
        "right 2nd MCP joint",
        "left 2nd MCP joint",
        "right wrist joint",
        "unknown",
        "left knee joint",
        "right hip joint",
        "right 1st MTP joint",
        "left wrist joint",
        "right knee joint",
        "left hip joint",
        "left ankle joint",
        "right 2nd MTP joint",
        "other site",
        ""
      ]
    },
    "krennStroma": {},
    "krennInflammatory": {},
    "synovialCollectionProcedure": {
      "enum": [
        "biopsy",
        "unknown",
        "synovectomy",
        "arthroplasty",
        ""
      ]
    },
    "krennSynovitisScore": {},
    "skinSiteStatus": {
      "enum": [
        "healthy control",
        "non-lesional",
        "lesional proximal",
        "lesional",
        ""
      ]
    }
  },
  "required": [
    "individualID",
    "biospecimenID",
    "biospecimenType",
    "Component",
    "program",
    "project"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "left knee joint",
              "right hip joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right knee joint",
              "left hip joint",
              "left ankle joint",
              "right 2nd MTP joint",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "left knee joint",
              "right hip joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right knee joint",
              "left hip joint",
              "left ankle joint",
              "right 2nd MTP joint",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "left knee joint",
              "right hip joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right knee joint",
              "left hip joint",
              "left ankle joint",
              "right 2nd MTP joint",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "left knee joint",
              "right hip joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right knee joint",
              "left hip joint",
              "left ankle joint",
              "right 2nd MTP joint",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "left knee joint",
              "right hip joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right knee joint",
              "left hip joint",
              "left ankle joint",
              "right 2nd MTP joint",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 3rd MCP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "left knee joint",
              "right hip joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right knee joint",
              "left hip joint",
              "left ankle joint",
              "right 2nd MTP joint",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "unknown",
              "synovectomy",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "unknown",
              "synovectomy",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "non-lesional",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "non-lesional",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "non-lesional",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "non-lesional",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    }
  ]
}