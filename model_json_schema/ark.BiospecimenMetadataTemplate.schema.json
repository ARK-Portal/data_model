{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "parentBiospecimenID": {},
    "program": {
      "enum": [
        "AMP AIM",
        "AMP RA/SLE",
        "Community Contribution"
      ]
    },
    "biospecimenType": {
      "enum": [
        "synovial tissue",
        "suction blister cells",
        "plasma",
        "skin biopsy",
        "urine",
        "saliva",
        "total leukocytes",
        "fibroblast-like synoviocyte",
        "stool",
        "PBMCs",
        "serum",
        "whole blood",
        "synovial fluid",
        "skin swab",
        "salivary gland",
        "suction blister fluid",
        "kidney biopsy",
        "uvea",
        "none"
      ]
    },
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "V-CoRT",
          "AIM for RA",
          "LOCKIT",
          "ELLIPSS",
          "RA",
          "STAMP",
          "SLE"
        ]
      },
      "maxItems": 7
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "fresh tissue",
        "cell or tissue lysate",
        "flow-sorted cells",
        "FFPE tissue",
        "frozen tissue",
        "nuclei suspension",
        "PFA-fixed tissue",
        "cell suspension",
        ""
      ]
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "visitID": {},
    "krennInflammatory": {},
    "synovialCollectionProcedure": {
      "enum": [
        "biopsy",
        "synovectomy",
        "arthroplasty",
        "unknown",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "right ankle joint",
        "left ankle joint",
        "right 2nd MCP joint",
        "right wrist joint",
        "unknown",
        "right 3rd MCP joint",
        "left 2nd MCP joint",
        "left hip joint",
        "left wrist joint",
        "right 1st MTP joint",
        "right 2nd MTP joint",
        "right hip joint",
        "right knee joint",
        "left knee joint",
        "other site",
        ""
      ]
    },
    "krennLining": {},
    "krennSynovitisScore": {},
    "krennStroma": {},
    "skinSiteStatus": {
      "enum": [
        "non-lesional",
        "healthy control",
        "lesional proximal",
        "lesional",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    },
    "cellType": {},
    "cellOntologyID": {},
    "userDefinedCellType": {},
    "FACSPopulation": {}
  },
  "required": [
    "program",
    "biospecimenType",
    "project",
    "biospecimenID",
    "individualID",
    "Component"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "synovectomy",
              "arthroplasty",
              "unknown"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "synovectomy",
              "arthroplasty",
              "unknown"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "left ankle joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "right 3rd MCP joint",
              "left 2nd MCP joint",
              "left hip joint",
              "left wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "left ankle joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "right 3rd MCP joint",
              "left 2nd MCP joint",
              "left hip joint",
              "left wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "left ankle joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "right 3rd MCP joint",
              "left 2nd MCP joint",
              "left hip joint",
              "left wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "left ankle joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "right 3rd MCP joint",
              "left 2nd MCP joint",
              "left hip joint",
              "left wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "left ankle joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "right 3rd MCP joint",
              "left 2nd MCP joint",
              "left hip joint",
              "left wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "left ankle joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "right 3rd MCP joint",
              "left 2nd MCP joint",
              "left hip joint",
              "left wrist joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "healthy control",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "healthy control",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "healthy control",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "healthy control",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    }
  ]
}