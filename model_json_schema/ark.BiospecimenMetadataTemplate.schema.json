{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "biospecimenType": {
      "enum": [
        "synovial tissue",
        "serum",
        "urine",
        "salivary gland",
        "stool",
        "uvea",
        "PBMCs",
        "suction blister cells",
        "synovial fluid",
        "plasma",
        "none",
        "whole blood",
        "kidney biopsy",
        "fibroblast-like synoviocyte",
        "skin biopsy",
        "total leukocytes",
        "saliva",
        "suction blister fluid",
        "skin swab"
      ]
    },
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "V-CoRT",
          "RA",
          "SLE",
          "ELLIPSS",
          "LOCKIT",
          "AIM for RA",
          "STAMP"
        ]
      },
      "maxItems": 7
    },
    "biospecimenSubtype": {
      "enum": [
        "cell suspension",
        "nuclei suspension",
        "fresh tissue",
        "FFPE tissue",
        "cell or tissue lysate",
        "PFA-fixed tissue",
        "frozen tissue",
        "flow-sorted cells",
        ""
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "parentBiospecimenID": {},
    "visitID": {},
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "program": {
      "enum": [
        "AMP AIM",
        "AMP RA/SLE",
        "Community Contribution"
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "krennSynovitisScore": {},
    "krennInflammatory": {},
    "krennStroma": {},
    "krennLining": {},
    "anatomicalSite": {
      "enum": [
        "left ankle joint",
        "left wrist joint",
        "right 3rd MCP joint",
        "right hip joint",
        "right knee joint",
        "right 2nd MTP joint",
        "right 2nd MCP joint",
        "left hip joint",
        "right wrist joint",
        "left knee joint",
        "other site",
        "right 1st MTP joint",
        "unknown",
        "left 2nd MCP joint",
        "right ankle joint",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "unknown",
        "biopsy",
        "synovectomy",
        "arthroplasty",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "lesional proximal",
        "healthy control",
        "non-lesional",
        "lesional",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    },
    "cellType": {},
    "userDefinedCellType": {},
    "cellOntologyID": {},
    "FACSPopulation": {}
  },
  "required": [
    "biospecimenType",
    "project",
    "Component",
    "individualID",
    "program",
    "biospecimenID"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left wrist joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left hip joint",
              "right wrist joint",
              "left knee joint",
              "other site",
              "right 1st MTP joint",
              "unknown",
              "left 2nd MCP joint",
              "right ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left wrist joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left hip joint",
              "right wrist joint",
              "left knee joint",
              "other site",
              "right 1st MTP joint",
              "unknown",
              "left 2nd MCP joint",
              "right ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left wrist joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left hip joint",
              "right wrist joint",
              "left knee joint",
              "other site",
              "right 1st MTP joint",
              "unknown",
              "left 2nd MCP joint",
              "right ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left wrist joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left hip joint",
              "right wrist joint",
              "left knee joint",
              "other site",
              "right 1st MTP joint",
              "unknown",
              "left 2nd MCP joint",
              "right ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left wrist joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left hip joint",
              "right wrist joint",
              "left knee joint",
              "other site",
              "right 1st MTP joint",
              "unknown",
              "left 2nd MCP joint",
              "right ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left wrist joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left hip joint",
              "right wrist joint",
              "left knee joint",
              "other site",
              "right 1st MTP joint",
              "unknown",
              "left 2nd MCP joint",
              "right ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "biopsy",
              "synovectomy",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "biopsy",
              "synovectomy",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "non-lesional",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "non-lesional",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "non-lesional",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "non-lesional",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    }
  ]
}