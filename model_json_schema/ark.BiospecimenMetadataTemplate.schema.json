{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "project": {
      "enum": [
        "RA",
        "AIM for RA",
        "SLE",
        "V-CoRT",
        "LOCKIT",
        "STAMP",
        "ELLIPSS"
      ]
    },
    "program": {
      "enum": [
        "AMP AIM",
        "Community Contribution",
        "AMP RA/SLE"
      ]
    },
    "visitID": {},
    "biospecimenSubtype": {
      "enum": [
        "nuclei suspension",
        "fresh tissue",
        "cell suspension",
        "PFA-fixed tissue",
        "FFPE tissue",
        "frozen tissue",
        "cell or tissue lysate",
        "flow-sorted cells",
        ""
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "parentBiospecimenID": {},
    "biospecimenType": {
      "enum": [
        "salivary gland",
        "saliva",
        "none",
        "kidney biopsy",
        "uvea",
        "PBMCs",
        "plasma",
        "suction blister fluid",
        "suction blister cells",
        "skin swab",
        "serum",
        "fibroblast-like synoviocyte",
        "urine",
        "whole blood",
        "stool",
        "synovial tissue",
        "total leukocytes",
        "skin biopsy",
        "synovial fluid"
      ]
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "cellOntologyID": {},
    "cellType": {},
    "userDefinedCellType": {},
    "FACSPopulation": {},
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "lesional proximal",
        "healthy control",
        "non-lesional",
        "lesional",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "right hip joint",
        "unknown",
        "left wrist joint",
        "left 2nd MCP joint",
        "left ankle joint",
        "right 1st MTP joint",
        "left knee joint",
        "right 3rd MCP joint",
        "right 2nd MCP joint",
        "right wrist joint",
        "right 2nd MTP joint",
        "right ankle joint",
        "other site",
        "right knee joint",
        "left hip joint",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "unknown",
        "biopsy",
        "synovectomy",
        "arthroplasty",
        ""
      ]
    },
    "krennSynovitisScore": {},
    "krennInflammatory": {},
    "krennLining": {},
    "krennStroma": {}
  },
  "required": [
    "project",
    "program",
    "biospecimenID",
    "Component",
    "biospecimenType",
    "individualID"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "non-lesional",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "non-lesional",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "non-lesional",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "non-lesional",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "unknown",
              "left wrist joint",
              "left 2nd MCP joint",
              "left ankle joint",
              "right 1st MTP joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "other site",
              "right knee joint",
              "left hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "unknown",
              "left wrist joint",
              "left 2nd MCP joint",
              "left ankle joint",
              "right 1st MTP joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "other site",
              "right knee joint",
              "left hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "unknown",
              "left wrist joint",
              "left 2nd MCP joint",
              "left ankle joint",
              "right 1st MTP joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "other site",
              "right knee joint",
              "left hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "unknown",
              "left wrist joint",
              "left 2nd MCP joint",
              "left ankle joint",
              "right 1st MTP joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "other site",
              "right knee joint",
              "left hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "unknown",
              "left wrist joint",
              "left 2nd MCP joint",
              "left ankle joint",
              "right 1st MTP joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "other site",
              "right knee joint",
              "left hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "unknown",
              "left wrist joint",
              "left 2nd MCP joint",
              "left ankle joint",
              "right 1st MTP joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "other site",
              "right knee joint",
              "left hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "biopsy",
              "synovectomy",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "biopsy",
              "synovectomy",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    }
  ]
}