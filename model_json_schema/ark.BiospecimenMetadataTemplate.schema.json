{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "visitID": {},
    "project": {
      "enum": [
        "AIM for RA",
        "V-CoRT",
        "SLE",
        "RA",
        "ELLIPSS",
        "STAMP",
        "LOCKIT"
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "saliva",
        "skin biopsy",
        "synovial fluid",
        "whole blood",
        "PBMCs",
        "total leukocytes",
        "stool",
        "suction blister fluid",
        "kidney biopsy",
        "plasma",
        "synovial tissue",
        "uvea",
        "skin swab",
        "none",
        "fibroblast-like synoviocyte",
        "serum",
        "suction blister cells",
        "salivary gland",
        "urine"
      ]
    },
    "parentBiospecimenID": {},
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "fresh tissue",
        "FFPE tissue",
        "PFA-fixed tissue",
        "cell suspension",
        "nuclei suspension",
        "frozen tissue",
        "flow-sorted cells",
        "cell or tissue lysate",
        ""
      ]
    },
    "program": {
      "enum": [
        "AMP RA/SLE",
        "AMP AIM",
        "Community Contribution"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "non-lesional",
        "healthy control",
        "lesional proximal",
        "lesional",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "other site",
        "right hip joint",
        "right 1st MTP joint",
        "left 2nd MCP joint",
        "left knee joint",
        "left ankle joint",
        "right wrist joint",
        "right 2nd MCP joint",
        "right knee joint",
        "right 2nd MTP joint",
        "right ankle joint",
        "unknown",
        "left wrist joint",
        "right 3rd MCP joint",
        "left hip joint",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "unknown",
        "biopsy",
        "synovectomy",
        "arthroplasty",
        ""
      ]
    },
    "krennInflammatory": {},
    "krennSynovitisScore": {},
    "krennLining": {},
    "krennStroma": {},
    "cellType": {},
    "userDefinedCellType": {},
    "cellOntologyID": {},
    "FACSPopulation": {}
  },
  "required": [
    "project",
    "biospecimenID",
    "biospecimenType",
    "individualID",
    "program",
    "Component"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "healthy control",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "healthy control",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "healthy control",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "healthy control",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "other site",
              "right hip joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "left knee joint",
              "left ankle joint",
              "right wrist joint",
              "right 2nd MCP joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "unknown",
              "left wrist joint",
              "right 3rd MCP joint",
              "left hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "other site",
              "right hip joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "left knee joint",
              "left ankle joint",
              "right wrist joint",
              "right 2nd MCP joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "unknown",
              "left wrist joint",
              "right 3rd MCP joint",
              "left hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "other site",
              "right hip joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "left knee joint",
              "left ankle joint",
              "right wrist joint",
              "right 2nd MCP joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "unknown",
              "left wrist joint",
              "right 3rd MCP joint",
              "left hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "other site",
              "right hip joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "left knee joint",
              "left ankle joint",
              "right wrist joint",
              "right 2nd MCP joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "unknown",
              "left wrist joint",
              "right 3rd MCP joint",
              "left hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "other site",
              "right hip joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "left knee joint",
              "left ankle joint",
              "right wrist joint",
              "right 2nd MCP joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "unknown",
              "left wrist joint",
              "right 3rd MCP joint",
              "left hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "other site",
              "right hip joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "left knee joint",
              "left ankle joint",
              "right wrist joint",
              "right 2nd MCP joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "unknown",
              "left wrist joint",
              "right 3rd MCP joint",
              "left hip joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "biopsy",
              "synovectomy",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "biopsy",
              "synovectomy",
              "arthroplasty"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    }
  ]
}