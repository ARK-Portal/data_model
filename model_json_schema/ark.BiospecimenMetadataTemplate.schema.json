{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "visitID": {},
    "project": {
      "enum": [
        "LOCKIT",
        "STAMP",
        "ELLIPSS",
        "AIM for RA",
        "V-CoRT",
        "RA",
        "SLE"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "program": {
      "enum": [
        "AMP RA/SLE",
        "AMP AIM",
        "Community Contribution"
      ]
    },
    "parentBiospecimenID": {},
    "biospecimenSubtype": {
      "enum": [
        "fresh tissue",
        "nuclei suspension",
        "frozen tissue",
        "cell suspension",
        "flow-sorted cells",
        "PFA-fixed tissue",
        "cell or tissue lysate",
        "FFPE tissue",
        ""
      ]
    },
    "biospecimenType": {
      "enum": [
        "total leukocytes",
        "synovial fluid",
        "urine",
        "plasma",
        "suction blister cells",
        "whole blood",
        "kidney biopsy",
        "fibroblast-like synoviocyte",
        "PBMCs",
        "saliva",
        "none",
        "stool",
        "skin biopsy",
        "synovial tissue",
        "uvea",
        "serum",
        "suction blister fluid",
        "skin swab",
        "salivary gland"
      ]
    },
    "cellType": {},
    "userDefinedCellType": {},
    "cellOntologyID": {},
    "FACSPopulation": {},
    "synovialCollectionProcedure": {
      "enum": [
        "arthroplasty",
        "synovectomy",
        "unknown",
        "biopsy",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "left wrist joint",
        "right 1st MTP joint",
        "right ankle joint",
        "left ankle joint",
        "left knee joint",
        "right 2nd MTP joint",
        "left hip joint",
        "right 2nd MCP joint",
        "right 3rd MCP joint",
        "right hip joint",
        "right knee joint",
        "other site",
        "left 2nd MCP joint",
        "right wrist joint",
        "unknown",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "lesional proximal",
        "non-lesional",
        "healthy control",
        "lesional",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    },
    "krennSynovitisScore": {},
    "krennInflammatory": {},
    "krennStroma": {},
    "krennLining": {}
  },
  "required": [
    "project",
    "Component",
    "individualID",
    "biospecimenID",
    "program",
    "biospecimenType"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "synovectomy",
              "unknown",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "synovectomy",
              "unknown",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "right 1st MTP joint",
              "right ankle joint",
              "left ankle joint",
              "left knee joint",
              "right 2nd MTP joint",
              "left hip joint",
              "right 2nd MCP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "other site",
              "left 2nd MCP joint",
              "right wrist joint",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "right 1st MTP joint",
              "right ankle joint",
              "left ankle joint",
              "left knee joint",
              "right 2nd MTP joint",
              "left hip joint",
              "right 2nd MCP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "other site",
              "left 2nd MCP joint",
              "right wrist joint",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "right 1st MTP joint",
              "right ankle joint",
              "left ankle joint",
              "left knee joint",
              "right 2nd MTP joint",
              "left hip joint",
              "right 2nd MCP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "other site",
              "left 2nd MCP joint",
              "right wrist joint",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "right 1st MTP joint",
              "right ankle joint",
              "left ankle joint",
              "left knee joint",
              "right 2nd MTP joint",
              "left hip joint",
              "right 2nd MCP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "other site",
              "left 2nd MCP joint",
              "right wrist joint",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "right 1st MTP joint",
              "right ankle joint",
              "left ankle joint",
              "left knee joint",
              "right 2nd MTP joint",
              "left hip joint",
              "right 2nd MCP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "other site",
              "left 2nd MCP joint",
              "right wrist joint",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "right 1st MTP joint",
              "right ankle joint",
              "left ankle joint",
              "left knee joint",
              "right 2nd MTP joint",
              "left hip joint",
              "right 2nd MCP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "other site",
              "left 2nd MCP joint",
              "right wrist joint",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "non-lesional",
              "healthy control",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "non-lesional",
              "healthy control",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "non-lesional",
              "healthy control",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "non-lesional",
              "healthy control",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    }
  ]
}