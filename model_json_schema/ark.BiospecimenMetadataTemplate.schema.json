{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "biospecimenType": {
      "enum": [
        "stool",
        "suction blister cells",
        "skin swab",
        "none",
        "kidney biopsy",
        "serum",
        "uvea",
        "skin biopsy",
        "fibroblast-like synoviocyte",
        "synovial tissue",
        "saliva",
        "PBMCs",
        "total leukocytes",
        "synovial fluid",
        "urine",
        "plasma",
        "whole blood",
        "salivary gland",
        "suction blister fluid"
      ]
    },
    "parentBiospecimenID": {},
    "biospecimenSubtype": {
      "enum": [
        "fresh tissue",
        "cell suspension",
        "nuclei suspension",
        "FFPE tissue",
        "frozen tissue",
        "cell or tissue lysate",
        "flow-sorted cells",
        "PFA-fixed tissue",
        ""
      ]
    },
    "visitID": {},
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "program": {
      "enum": [
        "Community Contribution",
        "AMP AIM",
        "AMP RA/SLE"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "LOCKIT",
          "STAMP",
          "ELLIPSS",
          "AIM for RA",
          "SLE",
          "RA",
          "V-CoRT"
        ]
      },
      "maxItems": 7
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "skinSiteStatus": {
      "enum": [
        "lesional",
        "non-lesional",
        "healthy control",
        "lesional proximal",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "right knee joint",
        "left ankle joint",
        "right wrist joint",
        "left knee joint",
        "right 3rd MCP joint",
        "right hip joint",
        "left 2nd MCP joint",
        "right ankle joint",
        "right 1st MTP joint",
        "left wrist joint",
        "right 2nd MCP joint",
        "right 2nd MTP joint",
        "other site",
        "left hip joint",
        "unknown",
        ""
      ]
    },
    "krennLining": {},
    "synovialCollectionProcedure": {
      "enum": [
        "synovectomy",
        "biopsy",
        "arthroplasty",
        "unknown",
        ""
      ]
    },
    "krennSynovitisScore": {},
    "krennInflammatory": {},
    "krennStroma": {},
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "cellOntologyID": {},
    "cellType": {},
    "userDefinedCellType": {},
    "FACSPopulation": {}
  },
  "required": [
    "biospecimenType",
    "biospecimenID",
    "program",
    "Component",
    "project",
    "individualID"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "non-lesional",
              "healthy control",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "non-lesional",
              "healthy control",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "non-lesional",
              "healthy control",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "non-lesional",
              "healthy control",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left ankle joint",
              "right wrist joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right hip joint",
              "left 2nd MCP joint",
              "right ankle joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right 2nd MCP joint",
              "right 2nd MTP joint",
              "other site",
              "left hip joint",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left ankle joint",
              "right wrist joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right hip joint",
              "left 2nd MCP joint",
              "right ankle joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right 2nd MCP joint",
              "right 2nd MTP joint",
              "other site",
              "left hip joint",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left ankle joint",
              "right wrist joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right hip joint",
              "left 2nd MCP joint",
              "right ankle joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right 2nd MCP joint",
              "right 2nd MTP joint",
              "other site",
              "left hip joint",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left ankle joint",
              "right wrist joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right hip joint",
              "left 2nd MCP joint",
              "right ankle joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right 2nd MCP joint",
              "right 2nd MTP joint",
              "other site",
              "left hip joint",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left ankle joint",
              "right wrist joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right hip joint",
              "left 2nd MCP joint",
              "right ankle joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right 2nd MCP joint",
              "right 2nd MTP joint",
              "other site",
              "left hip joint",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right knee joint",
              "left ankle joint",
              "right wrist joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right hip joint",
              "left 2nd MCP joint",
              "right ankle joint",
              "right 1st MTP joint",
              "left wrist joint",
              "right 2nd MCP joint",
              "right 2nd MTP joint",
              "other site",
              "left hip joint",
              "unknown"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "biopsy",
              "arthroplasty",
              "unknown"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "biopsy",
              "arthroplasty",
              "unknown"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    }
  ]
}