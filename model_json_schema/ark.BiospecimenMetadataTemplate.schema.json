{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "altSampleID": {},
    "biospecimenSubtype": {
      "enum": [
        "supernatant",
        "frozen tissue",
        "nuclei suspension",
        "fresh tissue",
        "cell or tissue lysate",
        "PFA-fixed tissue",
        "cell suspension",
        "flow-sorted cells",
        "FFPE tissue",
        ""
      ]
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "AIM for RA",
          "V-CoRT",
          "ELLIPSS",
          "RA",
          "SLE",
          "LOCKIT",
          "STAMP"
        ]
      },
      "maxItems": 7
    },
    "notes": {},
    "biospecimenType": {
      "enum": [
        "none",
        "uvea",
        "salivary gland",
        "total leukocytes",
        "cell line",
        "stool",
        "primary cell culture",
        "PBMCs",
        "kidney biopsy",
        "synovial tissue",
        "skin swab",
        "plasma",
        "serum",
        "fibroblast-like synoviocyte",
        "skin biopsy",
        "saliva",
        "suction blister fluid",
        "urine",
        "synovial fluid",
        "suction blister cells",
        "whole blood"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "program": {
      "enum": [
        "AMP RA/SLE",
        "AMP AIM",
        "Community Contribution"
      ]
    },
    "parentBiospecimenID": {},
    "cellType": {},
    "userDefinedCellType": {},
    "cellOntologyID": {},
    "FACSPopulation": {},
    "primaryCellSource": {
      "enum": [
        "pannus-derived epidermis",
        "urine",
        "uvea",
        "salivary gland",
        "PBMCs",
        "total leukocytes",
        "pannus-derived dermis",
        "whole blood",
        "synovial tissue",
        "kidney",
        ""
      ]
    },
    "krennStroma": {},
    "krennSynovitisScore": {},
    "anatomicalSite": {
      "enum": [
        "right 1st MTP joint",
        "right wrist joint",
        "right hip joint",
        "left ankle joint",
        "other site",
        "unknown",
        "left knee joint",
        "left wrist joint",
        "right 2nd MTP joint",
        "right 3rd MCP joint",
        "right ankle joint",
        "right 2nd MCP joint",
        "left hip joint",
        "right knee joint",
        "left 2nd MCP joint",
        ""
      ]
    },
    "krennLining": {},
    "krennInflammatory": {},
    "synovialCollectionProcedure": {
      "enum": [
        "arthroplasty",
        "unknown",
        "biopsy",
        "synovectomy",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "lesional proximal",
        "healthy control",
        "lesional",
        "non-lesional",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "visitID": {}
  },
  "required": [
    "biospecimenID",
    "individualID",
    "project",
    "biospecimenType",
    "Component",
    "program"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "cell line"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "cell line"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "pannus-derived epidermis",
              "urine",
              "uvea",
              "salivary gland",
              "PBMCs",
              "total leukocytes",
              "pannus-derived dermis",
              "whole blood",
              "synovial tissue",
              "kidney"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "right wrist joint",
              "right hip joint",
              "left ankle joint",
              "other site",
              "unknown",
              "left knee joint",
              "left wrist joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left hip joint",
              "right knee joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "right wrist joint",
              "right hip joint",
              "left ankle joint",
              "other site",
              "unknown",
              "left knee joint",
              "left wrist joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left hip joint",
              "right knee joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "right wrist joint",
              "right hip joint",
              "left ankle joint",
              "other site",
              "unknown",
              "left knee joint",
              "left wrist joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left hip joint",
              "right knee joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "right wrist joint",
              "right hip joint",
              "left ankle joint",
              "other site",
              "unknown",
              "left knee joint",
              "left wrist joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left hip joint",
              "right knee joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "right wrist joint",
              "right hip joint",
              "left ankle joint",
              "other site",
              "unknown",
              "left knee joint",
              "left wrist joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left hip joint",
              "right knee joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "right wrist joint",
              "right hip joint",
              "left ankle joint",
              "other site",
              "unknown",
              "left knee joint",
              "left wrist joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left hip joint",
              "right knee joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "right wrist joint",
              "right hip joint",
              "left ankle joint",
              "other site",
              "unknown",
              "left knee joint",
              "left wrist joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left hip joint",
              "right knee joint",
              "left 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "unknown",
              "biopsy",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "unknown",
              "biopsy",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "unknown",
              "biopsy",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "lesional",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "lesional",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "lesional",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "healthy control",
              "lesional",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP RA/SLE"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "visitID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "visitID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP AIM"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "visitID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "visitID"
        ]
      }
    }
  ]
}