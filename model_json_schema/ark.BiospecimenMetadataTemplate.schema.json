{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "suction blister cells",
        "PBMCs",
        "total leukocytes",
        "salivary gland",
        "suction blister fluid",
        "uvea",
        "synovial tissue",
        "whole blood",
        "stool",
        "kidney biopsy",
        "plasma",
        "synovial fluid",
        "saliva",
        "none",
        "serum",
        "fibroblast-like synoviocyte",
        "skin swab",
        "urine",
        "skin biopsy"
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "parentBiospecimenID": {},
    "program": {
      "enum": [
        "Community Contribution",
        "AMP RA/SLE",
        "AMP AIM"
      ]
    },
    "biospecimenSubtype": {
      "enum": [
        "fresh tissue",
        "PFA-fixed tissue",
        "FFPE tissue",
        "flow-sorted cells",
        "frozen tissue",
        "nuclei suspension",
        "cell or tissue lysate",
        "cell suspension",
        ""
      ]
    },
    "project": {
      "enum": [
        "STAMP",
        "LOCKIT",
        "SLE",
        "ELLIPSS",
        "RA",
        "V-CoRT",
        "AIM for RA"
      ]
    },
    "visitID": {},
    "skinSiteStatus": {
      "enum": [
        "healthy control",
        "lesional",
        "lesional proximal",
        "non-lesional",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "left ankle joint",
        "left knee joint",
        "left hip joint",
        "left wrist joint",
        "right 2nd MTP joint",
        "right ankle joint",
        "right knee joint",
        "right hip joint",
        "other site",
        "right wrist joint",
        "right 2nd MCP joint",
        "left 2nd MCP joint",
        "unknown",
        "right 3rd MCP joint",
        "right 1st MTP joint",
        ""
      ]
    },
    "krennSynovitisScore": {},
    "synovialCollectionProcedure": {
      "enum": [
        "arthroplasty",
        "unknown",
        "synovectomy",
        "biopsy",
        ""
      ]
    },
    "krennLining": {},
    "krennInflammatory": {},
    "krennStroma": {},
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "FACSPopulation": {},
    "userDefinedCellType": {},
    "cellType": {},
    "cellOntologyID": {}
  },
  "required": [
    "individualID",
    "Component",
    "biospecimenType",
    "biospecimenID",
    "program",
    "project"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left knee joint",
              "left hip joint",
              "left wrist joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "right knee joint",
              "right hip joint",
              "other site",
              "right wrist joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "unknown",
              "right 3rd MCP joint",
              "right 1st MTP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left knee joint",
              "left hip joint",
              "left wrist joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "right knee joint",
              "right hip joint",
              "other site",
              "right wrist joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "unknown",
              "right 3rd MCP joint",
              "right 1st MTP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left knee joint",
              "left hip joint",
              "left wrist joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "right knee joint",
              "right hip joint",
              "other site",
              "right wrist joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "unknown",
              "right 3rd MCP joint",
              "right 1st MTP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left knee joint",
              "left hip joint",
              "left wrist joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "right knee joint",
              "right hip joint",
              "other site",
              "right wrist joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "unknown",
              "right 3rd MCP joint",
              "right 1st MTP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left knee joint",
              "left hip joint",
              "left wrist joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "right knee joint",
              "right hip joint",
              "other site",
              "right wrist joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "unknown",
              "right 3rd MCP joint",
              "right 1st MTP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left ankle joint",
              "left knee joint",
              "left hip joint",
              "left wrist joint",
              "right 2nd MTP joint",
              "right ankle joint",
              "right knee joint",
              "right hip joint",
              "other site",
              "right wrist joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "unknown",
              "right 3rd MCP joint",
              "right 1st MTP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "unknown",
              "synovectomy",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "unknown",
              "synovectomy",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    }
  ]
}