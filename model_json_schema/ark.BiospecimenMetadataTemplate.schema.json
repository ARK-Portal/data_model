{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "PFA-fixed tissue",
        "flow-sorted cells",
        "nuclei suspension",
        "fresh tissue",
        "cell or tissue lysate",
        "FFPE tissue",
        "cell suspension",
        "frozen tissue",
        ""
      ]
    },
    "program": {
      "enum": [
        "AMP RA/SLE",
        "AMP AIM",
        "Community Contribution"
      ]
    },
    "visitID": {},
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "synovial fluid",
        "synovial tissue",
        "skin biopsy",
        "serum",
        "saliva",
        "uvea",
        "fibroblast-like synoviocyte",
        "suction blister fluid",
        "whole blood",
        "total leukocytes",
        "suction blister cells",
        "PBMCs",
        "kidney biopsy",
        "plasma",
        "urine",
        "skin swab",
        "none",
        "stool",
        "salivary gland"
      ]
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "parentBiospecimenID": {},
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "ELLIPSS",
          "RA",
          "LOCKIT",
          "STAMP",
          "AIM for RA",
          "SLE",
          "V-CoRT"
        ]
      },
      "maxItems": 7
    },
    "userDefinedCellType": {},
    "FACSPopulation": {},
    "cellOntologyID": {},
    "cellType": {},
    "anatomicalSite": {
      "enum": [
        "right 1st MTP joint",
        "unknown",
        "left hip joint",
        "other site",
        "right 2nd MTP joint",
        "left wrist joint",
        "right ankle joint",
        "left knee joint",
        "right 3rd MCP joint",
        "right wrist joint",
        "right hip joint",
        "right 2nd MCP joint",
        "left ankle joint",
        "left 2nd MCP joint",
        "right knee joint",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "synovectomy",
        "unknown",
        "arthroplasty",
        "biopsy",
        ""
      ]
    },
    "krennInflammatory": {},
    "krennStroma": {},
    "krennLining": {},
    "krennSynovitisScore": {},
    "skinSiteStatus": {
      "enum": [
        "lesional proximal",
        "non-lesional",
        "healthy control",
        "lesional",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    }
  },
  "required": [
    "biospecimenID",
    "program",
    "Component",
    "biospecimenType",
    "individualID",
    "project"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "unknown",
              "left hip joint",
              "other site",
              "right 2nd MTP joint",
              "left wrist joint",
              "right ankle joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right hip joint",
              "right 2nd MCP joint",
              "left ankle joint",
              "left 2nd MCP joint",
              "right knee joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "unknown",
              "left hip joint",
              "other site",
              "right 2nd MTP joint",
              "left wrist joint",
              "right ankle joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right hip joint",
              "right 2nd MCP joint",
              "left ankle joint",
              "left 2nd MCP joint",
              "right knee joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "unknown",
              "left hip joint",
              "other site",
              "right 2nd MTP joint",
              "left wrist joint",
              "right ankle joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right hip joint",
              "right 2nd MCP joint",
              "left ankle joint",
              "left 2nd MCP joint",
              "right knee joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "unknown",
              "left hip joint",
              "other site",
              "right 2nd MTP joint",
              "left wrist joint",
              "right ankle joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right hip joint",
              "right 2nd MCP joint",
              "left ankle joint",
              "left 2nd MCP joint",
              "right knee joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "unknown",
              "left hip joint",
              "other site",
              "right 2nd MTP joint",
              "left wrist joint",
              "right ankle joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right hip joint",
              "right 2nd MCP joint",
              "left ankle joint",
              "left 2nd MCP joint",
              "right knee joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 1st MTP joint",
              "unknown",
              "left hip joint",
              "other site",
              "right 2nd MTP joint",
              "left wrist joint",
              "right ankle joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right hip joint",
              "right 2nd MCP joint",
              "left ankle joint",
              "left 2nd MCP joint",
              "right knee joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "unknown",
              "arthroplasty",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "unknown",
              "arthroplasty",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "non-lesional",
              "healthy control",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "non-lesional",
              "healthy control",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "non-lesional",
              "healthy control",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "non-lesional",
              "healthy control",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    }
  ]
}