{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "biospecimenType": {
      "enum": [
        "kidney biopsy",
        "stool",
        "suction blister cells",
        "saliva",
        "PBMCs",
        "salivary gland",
        "plasma",
        "serum",
        "synovial fluid",
        "synovial tissue",
        "skin swab",
        "none",
        "whole blood",
        "urine",
        "skin biopsy",
        "total leukocytes",
        "suction blister fluid",
        "fibroblast-like synoviocyte",
        "uvea"
      ]
    },
    "biospecimenSubtype": {
      "enum": [
        "FFPE tissue",
        "cell or tissue lysate",
        "cell suspension",
        "PFA-fixed tissue",
        "frozen tissue",
        "flow-sorted cells",
        "fresh tissue",
        "nuclei suspension",
        ""
      ]
    },
    "parentBiospecimenID": {},
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "ELLIPSS",
          "LOCKIT",
          "STAMP",
          "AIM for RA",
          "V-CoRT",
          "SLE",
          "RA"
        ]
      },
      "maxItems": 7
    },
    "visitID": {},
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "program": {
      "enum": [
        "AMP AIM",
        "Community Contribution",
        "AMP RA/SLE"
      ]
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "skinSiteStatus": {
      "enum": [
        "non-lesional",
        "lesional proximal",
        "lesional",
        "healthy control",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "right 2nd MTP joint",
        "left ankle joint",
        "other site",
        "left hip joint",
        "unknown",
        "right knee joint",
        "right wrist joint",
        "right hip joint",
        "left 2nd MCP joint",
        "right 1st MTP joint",
        "right ankle joint",
        "right 2nd MCP joint",
        "left knee joint",
        "left wrist joint",
        "right 3rd MCP joint",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "arthroplasty",
        "unknown",
        "synovectomy",
        "biopsy",
        ""
      ]
    },
    "krennInflammatory": {},
    "krennLining": {},
    "krennSynovitisScore": {},
    "krennStroma": {},
    "cellType": {},
    "cellOntologyID": {},
    "userDefinedCellType": {},
    "FACSPopulation": {}
  },
  "required": [
    "biospecimenType",
    "project",
    "biospecimenID",
    "program",
    "individualID",
    "Component"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "lesional proximal",
              "lesional",
              "healthy control"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "lesional proximal",
              "lesional",
              "healthy control"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "lesional proximal",
              "lesional",
              "healthy control"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "non-lesional",
              "lesional proximal",
              "lesional",
              "healthy control"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MTP joint",
              "left ankle joint",
              "other site",
              "left hip joint",
              "unknown",
              "right knee joint",
              "right wrist joint",
              "right hip joint",
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left knee joint",
              "left wrist joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MTP joint",
              "left ankle joint",
              "other site",
              "left hip joint",
              "unknown",
              "right knee joint",
              "right wrist joint",
              "right hip joint",
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left knee joint",
              "left wrist joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MTP joint",
              "left ankle joint",
              "other site",
              "left hip joint",
              "unknown",
              "right knee joint",
              "right wrist joint",
              "right hip joint",
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left knee joint",
              "left wrist joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MTP joint",
              "left ankle joint",
              "other site",
              "left hip joint",
              "unknown",
              "right knee joint",
              "right wrist joint",
              "right hip joint",
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left knee joint",
              "left wrist joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MTP joint",
              "left ankle joint",
              "other site",
              "left hip joint",
              "unknown",
              "right knee joint",
              "right wrist joint",
              "right hip joint",
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left knee joint",
              "left wrist joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MTP joint",
              "left ankle joint",
              "other site",
              "left hip joint",
              "unknown",
              "right knee joint",
              "right wrist joint",
              "right hip joint",
              "left 2nd MCP joint",
              "right 1st MTP joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "left knee joint",
              "left wrist joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "unknown",
              "synovectomy",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "unknown",
              "synovectomy",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    }
  ]
}