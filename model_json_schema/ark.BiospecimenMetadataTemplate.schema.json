{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "parentBiospecimenID": {},
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "altSampleID": {},
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "LOCKIT",
          "STAMP",
          "V-CoRT",
          "AIM for RA",
          "SLE",
          "RA",
          "ELLIPSS"
        ]
      },
      "maxItems": 7
    },
    "biospecimenSubtype": {
      "enum": [
        "nuclei suspension",
        "frozen tissue",
        "cell suspension",
        "cell or tissue lysate",
        "flow-sorted cells",
        "FFPE tissue",
        "supernatant",
        "fresh tissue",
        "PFA-fixed tissue",
        ""
      ]
    },
    "biospecimenType": {
      "enum": [
        "uvea",
        "stool",
        "total leukocytes",
        "skin swab",
        "whole blood",
        "primary cell culture",
        "serum",
        "suction blister fluid",
        "synovial tissue",
        "kidney biopsy",
        "cell line",
        "plasma",
        "saliva",
        "fibroblast-like synoviocyte",
        "synovial fluid",
        "urine",
        "PBMCs",
        "suction blister cells",
        "salivary gland",
        "skin biopsy",
        "none"
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "notes": {},
    "program": {
      "enum": [
        "AMP AIM",
        "Community Contribution",
        "AMP RA/SLE"
      ]
    },
    "cellOntologyID": {},
    "userDefinedCellType": {},
    "cellType": {},
    "FACSPopulation": {},
    "skinSiteStatus": {
      "enum": [
        "lesional",
        "healthy control",
        "lesional proximal",
        "non-lesional",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "right 2nd MCP joint",
        "right wrist joint",
        "unknown",
        "left knee joint",
        "other site",
        "right 1st MTP joint",
        "left ankle joint",
        "left wrist joint",
        "right knee joint",
        "right 2nd MTP joint",
        "right 3rd MCP joint",
        "right hip joint",
        "left hip joint",
        "left 2nd MCP joint",
        "right ankle joint",
        ""
      ]
    },
    "primaryCellSource": {
      "enum": [
        "pannus-derived epidermis",
        "urine",
        "kidney",
        "pannus-derived dermis",
        "uvea",
        "PBMCs",
        "salivary gland",
        "total leukocytes",
        "whole blood",
        "synovial tissue",
        ""
      ]
    },
    "krennStroma": {},
    "krennLining": {},
    "synovialCollectionProcedure": {
      "enum": [
        "synovectomy",
        "unknown",
        "arthroplasty",
        "biopsy",
        ""
      ]
    },
    "krennSynovitisScore": {},
    "krennInflammatory": {},
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "visitID": {}
  },
  "required": [
    "individualID",
    "Component",
    "project",
    "biospecimenType",
    "biospecimenID",
    "program"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "cell line"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "cell line"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "healthy control",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "healthy control",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "healthy control",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "healthy control",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "left knee joint",
              "other site",
              "right 1st MTP joint",
              "left ankle joint",
              "left wrist joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "left hip joint",
              "left 2nd MCP joint",
              "right ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "left knee joint",
              "other site",
              "right 1st MTP joint",
              "left ankle joint",
              "left wrist joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "left hip joint",
              "left 2nd MCP joint",
              "right ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "left knee joint",
              "other site",
              "right 1st MTP joint",
              "left ankle joint",
              "left wrist joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "left hip joint",
              "left 2nd MCP joint",
              "right ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "left knee joint",
              "other site",
              "right 1st MTP joint",
              "left ankle joint",
              "left wrist joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "left hip joint",
              "left 2nd MCP joint",
              "right ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "left knee joint",
              "other site",
              "right 1st MTP joint",
              "left ankle joint",
              "left wrist joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "left hip joint",
              "left 2nd MCP joint",
              "right ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right 2nd MCP joint",
              "right wrist joint",
              "unknown",
              "left knee joint",
              "other site",
              "right 1st MTP joint",
              "left ankle joint",
              "left wrist joint",
              "right knee joint",
              "right 2nd MTP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "left hip joint",
              "left 2nd MCP joint",
              "right ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "pannus-derived epidermis",
              "urine",
              "kidney",
              "pannus-derived dermis",
              "uvea",
              "PBMCs",
              "salivary gland",
              "total leukocytes",
              "whole blood",
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "unknown",
              "arthroplasty",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "unknown",
              "arthroplasty",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "unknown",
              "arthroplasty",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP AIM"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "visitID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "visitID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP RA/SLE"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "visitID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "visitID"
        ]
      }
    }
  ]
}