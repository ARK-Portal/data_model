{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "notes": {},
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "AIM for RA",
          "SLE",
          "ELLIPSS",
          "STAMP",
          "V-CoRT",
          "LOCKIT",
          "RA"
        ]
      },
      "maxItems": 7
    },
    "program": {
      "enum": [
        "AMP AIM",
        "AMP RA/SLE",
        "Community Contribution"
      ]
    },
    "parentBiospecimenID": {},
    "altSampleID": {},
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "PFA-fixed tissue",
        "supernatant",
        "cell suspension",
        "fresh tissue",
        "FFPE tissue",
        "frozen tissue",
        "flow-sorted cells",
        "cell or tissue lysate",
        "nuclei suspension",
        ""
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "none",
        "skin biopsy",
        "suction blister cells",
        "primary cell culture",
        "synovial tissue",
        "fibroblast-like synoviocyte",
        "urine",
        "total leukocytes",
        "whole blood",
        "kidney biopsy",
        "saliva",
        "salivary gland",
        "uvea",
        "PBMCs",
        "skin swab",
        "plasma",
        "cell line",
        "serum",
        "suction blister fluid",
        "stool",
        "synovial fluid"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "visitID": {},
    "cellType": {},
    "userDefinedCellType": {},
    "cellOntologyID": {},
    "FACSPopulation": {},
    "anatomicalSite": {
      "enum": [
        "left 2nd MCP joint",
        "left ankle joint",
        "other site",
        "right 1st MTP joint",
        "right hip joint",
        "right knee joint",
        "left knee joint",
        "unknown",
        "left hip joint",
        "right 3rd MCP joint",
        "right wrist joint",
        "right 2nd MTP joint",
        "left wrist joint",
        "right ankle joint",
        "right 2nd MCP joint",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "lesional",
        "healthy control",
        "lesional proximal",
        "non-lesional",
        ""
      ]
    },
    "primaryCellSource": {
      "enum": [
        "urine",
        "total leukocytes",
        "kidney",
        "whole blood",
        "pannus-derived epidermis",
        "salivary gland",
        "uvea",
        "PBMCs",
        "synovial tissue",
        "pannus-derived dermis",
        ""
      ]
    },
    "krennInflammatory": {},
    "synovialCollectionProcedure": {
      "enum": [
        "synovectomy",
        "arthroplasty",
        "biopsy",
        "unknown",
        ""
      ]
    },
    "krennSynovitisScore": {},
    "krennLining": {},
    "krennStroma": {},
    "salivaCollectionProcedure": {
      "enum": [
        "unstimulated",
        "stimulated",
        ""
      ]
    }
  },
  "required": [
    "plateID",
    "project",
    "program",
    "individualID",
    "biospecimenID",
    "biospecimenType",
    "Component"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP AIM"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "visitID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "visitID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP RA/SLE"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "visitID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "visitID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "cell line"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "cell line"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left 2nd MCP joint",
              "left ankle joint",
              "other site",
              "right 1st MTP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "unknown",
              "left hip joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "left wrist joint",
              "right ankle joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left 2nd MCP joint",
              "left ankle joint",
              "other site",
              "right 1st MTP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "unknown",
              "left hip joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "left wrist joint",
              "right ankle joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left 2nd MCP joint",
              "left ankle joint",
              "other site",
              "right 1st MTP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "unknown",
              "left hip joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "left wrist joint",
              "right ankle joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left 2nd MCP joint",
              "left ankle joint",
              "other site",
              "right 1st MTP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "unknown",
              "left hip joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "left wrist joint",
              "right ankle joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left 2nd MCP joint",
              "left ankle joint",
              "other site",
              "right 1st MTP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "unknown",
              "left hip joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "left wrist joint",
              "right ankle joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left 2nd MCP joint",
              "left ankle joint",
              "other site",
              "right 1st MTP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "unknown",
              "left hip joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right 2nd MTP joint",
              "left wrist joint",
              "right ankle joint",
              "right 2nd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "healthy control",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "healthy control",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "healthy control",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "healthy control",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "urine",
              "total leukocytes",
              "kidney",
              "whole blood",
              "pannus-derived epidermis",
              "salivary gland",
              "uvea",
              "PBMCs",
              "synovial tissue",
              "pannus-derived dermis"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "arthroplasty",
              "biopsy",
              "unknown"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "arthroplasty",
              "biopsy",
              "unknown"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "arthroplasty",
              "biopsy",
              "unknown"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "unstimulated",
              "stimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    }
  ]
}