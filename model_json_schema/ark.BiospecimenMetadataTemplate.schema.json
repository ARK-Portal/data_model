{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "biospecimenType": {
      "enum": [
        "fibroblast-like synoviocyte",
        "synovial fluid",
        "synovial tissue",
        "total leukocytes",
        "urine",
        "salivary gland",
        "serum",
        "PBMCs",
        "kidney biopsy",
        "none",
        "plasma",
        "stool",
        "skin swab",
        "skin biopsy",
        "saliva",
        "suction blister cells",
        "suction blister fluid",
        "whole blood",
        "uvea"
      ]
    },
    "visitID": {},
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "nuclei suspension",
        "PFA-fixed tissue",
        "flow-sorted cells",
        "fresh tissue",
        "cell or tissue lysate",
        "frozen tissue",
        "cell suspension",
        "FFPE tissue",
        ""
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "parentBiospecimenID": {},
    "program": {
      "enum": [
        "AMP AIM",
        "AMP RA/SLE",
        "Community Contribution"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "LOCKIT",
          "ELLIPSS",
          "SLE",
          "V-CoRT",
          "AIM for RA",
          "RA",
          "STAMP"
        ]
      },
      "maxItems": 7
    },
    "synovialCollectionProcedure": {
      "enum": [
        "arthroplasty",
        "biopsy",
        "unknown",
        "synovectomy",
        ""
      ]
    },
    "anatomicalSite": {
      "enum": [
        "right ankle joint",
        "left ankle joint",
        "right 2nd MTP joint",
        "left wrist joint",
        "left hip joint",
        "right 1st MTP joint",
        "left 2nd MCP joint",
        "right 2nd MCP joint",
        "right 3rd MCP joint",
        "right hip joint",
        "right knee joint",
        "left knee joint",
        "right wrist joint",
        "unknown",
        "other site",
        ""
      ]
    },
    "krennLining": {},
    "krennStroma": {},
    "krennSynovitisScore": {},
    "krennInflammatory": {},
    "skinSiteStatus": {
      "enum": [
        "healthy control",
        "lesional",
        "lesional proximal",
        "non-lesional",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "cellType": {},
    "userDefinedCellType": {},
    "cellOntologyID": {},
    "FACSPopulation": {}
  },
  "required": [
    "biospecimenType",
    "individualID",
    "biospecimenID",
    "program",
    "Component",
    "project"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "biopsy",
              "unknown",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "biopsy",
              "unknown",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "left ankle joint",
              "right 2nd MTP joint",
              "left wrist joint",
              "left hip joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "right 2nd MCP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "right wrist joint",
              "unknown",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "left ankle joint",
              "right 2nd MTP joint",
              "left wrist joint",
              "left hip joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "right 2nd MCP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "right wrist joint",
              "unknown",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "left ankle joint",
              "right 2nd MTP joint",
              "left wrist joint",
              "left hip joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "right 2nd MCP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "right wrist joint",
              "unknown",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "left ankle joint",
              "right 2nd MTP joint",
              "left wrist joint",
              "left hip joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "right 2nd MCP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "right wrist joint",
              "unknown",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "left ankle joint",
              "right 2nd MTP joint",
              "left wrist joint",
              "left hip joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "right 2nd MCP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "right wrist joint",
              "unknown",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right ankle joint",
              "left ankle joint",
              "right 2nd MTP joint",
              "left wrist joint",
              "left hip joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "right 2nd MCP joint",
              "right 3rd MCP joint",
              "right hip joint",
              "right knee joint",
              "left knee joint",
              "right wrist joint",
              "unknown",
              "other site"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "lesional proximal",
              "non-lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    }
  ]
}