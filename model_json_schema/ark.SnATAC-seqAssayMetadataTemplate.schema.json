{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "softwareAndVersion": {
      "enum": [
        "Cell Ranger v6.0.1",
        "Cell Ranger v6.0.2",
        "Cell Ranger v7.0.1",
        "Cell Ranger v6.1.0",
        "Cell Ranger v7.1.0",
        "Cell Ranger v3.0.2",
        "Space Ranger 3.1.2",
        "Cell Ranger v3.0.1",
        "Cell Ranger 9.0.1",
        "Cell Ranger v3.0.0",
        "Cell Ranger v8.0.1",
        "Cell Ranger v7.0.0",
        "Cell Ranger v6.1.1",
        "Space Ranger 3.0.0",
        "Cell Ranger v4.0.0",
        "Cell Ranger v3.1.0",
        "Cell Ranger v5.0.0",
        "Cell Ranger v8.0.0",
        "Cell Ranger v6.1.2",
        "demuxlet",
        "Space Ranger 3.1.1",
        "Space Ranger 3.1.0",
        "Space Ranger 3.1.3",
        "Cell Ranger v5.0.1",
        "BD FACSDiva 8.0.1",
        "Cell Ranger v6.0.0",
        "Cell Ranger ATAC v1.1.0",
        "Space Ranger 3.0.1",
        "Cell Ranger v7.2.0",
        "Cell Ranger v9.0.0",
        ""
      ]
    },
    "dataCollectionBatch": {},
    "nucleicAcidSource": {
      "type": "array",
      "items": {
        "enum": [
          "surface protein feature barcode",
          "TCR mRNA",
          "multiplexing oligo",
          "intracellular protein feature barcode",
          "gDNA",
          "rRNA-depleted RNA",
          "antigen capture barcode",
          "CRISPR protospacer feature barcode",
          "Tn5-accessible gDNA",
          "poly(A) RNA",
          "globin-depleted RNA",
          "BCR mRNA"
        ]
      },
      "maxItems": 12
    },
    "totalReads": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "platform": {
      "type": "array",
      "items": {
        "enum": [
          "Chromium Next GEM Chip M",
          "Illumina HiSeq X Ten",
          "Cytek Aurora Evo",
          "Xenium",
          "BD FACSCanto II",
          "BD FACSAria III",
          "GEM-X Flex Gene Expression Chip",
          "Chromium X",
          "Sony MA900",
          "Thermo Fisher Attune Xenith",
          "Chromium iX",
          "BD FACSymphony S6",
          "Chromium Next GEM Chip Q",
          "BD FACSDiscover S8",
          "Helios Mass Cytometer",
          "BD FACSLyric Clinical",
          "BD LSRFortessa",
          "Thermo Fisher Attune NxT",
          "Thermo Fisher Attune CytPix",
          "Visium CytAssist",
          "BD FACSDiscover A8",
          "Not Applicable",
          "Chromium Next GEM Chip H",
          "Chromium Next GEM Chip K",
          "Chromium Xo",
          "none",
          "Chromium GEM-X Single Cell 3' Chip v4",
          "Fluidigm BioMark",
          "Hyperion",
          "Illumina NovaSeq X",
          "unknown",
          "BD FACSMelody",
          "GEM-X OCM 5' Chip",
          "BD FACSAria Fusion cell sorter",
          "Illumina NovaSeq 6000",
          "Illumina HiSeq 2500",
          "Chromium Controller",
          "Chromium Next GEM Chip G",
          "Cytek Aurora",
          "BD FACSCanto",
          "Olink Signature Q100",
          "Illumina NextSeq 500",
          "CyTOF XT"
        ]
      },
      "maxItems": 43
    },
    "libraryPrepMethod": {
      "enum": [
        "Fluidigm C1 HT",
        "TruSeq Stranded mRNA",
        "NEBNext Human Immune Sequencing Kit",
        "Nextera XT DNA",
        "10x Chromium Next GEM Single Cell ATAC v2",
        "10x Chromium Next GEM Single Cell 5' v1.1",
        "SMART-Seq Human TCR with UMI",
        "Chromium Next GEM Single Cell ATAC v1.1",
        "10x Chromium Fixed RNA Human Transcriptome",
        "10x GEM-X Flex Gene Expression Human",
        "Takara Human TCR profiling for Illumina",
        "10x Chromium GEM-X Single Cell 5' v3",
        "Takara Human scTCR profiling for Illumina",
        "Takara Human BCR profiling for Illumina",
        "SMART-Seq v4 Ultra Low Input RNA",
        "Takara Human TCRv2 profiling for Illumina",
        "10x Chromium Single Cell Human TCR",
        "in-house library prep",
        "SMARTer Stranded Total RNA v2",
        "SMART-Seq Human BCR with UMI",
        "10x Chromium Single Cell Human BCR",
        "10x Chromium Next GEM Single Cell 5' v2",
        "10x Chromium Next GEM Single Cell 3' 3.1",
        "10x Chromium GEM-X Single Cell 3' v4",
        "CEL-Seq2",
        "QIAseq miRNA Library",
        "10x GEM-X Universal 5? Gene Expression v3",
        "NEBNext Ultra II Directional RNA Library",
        "10x Chromium Next GEM Single Cell 3'",
        "custom DASH-treatment",
        "Nextera XT"
      ]
    },
    "sampleProcessingBatch": {},
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "serial IHC",
          "Olink Focus",
          "Xenium",
          "WES",
          "CosMX",
          "imaging mass spectrometry",
          "CITESeq",
          "CE-MS",
          "multiplexed ELISA",
          "SNP array",
          "VDJSeq",
          "Olink Reveal",
          "flow cytometry",
          "RNASeq",
          "Olink Target 48",
          "ASAPSeq",
          "NULISA",
          "snRNASeq",
          "SomaScan",
          "kiloplex",
          "Olink Explore HT",
          "CyTOF",
          "feature barcode sequencing",
          "imaging mass cytometry",
          "scRNASeq",
          "snATACSeq",
          "scVDJSeq",
          "Olink Flex",
          "LC-MS/MS",
          "Olink Target 96",
          "WGS",
          "H&E"
        ]
      },
      "maxItems": 32
    },
    "percentCellViability": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "specimenModality": {
      "enum": [
        "multispecimen",
        "single specimen"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "sequencingSaturation": {},
    "alignmentReference": {
      "enum": [
        "10x Cell Ranger Human GRCh38 2024-A",
        "vdj_GRCh38_alts_ensembl-4.0.0",
        "10x Cell Ranger Human GRCh38 2020-A",
        "unknown"
      ]
    },
    "inputCellCount": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "10xProbeSetReference": {
      "enum": [
        "custom probe set",
        "Visium Human Transcriptome v1",
        "Flex Human Transcriptome Probe Set v1.1.0",
        "Visium Human Transcriptome v2",
        "Flex Human Transcriptome Probe Set v1.0.1",
        ""
      ]
    },
    "libraryID": {},
    "biospecimenID": {}
  },
  "required": [
    "nucleicAcidSource",
    "totalReads",
    "platform",
    "libraryPrepMethod",
    "assay",
    "percentCellViability",
    "specimenModality",
    "Component",
    "alignmentReference",
    "inputCellCount"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "libraryPrepMethod": {
            "enum": [
              "10x GEM-X Flex Gene Expression Human"
            ]
          }
        },
        "required": [
          "libraryPrepMethod"
        ]
      },
      "then": {
        "properties": {
          "10xProbeSetReference": {
            "enum": [
              "custom probe set",
              "Visium Human Transcriptome v1",
              "Flex Human Transcriptome Probe Set v1.1.0",
              "Visium Human Transcriptome v2",
              "Flex Human Transcriptome Probe Set v1.0.1"
            ]
          }
        },
        "required": [
          "10xProbeSetReference"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "libraryID": {}
        },
        "required": [
          "libraryID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    }
  ]
}