{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "platform": {
      "type": "array",
      "items": {
        "enum": [
          "Chromium Xo",
          "Chromium Next GEM Chip M",
          "BD FACSAria Fusion cell sorter",
          "Xenium",
          "Thermo Fisher Attune Xenith",
          "Visium CytAssist",
          "Sony MA900",
          "GEM-X OCM 5' Chip",
          "Illumina HiSeq 2500",
          "none",
          "Thermo Fisher Attune CytPix",
          "BD FACSCanto",
          "BD FACSymphony S6",
          "Cytek Aurora",
          "Fluidigm BioMark",
          "Illumina NovaSeq 6000",
          "Not Applicable",
          "BD FACSMelody",
          "Illumina NextSeq 500",
          "Chromium Next GEM Chip G",
          "Chromium Next GEM Chip H",
          "Chromium Next GEM Chip K",
          "BD LSRFortessa",
          "BD FACSDiscover S8",
          "BD FACSCanto II",
          "BD FACSAria III",
          "Illumina NovaSeq X",
          "BD FACSDiscover A8",
          "Chromium iX",
          "unknown",
          "Cytek Aurora Evo",
          "GEM-X Flex Gene Expression Chip",
          "Chromium X",
          "Olink Signature Q100",
          "CyTOF XT",
          "Hyperion",
          "Chromium Next GEM Chip Q",
          "Thermo Fisher Attune NxT",
          "Helios Mass Cytometer",
          "Illumina HiSeq X Ten",
          "Chromium Controller",
          "BD FACSLyric Clinical",
          "Chromium GEM-X Single Cell 3' Chip v4"
        ]
      },
      "maxItems": 43
    },
    "sequencingSaturation": {},
    "nucleicAcidSource": {
      "type": "array",
      "items": {
        "enum": [
          "CRISPR protospacer feature barcode",
          "gDNA",
          "surface protein feature barcode",
          "TCR mRNA",
          "intracellular protein feature barcode",
          "BCR mRNA",
          "multiplexing oligo",
          "rRNA-depleted RNA",
          "poly(A) RNA",
          "Tn5-accessible gDNA",
          "globin-depleted RNA",
          "antigen capture barcode"
        ]
      },
      "maxItems": 12
    },
    "sampleProcessingBatch": {},
    "dataCollectionBatch": {},
    "inputCellCount": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "Olink Flex",
          "scRNASeq",
          "Olink Explore HT",
          "Xenium",
          "multiplexed ELISA",
          "scVDJSeq",
          "snRNASeq",
          "CE-MS",
          "CyTOF",
          "Olink Target 48",
          "imaging mass spectrometry",
          "Olink Target 96",
          "H&E",
          "LC-MS/MS",
          "Olink Reveal",
          "CosMX",
          "imaging mass cytometry",
          "SNP array",
          "ASAPSeq",
          "CITESeq",
          "SomaScan",
          "WGS",
          "RNASeq",
          "feature barcode sequencing",
          "VDJSeq",
          "NULISA",
          "WES",
          "kiloplex",
          "snATACSeq",
          "serial IHC",
          "Olink Focus",
          "flow cytometry"
        ]
      },
      "maxItems": 32
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "percentCellViability": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "libraryPrepMethod": {
      "enum": [
        "SMART-Seq Human BCR with UMI",
        "NEBNext Ultra II Directional RNA Library",
        "10x Chromium Single Cell Human TCR",
        "Takara Human BCR profiling for Illumina",
        "Takara Human scTCR profiling for Illumina",
        "10x Chromium Fixed RNA Human Transcriptome",
        "10x Chromium GEM-X Single Cell 3' v4",
        "in-house library prep",
        "SMART-Seq v4 Ultra Low Input RNA",
        "Chromium Next GEM Single Cell ATAC v1.1",
        "NEBNext Human Immune Sequencing Kit",
        "QIAseq miRNA Library",
        "10x GEM-X Flex Gene Expression Human",
        "Takara Human TCR profiling for Illumina",
        "10x Chromium Next GEM Single Cell 3' 3.1",
        "10x Chromium Next GEM Single Cell ATAC v2",
        "10x Chromium Next GEM Single Cell 5' v1.1",
        "TruSeq Stranded mRNA",
        "10x GEM-X Universal 5? Gene Expression v3",
        "Nextera XT DNA",
        "10x Chromium Next GEM Single Cell 5' v2",
        "CEL-Seq2",
        "Takara Human TCRv2 profiling for Illumina",
        "SMART-Seq Human TCR with UMI",
        "Nextera XT",
        "custom DASH-treatment",
        "10x Chromium GEM-X Single Cell 5' v3",
        "Fluidigm C1 HT",
        "10x Chromium Single Cell Human BCR",
        "SMARTer Stranded Total RNA v2",
        "10x Chromium Next GEM Single Cell 3'"
      ]
    },
    "alignmentReference": {
      "enum": [
        "vdj_GRCh38_alts_ensembl-4.0.0",
        "10x Cell Ranger Human GRCh38 2020-A",
        "unknown",
        "10x Cell Ranger Human GRCh38 2024-A"
      ]
    },
    "specimenModality": {
      "enum": [
        "single specimen",
        "multispecimen"
      ]
    },
    "totalReads": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "softwareAndVersion": {
      "enum": [
        "Cell Ranger v6.1.1",
        "Space Ranger 3.1.1",
        "Space Ranger 3.0.0",
        "Space Ranger 3.0.1",
        "Cell Ranger v6.1.2",
        "Cell Ranger v6.0.2",
        "Cell Ranger 9.0.1",
        "Space Ranger 3.1.3",
        "demuxlet",
        "Cell Ranger v4.0.0",
        "Cell Ranger v7.0.1",
        "Cell Ranger v7.1.0",
        "Cell Ranger v8.0.0",
        "Space Ranger 3.1.2",
        "Cell Ranger ATAC v1.1.0",
        "Cell Ranger v3.0.2",
        "Cell Ranger v7.0.0",
        "Cell Ranger v6.0.0",
        "Cell Ranger v8.0.1",
        "Cell Ranger v3.0.1",
        "Cell Ranger v7.2.0",
        "Cell Ranger v5.0.1",
        "Cell Ranger v3.0.0",
        "Space Ranger 3.1.0",
        "Cell Ranger v5.0.0",
        "BD FACSDiva 8.0.1",
        "Cell Ranger v6.1.0",
        "Cell Ranger v3.1.0",
        "Cell Ranger v6.0.1",
        "Cell Ranger v9.0.0",
        ""
      ]
    },
    "10xProbeSetReference": {
      "enum": [
        "Visium Human Transcriptome v1",
        "custom probe set",
        "Flex Human Transcriptome Probe Set v1.0.1",
        "Flex Human Transcriptome Probe Set v1.1.0",
        "Visium Human Transcriptome v2",
        ""
      ]
    },
    "biospecimenID": {},
    "libraryID": {}
  },
  "required": [
    "platform",
    "nucleicAcidSource",
    "inputCellCount",
    "assay",
    "Component",
    "percentCellViability",
    "libraryPrepMethod",
    "alignmentReference",
    "specimenModality",
    "totalReads"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "libraryPrepMethod": {
            "enum": [
              "10x GEM-X Flex Gene Expression Human"
            ]
          }
        },
        "required": [
          "libraryPrepMethod"
        ]
      },
      "then": {
        "properties": {
          "10xProbeSetReference": {
            "enum": [
              "Visium Human Transcriptome v1",
              "custom probe set",
              "Flex Human Transcriptome Probe Set v1.0.1",
              "Flex Human Transcriptome Probe Set v1.1.0",
              "Visium Human Transcriptome v2"
            ]
          }
        },
        "required": [
          "10xProbeSetReference"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "libraryID": {}
        },
        "required": [
          "libraryID"
        ]
      }
    }
  ]
}