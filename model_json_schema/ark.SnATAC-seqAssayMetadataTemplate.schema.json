{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "imaging mass spectrometry",
          "flow cytometry",
          "scRNASeq",
          "ASAPSeq",
          "scVDJSeq",
          "VDJSeq",
          "Olink Reveal",
          "SNP array",
          "LC-MS/MS",
          "kiloplex",
          "feature barcode sequencing",
          "WGS",
          "multiplexed ELISA",
          "CE-MS",
          "H&E",
          "serial IHC",
          "RNASeq",
          "NULISA",
          "Xenium",
          "CITESeq",
          "Olink Target 96",
          "snRNASeq",
          "WES",
          "imaging mass cytometry",
          "SomaScan",
          "CosMX",
          "CyTOF",
          "Olink Flex",
          "Olink Explore HT",
          "Olink Target 48",
          "snATACSeq",
          "Olink Focus"
        ]
      },
      "maxItems": 32
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "totalReads": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "dataCollectionBatch": {},
    "libraryPrepMethod": {
      "enum": [
        "SMART-Seq Human TCR with UMI",
        "CEL-Seq2",
        "Takara Human TCRv2 profiling for Illumina",
        "10x Chromium Next GEM Single Cell 3'",
        "SMART-Seq Human BCR with UMI",
        "10x Chromium Next GEM Single Cell 3' 3.1",
        "10x Chromium GEM-X Single Cell 5' v3",
        "SMARTer Stranded Total RNA v2",
        "Fluidigm C1 HT",
        "10x Chromium Next GEM Single Cell 5' v2",
        "10x Chromium Fixed RNA Human Transcriptome",
        "NEBNext Ultra II Directional RNA Library",
        "Takara Human TCR profiling for Illumina",
        "TruSeq Stranded mRNA",
        "QIAseq miRNA Library",
        "SMART-Seq v4 Ultra Low Input RNA",
        "10x Chromium Single Cell Human TCR",
        "in-house library prep",
        "10x Chromium Next GEM Single Cell ATAC v2",
        "10x Chromium Single Cell Human BCR",
        "Nextera XT DNA",
        "Chromium Next GEM Single Cell ATAC v1.1",
        "NEBNext Human Immune Sequencing Kit",
        "Takara Human scTCR profiling for Illumina",
        "custom DASH-treatment",
        "10x GEM-X Universal 5? Gene Expression v3",
        "Nextera XT",
        "10x Chromium GEM-X Single Cell 3' v4",
        "Takara Human BCR profiling for Illumina",
        "10x GEM-X Flex Gene Expression Human",
        "10x Chromium Next GEM Single Cell 5' v1.1"
      ]
    },
    "specimenModality": {
      "enum": [
        "multispecimen",
        "single specimen"
      ]
    },
    "sequencingSaturation": {},
    "sampleProcessingBatch": {},
    "nucleicAcidSource": {
      "type": "array",
      "items": {
        "enum": [
          "BCR mRNA",
          "surface protein feature barcode",
          "antigen capture barcode",
          "Tn5-accessible gDNA",
          "intracellular protein feature barcode",
          "CRISPR protospacer feature barcode",
          "multiplexing oligo",
          "rRNA-depleted RNA",
          "poly(A) RNA",
          "TCR mRNA",
          "gDNA",
          "globin-depleted RNA"
        ]
      },
      "maxItems": 12
    },
    "inputCellCount": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "platform": {
      "type": "array",
      "items": {
        "enum": [
          "Illumina NovaSeq 6000",
          "GEM-X Flex Gene Expression Chip",
          "BD FACSDiscover A8",
          "Fluidigm BioMark",
          "Helios Mass Cytometer",
          "BD FACSAria Fusion cell sorter",
          "Chromium Next GEM Chip K",
          "Illumina HiSeq 2500",
          "Not Applicable",
          "Chromium iX",
          "Thermo Fisher Attune Xenith",
          "Olink Signature Q100",
          "Thermo Fisher Attune NxT",
          "Illumina HiSeq X Ten",
          "Sony MA900",
          "Chromium Xo",
          "Visium CytAssist",
          "BD FACSLyric Clinical",
          "Thermo Fisher Attune CytPix",
          "BD FACSCanto",
          "unknown",
          "Chromium Next GEM Chip M",
          "BD FACSCanto II",
          "Hyperion",
          "Cytek Aurora Evo",
          "Chromium Next GEM Chip H",
          "Xenium",
          "none",
          "GEM-X OCM 5' Chip",
          "BD LSRFortessa",
          "CyTOF XT",
          "Illumina NextSeq 500",
          "Chromium Next GEM Chip Q",
          "Illumina NovaSeq X",
          "Chromium X",
          "Chromium Next GEM Chip G",
          "Cytek Aurora",
          "BD FACSDiscover S8",
          "Chromium Controller",
          "BD FACSAria III",
          "BD FACSymphony S6",
          "BD FACSMelody",
          "Chromium GEM-X Single Cell 3' Chip v4"
        ]
      },
      "maxItems": 43
    },
    "softwareAndVersion": {
      "enum": [
        "Cell Ranger v6.0.1",
        "Space Ranger 3.1.3",
        "Cell Ranger v9.0.0",
        "BD FACSDiva 8.0.1",
        "Space Ranger 3.0.1",
        "Space Ranger 3.0.0",
        "Cell Ranger v3.0.1",
        "Cell Ranger v6.1.1",
        "Cell Ranger v3.0.0",
        "Cell Ranger v6.1.2",
        "Space Ranger 3.1.2",
        "Cell Ranger v6.0.0",
        "Cell Ranger v7.0.0",
        "Cell Ranger v6.0.2",
        "Cell Ranger v5.0.0",
        "Cell Ranger v5.0.1",
        "Cell Ranger v7.2.0",
        "Cell Ranger v3.0.2",
        "Cell Ranger v7.0.1",
        "Cell Ranger v3.1.0",
        "Cell Ranger v8.0.1",
        "Space Ranger 3.1.1",
        "Cell Ranger 9.0.1",
        "Cell Ranger ATAC v1.1.0",
        "Cell Ranger v8.0.0",
        "Cell Ranger v7.1.0",
        "Cell Ranger v6.1.0",
        "demuxlet",
        "Cell Ranger v4.0.0",
        "Space Ranger 3.1.0",
        ""
      ]
    },
    "alignmentReference": {
      "enum": [
        "10x Cell Ranger Human GRCh38 2020-A",
        "10x Cell Ranger Human GRCh38 2024-A",
        "vdj_GRCh38_alts_ensembl-4.0.0",
        "unknown"
      ]
    },
    "percentCellViability": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "10xProbeSetReference": {
      "enum": [
        "Flex Human Transcriptome Probe Set v1.0.1",
        "Flex Human Transcriptome Probe Set v1.1.0",
        "custom probe set",
        "Visium Human Transcriptome v2",
        "Visium Human Transcriptome v1",
        ""
      ]
    },
    "libraryID": {},
    "biospecimenID": {}
  },
  "required": [
    "assay",
    "Component",
    "totalReads",
    "libraryPrepMethod",
    "specimenModality",
    "nucleicAcidSource",
    "inputCellCount",
    "platform",
    "alignmentReference",
    "percentCellViability"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "libraryPrepMethod": {
            "enum": [
              "10x GEM-X Flex Gene Expression Human"
            ]
          }
        },
        "required": [
          "libraryPrepMethod"
        ]
      },
      "then": {
        "properties": {
          "10xProbeSetReference": {
            "enum": [
              "Flex Human Transcriptome Probe Set v1.0.1",
              "Flex Human Transcriptome Probe Set v1.1.0",
              "custom probe set",
              "Visium Human Transcriptome v2",
              "Visium Human Transcriptome v1"
            ]
          }
        },
        "required": [
          "10xProbeSetReference"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "libraryID": {}
        },
        "required": [
          "libraryID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    }
  ]
}