{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/example",
  "title": "example",
  "type": "object",
  "properties": {
    "project": {
      "enum": [
        "RA",
        "AIM for RA",
        "V-CoRT",
        "LOCKIT",
        "SLE",
        "ELLIPSS",
        "STAMP"
      ]
    },
    "program": {
      "enum": [
        "AMP AIM",
        "Community Contribution",
        "AMP RA/SLE"
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "frozen tissue",
        "PFA-fixed tissue",
        "nuclei suspension",
        "FFPE tissue",
        "flow-sorted cells",
        "fresh tissue",
        "cell suspension",
        ""
      ]
    },
    "individualID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "total leukocytes",
        "skin swab",
        "plasma",
        "urine",
        "synovial fluid",
        "fibroblast-like synoviocyte",
        "stool",
        "serum",
        "suction blister fluid",
        "synovial tissue",
        "whole blood",
        "salivary gland",
        "kidney biopsy",
        "none",
        "PBMCs",
        "suction blister cells",
        "uvea",
        "skin biopsy",
        "saliva"
      ]
    },
    "visitID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "parentBiospecimenID": {},
    "programPhase": {
      "enum": [
        "II",
        "I",
        ""
      ]
    },
    "userDefinedCellType": {},
    "cellOntologyID": {},
    "cellType": {},
    "FACSPopulation": {},
    "skinSiteStatus": {
      "enum": [
        "healthy control",
        "non-lesional",
        "lesional proximal",
        "lesional",
        ""
      ]
    },
    "FMAID": {},
    "anatomicalSite": {
      "enum": [
        "unknown",
        "left wrist joint",
        "right hip joint",
        "right 1st MTP joint",
        "right 2nd MTP joint",
        "left knee joint",
        "right 3rd MCP joint",
        "right 2nd MCP joint",
        "right knee joint",
        "right wrist joint",
        "left 2nd MCP joint",
        "left hip joint",
        "right ankle joint",
        "other site",
        "left ankle joint",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "arthroplasty",
        "biopsy",
        "synovectomy",
        ""
      ]
    },
    "krennLining": {},
    "krennStroma": {},
    "krennSynovitisScore": {},
    "krennInflammatory": {},
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    }
  },
  "required": [
    "project",
    "program",
    "biospecimenID",
    "Component",
    "individualID",
    "biospecimenType",
    "visitID"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP RA/SLE"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "programPhase": {
            "enum": [
              "II",
              "I"
            ]
          }
        },
        "required": [
          "programPhase"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "non-lesional",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "non-lesional",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "non-lesional",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "non-lesional",
              "lesional proximal",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "FMAID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FMAID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "FMAID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FMAID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "FMAID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FMAID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "FMAID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FMAID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "FMAID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FMAID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "FMAID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FMAID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "unknown",
              "left wrist joint",
              "right hip joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right knee joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "left hip joint",
              "right ankle joint",
              "other site",
              "left ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "unknown",
              "left wrist joint",
              "right hip joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right knee joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "left hip joint",
              "right ankle joint",
              "other site",
              "left ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "unknown",
              "left wrist joint",
              "right hip joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right knee joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "left hip joint",
              "right ankle joint",
              "other site",
              "left ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "unknown",
              "left wrist joint",
              "right hip joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right knee joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "left hip joint",
              "right ankle joint",
              "other site",
              "left ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "unknown",
              "left wrist joint",
              "right hip joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right knee joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "left hip joint",
              "right ankle joint",
              "other site",
              "left ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "unknown",
              "left wrist joint",
              "right hip joint",
              "right 1st MTP joint",
              "right 2nd MTP joint",
              "left knee joint",
              "right 3rd MCP joint",
              "right 2nd MCP joint",
              "right knee joint",
              "right wrist joint",
              "left 2nd MCP joint",
              "left hip joint",
              "right ankle joint",
              "other site",
              "left ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "biopsy",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "arthroplasty",
              "biopsy",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    }
  ]
}