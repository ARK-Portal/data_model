{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "alignmentReference": {
      "enum": [
        "10x Cell Ranger Human GRCh38 2020-A",
        "10x Cell Ranger Human GRCh38 2024-A",
        "vdj_GRCh38_alts_ensembl-4.0.0",
        "unknown"
      ]
    },
    "totalReads": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "platform": {
      "type": "array",
      "items": {
        "enum": [
          "BD FACSDiscover S8",
          "Chromium Next GEM Chip M",
          "Illumina NovaSeq X",
          "unknown",
          "BD LSRFortessa",
          "Chromium X",
          "Thermo Fisher Attune NxT",
          "Helios Mass Cytometer",
          "Chromium Xo",
          "Chromium Next GEM Chip G",
          "Illumina HiSeq X Ten",
          "Sony MA900",
          "Hyperion",
          "Chromium Next GEM Chip Q",
          "Chromium iX",
          "Visium CytAssist",
          "GEM-X OCM 5' Chip",
          "Chromium GEM-X Single Cell 3' Chip v4",
          "BD FACSAria Fusion cell sorter",
          "BD FACSMelody",
          "BD FACSCanto",
          "Thermo Fisher Attune CytPix",
          "BD FACSymphony S6",
          "Cytek Aurora",
          "Illumina NextSeq 500",
          "GEM-X Flex Gene Expression Chip",
          "Chromium Next GEM Chip H",
          "Chromium Next GEM Chip K",
          "CyTOF XT",
          "Illumina NovaSeq 6000",
          "Not Applicable",
          "Cytek Aurora Evo",
          "Xenium",
          "BD FACSDiscover A8",
          "BD FACSCanto II",
          "Chromium Controller",
          "Fluidigm BioMark",
          "Illumina HiSeq 2500",
          "Olink Signature Q100",
          "BD FACSAria III",
          "Thermo Fisher Attune Xenith",
          "BD FACSLyric Clinical",
          "none"
        ]
      },
      "maxItems": 43
    },
    "percentCellViability": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "SomaScan",
          "multiplexed ELISA",
          "Olink Focus",
          "ASAPSeq",
          "WGS",
          "Olink Flex",
          "CITESeq",
          "Olink Target 96",
          "CE-MS",
          "serial IHC",
          "CosMX",
          "Olink Explore HT",
          "scVDJSeq",
          "kiloplex",
          "feature barcode sequencing",
          "Xenium",
          "Olink Target 48",
          "VDJSeq",
          "CyTOF",
          "scRNASeq",
          "RNASeq",
          "snATACSeq",
          "imaging mass spectrometry",
          "NULISA",
          "H&E",
          "WES",
          "imaging mass cytometry",
          "snRNASeq",
          "SNP array",
          "flow cytometry",
          "Olink Reveal",
          "LC-MS/MS"
        ]
      },
      "maxItems": 32
    },
    "sampleProcessingBatch": {},
    "nucleicAcidSource": {
      "type": "array",
      "items": {
        "enum": [
          "rRNA-depleted RNA",
          "antigen capture barcode",
          "intracellular protein feature barcode",
          "gDNA",
          "BCR mRNA",
          "surface protein feature barcode",
          "TCR mRNA",
          "poly(A) RNA",
          "globin-depleted RNA",
          "Tn5-accessible gDNA",
          "multiplexing oligo",
          "CRISPR protospacer feature barcode"
        ]
      },
      "maxItems": 12
    },
    "softwareAndVersion": {
      "enum": [
        "Cell Ranger v4.0.0",
        "Cell Ranger v3.1.0",
        "Cell Ranger v6.0.1",
        "Cell Ranger v6.0.2",
        "Cell Ranger v3.0.1",
        "Cell Ranger v5.0.1",
        "Cell Ranger v6.0.0",
        "Cell Ranger v7.0.1",
        "Space Ranger 3.1.1",
        "Cell Ranger v9.0.0",
        "Space Ranger 3.0.0",
        "Cell Ranger v6.1.2",
        "Cell Ranger 9.0.1",
        "BD FACSDiva 8.0.1",
        "Cell Ranger v6.1.1",
        "Cell Ranger v7.1.0",
        "Cell Ranger v8.0.0",
        "Cell Ranger v5.0.0",
        "Cell Ranger v3.0.2",
        "Space Ranger 3.1.3",
        "demuxlet",
        "Cell Ranger ATAC v1.1.0",
        "Cell Ranger v8.0.1",
        "Space Ranger 3.1.2",
        "Cell Ranger v7.0.0",
        "Space Ranger 3.1.0",
        "Cell Ranger v7.2.0",
        "Cell Ranger v3.0.0",
        "Cell Ranger v6.1.0",
        "Space Ranger 3.0.1",
        ""
      ]
    },
    "inputCellCount": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "dataCollectionBatch": {},
    "libraryPrepMethod": {
      "enum": [
        "Chromium Next GEM Single Cell ATAC v1.1",
        "Takara Human BCR profiling for Illumina",
        "in-house library prep",
        "10x Chromium GEM-X Single Cell 5' v3",
        "10x Chromium Fixed RNA Human Transcriptome",
        "10x Chromium Next GEM Single Cell ATAC v2",
        "NEBNext Human Immune Sequencing Kit",
        "10x Chromium GEM-X Single Cell 3' v4",
        "Takara Human scTCR profiling for Illumina",
        "NEBNext Ultra II Directional RNA Library",
        "SMART-Seq Human TCR with UMI",
        "QIAseq miRNA Library",
        "Takara Human TCRv2 profiling for Illumina",
        "Nextera XT DNA",
        "10x Chromium Single Cell Human BCR",
        "10x Chromium Next GEM Single Cell 3' 3.1",
        "10x Chromium Next GEM Single Cell 5' v2",
        "SMART-Seq v4 Ultra Low Input RNA",
        "10x GEM-X Universal 5? Gene Expression v3",
        "SMARTer Stranded Total RNA v2",
        "Takara Human TCR profiling for Illumina",
        "Fluidigm C1 HT",
        "TruSeq Stranded mRNA",
        "custom DASH-treatment",
        "10x Chromium Next GEM Single Cell 3'",
        "10x Chromium Next GEM Single Cell 5' v1.1",
        "CEL-Seq2",
        "Nextera XT",
        "10x Chromium Single Cell Human TCR",
        "10x GEM-X Flex Gene Expression Human",
        "SMART-Seq Human BCR with UMI"
      ]
    },
    "specimenModality": {
      "enum": [
        "single specimen",
        "multispecimen"
      ]
    },
    "sequencingSaturation": {},
    "10xProbeSetReference": {
      "enum": [
        "Visium Human Transcriptome v2",
        "Visium Human Transcriptome v1",
        "Flex Human Transcriptome Probe Set v1.1.0",
        "Flex Human Transcriptome Probe Set v1.0.1",
        "custom probe set",
        ""
      ]
    },
    "biospecimenID": {},
    "libraryID": {}
  },
  "required": [
    "alignmentReference",
    "totalReads",
    "platform",
    "percentCellViability",
    "Component",
    "assay",
    "nucleicAcidSource",
    "inputCellCount",
    "libraryPrepMethod",
    "specimenModality"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "libraryPrepMethod": {
            "enum": [
              "10x GEM-X Flex Gene Expression Human"
            ]
          }
        },
        "required": [
          "libraryPrepMethod"
        ]
      },
      "then": {
        "properties": {
          "10xProbeSetReference": {
            "enum": [
              "Visium Human Transcriptome v2",
              "Visium Human Transcriptome v1",
              "Flex Human Transcriptome Probe Set v1.1.0",
              "Flex Human Transcriptome Probe Set v1.0.1",
              "custom probe set"
            ]
          }
        },
        "required": [
          "10xProbeSetReference"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "libraryID": {}
        },
        "required": [
          "libraryID"
        ]
      }
    }
  ]
}