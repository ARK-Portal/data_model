{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "sequencingSaturation": {},
    "alignmentReference": {
      "enum": [
        "10x Cell Ranger Human GRCh38 2020-A",
        "unknown",
        "10x Cell Ranger Human GRCh38 2024-A",
        "vdj_GRCh38_alts_ensembl-4.0.0"
      ]
    },
    "libraryPrepMethod": {
      "enum": [
        "SMART-Seq v4 Ultra Low Input RNA",
        "SMART-Seq Human BCR with UMI",
        "Takara Human BCR profiling for Illumina",
        "custom DASH-treatment",
        "NEBNext Ultra II Directional RNA Library",
        "10x Chromium Next GEM Single Cell 5' v2",
        "10x Chromium Fixed RNA Human Transcriptome",
        "Takara Human TCR profiling for Illumina",
        "10x Chromium GEM-X Single Cell 5' v3",
        "SMART-Seq Human TCR with UMI",
        "10x Chromium GEM-X Single Cell 3' v4",
        "10x Chromium Next GEM Single Cell 3' 3.1",
        "SMARTer Stranded Total RNA v2",
        "10x Chromium Next GEM Single Cell 3'",
        "QIAseq miRNA Library",
        "Fluidigm C1 HT",
        "Takara Human scTCR profiling for Illumina",
        "10x Chromium Single Cell Human TCR",
        "in-house library prep",
        "10x Chromium Next GEM Single Cell ATAC v2",
        "Nextera XT",
        "10x Chromium Next GEM Single Cell 5' v1.1",
        "Nextera XT DNA",
        "10x GEM-X Universal 5? Gene Expression v3",
        "CEL-Seq2",
        "10x Chromium Single Cell Human BCR",
        "Chromium Next GEM Single Cell ATAC v1.1",
        "NEBNext Human Immune Sequencing Kit",
        "10x GEM-X Flex Gene Expression Human",
        "TruSeq Stranded mRNA",
        "Takara Human TCRv2 profiling for Illumina"
      ]
    },
    "totalReads": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "percentCellViability": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "sampleProcessingBatch": {},
    "inputCellCount": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "softwareAndVersion": {
      "enum": [
        "Cell Ranger v3.0.1",
        "Space Ranger 3.0.1",
        "Space Ranger 3.1.1",
        "Cell Ranger v3.0.0",
        "Cell Ranger v3.1.0",
        "Cell Ranger v5.0.0",
        "Cell Ranger v7.0.1",
        "Cell Ranger ATAC v1.1.0",
        "Space Ranger 3.1.2",
        "Cell Ranger v8.0.1",
        "Space Ranger 3.0.0",
        "Cell Ranger v6.1.0",
        "Space Ranger 3.1.0",
        "demuxlet",
        "Cell Ranger v6.1.2",
        "Cell Ranger v9.0.0",
        "Cell Ranger v3.0.2",
        "Cell Ranger v7.2.0",
        "Cell Ranger v8.0.0",
        "Cell Ranger v7.0.0",
        "Cell Ranger v6.0.1",
        "Cell Ranger 9.0.1",
        "BD FACSDiva 8.0.1",
        "Cell Ranger v7.1.0",
        "Space Ranger 3.1.3",
        "Cell Ranger v6.0.0",
        "Cell Ranger v4.0.0",
        "Cell Ranger v5.0.1",
        "Cell Ranger v6.1.1",
        "Cell Ranger v6.0.2",
        ""
      ]
    },
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "snRNASeq",
          "Olink Reveal",
          "Olink Target 48",
          "feature barcode sequencing",
          "H&E",
          "serial IHC",
          "snATACSeq",
          "NULISA",
          "multiplexed ELISA",
          "Olink Explore HT",
          "VDJSeq",
          "ASAPSeq",
          "CosMX",
          "CITESeq",
          "Olink Focus",
          "imaging mass cytometry",
          "WES",
          "CyTOF",
          "CE-MS",
          "RNASeq",
          "Olink Flex",
          "scVDJSeq",
          "Olink Target 96",
          "imaging mass spectrometry",
          "SomaScan",
          "flow cytometry",
          "WGS",
          "kiloplex",
          "Xenium",
          "SNP array",
          "LC-MS/MS",
          "scRNASeq"
        ]
      },
      "maxItems": 32
    },
    "platform": {
      "type": "array",
      "items": {
        "enum": [
          "Illumina NovaSeq 6000",
          "Illumina NovaSeq X",
          "Chromium Xo",
          "BD FACSCanto",
          "Chromium Next GEM Chip K",
          "Chromium X",
          "Chromium Controller",
          "Chromium Next GEM Chip H",
          "Illumina HiSeq X Ten",
          "Thermo Fisher Attune NxT",
          "Helios Mass Cytometer",
          "GEM-X Flex Gene Expression Chip",
          "Hyperion",
          "BD FACSCanto II",
          "Chromium iX",
          "Not Applicable",
          "Sony MA900",
          "Chromium GEM-X Single Cell 3' Chip v4",
          "Cytek Aurora",
          "GEM-X OCM 5' Chip",
          "Thermo Fisher Attune Xenith",
          "Cytek Aurora Evo",
          "unknown",
          "Chromium Next GEM Chip G",
          "Olink Signature Q100",
          "Chromium Next GEM Chip M",
          "BD FACSymphony S6",
          "Visium CytAssist",
          "Thermo Fisher Attune CytPix",
          "BD LSRFortessa",
          "BD FACSLyric Clinical",
          "BD FACSDiscover A8",
          "BD FACSMelody",
          "BD FACSAria III",
          "BD FACSDiscover S8",
          "Chromium Next GEM Chip Q",
          "Xenium",
          "CyTOF XT",
          "none",
          "Illumina NextSeq 500",
          "Fluidigm BioMark",
          "BD FACSAria Fusion cell sorter",
          "Illumina HiSeq 2500"
        ]
      },
      "maxItems": 43
    },
    "specimenModality": {
      "enum": [
        "multispecimen",
        "single specimen"
      ]
    },
    "nucleicAcidSource": {
      "type": "array",
      "items": {
        "enum": [
          "rRNA-depleted RNA",
          "gDNA",
          "BCR mRNA",
          "surface protein feature barcode",
          "Tn5-accessible gDNA",
          "multiplexing oligo",
          "CRISPR protospacer feature barcode",
          "TCR mRNA",
          "globin-depleted RNA",
          "poly(A) RNA",
          "intracellular protein feature barcode",
          "antigen capture barcode"
        ]
      },
      "maxItems": 12
    },
    "dataCollectionBatch": {},
    "10xProbeSetReference": {
      "enum": [
        "Flex Human Transcriptome Probe Set v1.1.0",
        "Flex Human Transcriptome Probe Set v1.0.1",
        "Visium Human Transcriptome v2",
        "custom probe set",
        "Visium Human Transcriptome v1",
        ""
      ]
    },
    "libraryID": {},
    "biospecimenID": {}
  },
  "required": [
    "Component",
    "alignmentReference",
    "libraryPrepMethod",
    "totalReads",
    "percentCellViability",
    "inputCellCount",
    "assay",
    "platform",
    "specimenModality",
    "nucleicAcidSource"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "libraryPrepMethod": {
            "enum": [
              "10x GEM-X Flex Gene Expression Human"
            ]
          }
        },
        "required": [
          "libraryPrepMethod"
        ]
      },
      "then": {
        "properties": {
          "10xProbeSetReference": {
            "enum": [
              "Flex Human Transcriptome Probe Set v1.1.0",
              "Flex Human Transcriptome Probe Set v1.0.1",
              "Visium Human Transcriptome v2",
              "custom probe set",
              "Visium Human Transcriptome v1"
            ]
          }
        },
        "required": [
          "10xProbeSetReference"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "libraryID": {}
        },
        "required": [
          "libraryID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    }
  ]
}