{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "alignmentReference": {
      "enum": [
        "unknown",
        "10x Cell Ranger Human GRCh38 2020-A",
        "vdj_GRCh38_alts_ensembl-4.0.0",
        "10x Cell Ranger Human GRCh38 2024-A"
      ]
    },
    "softwareAndVersion": {
      "enum": [
        "Cell Ranger v4.0.0",
        "Space Ranger 3.1.0",
        "Cell Ranger ATAC v1.1.0",
        "demuxlet",
        "Cell Ranger v8.0.0",
        "Cell Ranger v6.0.2",
        "Space Ranger 3.1.1",
        "Cell Ranger v7.0.1",
        "Cell Ranger v3.0.1",
        "Cell Ranger v6.0.1",
        "Space Ranger 3.0.1",
        "Cell Ranger v7.0.0",
        "Cell Ranger v7.2.0",
        "Cell Ranger v3.0.2",
        "Cell Ranger v9.0.0",
        "Space Ranger 3.1.2",
        "Cell Ranger v3.0.0",
        "Cell Ranger v5.0.0",
        "Space Ranger 3.1.3",
        "BD FACSDiva 8.0.1",
        "Cell Ranger v6.1.2",
        "Space Ranger 3.0.0",
        "Cell Ranger v5.0.1",
        "Cell Ranger v6.1.1",
        "Cell Ranger v6.0.0",
        "Cell Ranger v6.1.0",
        "Cell Ranger v3.1.0",
        "Cell Ranger v8.0.1",
        "Cell Ranger 9.0.1",
        "Cell Ranger v7.1.0",
        ""
      ]
    },
    "libraryPrepMethod": {
      "enum": [
        "10x GEM-X Flex Gene Expression Human",
        "10x Chromium Next GEM Single Cell ATAC v2",
        "NEBNext Human Immune Sequencing Kit",
        "10x Chromium GEM-X Single Cell 3' v4",
        "10x Chromium Single Cell Human TCR",
        "10x Chromium Fixed RNA Human Transcriptome",
        "10x Chromium Single Cell Human BCR",
        "QIAseq miRNA Library",
        "SMART-Seq Human BCR with UMI",
        "10x Chromium Next GEM Single Cell 3' 3.1",
        "Takara Human TCR profiling for Illumina",
        "Fluidigm C1 HT",
        "Nextera XT DNA",
        "Nextera XT",
        "10x Chromium Next GEM Single Cell 5' v2",
        "in-house library prep",
        "Takara Human scTCR profiling for Illumina",
        "NEBNext Ultra II Directional RNA Library",
        "10x Chromium Next GEM Single Cell 5' v1.1",
        "10x Chromium GEM-X Single Cell 5' v3",
        "custom DASH-treatment",
        "SMART-Seq Human TCR with UMI",
        "10x GEM-X Universal 5? Gene Expression v3",
        "TruSeq Stranded mRNA",
        "10x Chromium Next GEM Single Cell 3'",
        "SMART-Seq v4 Ultra Low Input RNA",
        "SMARTer Stranded Total RNA v2",
        "Takara Human TCRv2 profiling for Illumina",
        "Chromium Next GEM Single Cell ATAC v1.1",
        "Takara Human BCR profiling for Illumina",
        "CEL-Seq2"
      ]
    },
    "percentCellViability": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "specimenModality": {
      "enum": [
        "single specimen",
        "multispecimen"
      ]
    },
    "sequencingSaturation": {},
    "sampleProcessingBatch": {},
    "inputCellCount": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "dataCollectionBatch": {},
    "nucleicAcidSource": {
      "type": "array",
      "items": {
        "enum": [
          "Tn5-accessible gDNA",
          "gDNA",
          "multiplexing oligo",
          "rRNA-depleted RNA",
          "TCR mRNA",
          "surface protein feature barcode",
          "CRISPR protospacer feature barcode",
          "globin-depleted RNA",
          "poly(A) RNA",
          "intracellular protein feature barcode",
          "antigen capture barcode",
          "BCR mRNA"
        ]
      },
      "maxItems": 12
    },
    "platform": {
      "type": "array",
      "items": {
        "enum": [
          "Cytek Aurora Evo",
          "BD FACSDiscover A8",
          "Helios Mass Cytometer",
          "Thermo Fisher Attune CytPix",
          "Chromium iX",
          "Chromium Next GEM Chip Q",
          "Cytek Aurora",
          "Chromium GEM-X Single Cell 3' Chip v4",
          "Thermo Fisher Attune NxT",
          "BD FACSAria Fusion cell sorter",
          "none",
          "GEM-X Flex Gene Expression Chip",
          "Illumina NovaSeq 6000",
          "Not Applicable",
          "Chromium Next GEM Chip H",
          "Thermo Fisher Attune Xenith",
          "GEM-X OCM 5' Chip",
          "BD LSRFortessa",
          "Fluidigm BioMark",
          "Chromium X",
          "Chromium Next GEM Chip K",
          "BD FACSymphony S6",
          "BD FACSAria III",
          "BD FACSLyric Clinical",
          "Illumina NextSeq 500",
          "Sony MA900",
          "unknown",
          "BD FACSMelody",
          "Chromium Next GEM Chip G",
          "Chromium Xo",
          "Xenium",
          "BD FACSCanto",
          "BD FACSDiscover S8",
          "Visium CytAssist",
          "CyTOF XT",
          "Illumina HiSeq X Ten",
          "Chromium Next GEM Chip M",
          "Olink Signature Q100",
          "Chromium Controller",
          "Illumina NovaSeq X",
          "Hyperion",
          "BD FACSCanto II",
          "Illumina HiSeq 2500"
        ]
      },
      "maxItems": 43
    },
    "totalReads": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "NULISA",
          "Olink Flex",
          "CE-MS",
          "SomaScan",
          "Olink Focus",
          "SNP array",
          "feature barcode sequencing",
          "scRNASeq",
          "multiplexed ELISA",
          "serial IHC",
          "RNASeq",
          "Olink Reveal",
          "kiloplex",
          "Xenium",
          "Olink Target 48",
          "WGS",
          "ASAPSeq",
          "H&E",
          "imaging mass cytometry",
          "CosMX",
          "snRNASeq",
          "VDJSeq",
          "Olink Explore HT",
          "snATACSeq",
          "Olink Target 96",
          "WES",
          "CyTOF",
          "LC-MS/MS",
          "imaging mass spectrometry",
          "CITESeq",
          "scVDJSeq",
          "flow cytometry"
        ]
      },
      "maxItems": 32
    },
    "10xProbeSetReference": {
      "enum": [
        "Visium Human Transcriptome v1",
        "Visium Human Transcriptome v2",
        "Flex Human Transcriptome Probe Set v1.1.0",
        "Flex Human Transcriptome Probe Set v1.0.1",
        "custom probe set",
        ""
      ]
    },
    "biospecimenID": {},
    "libraryID": {}
  },
  "required": [
    "alignmentReference",
    "libraryPrepMethod",
    "percentCellViability",
    "Component",
    "specimenModality",
    "inputCellCount",
    "nucleicAcidSource",
    "platform",
    "totalReads",
    "assay"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "libraryPrepMethod": {
            "enum": [
              "10x GEM-X Flex Gene Expression Human"
            ]
          }
        },
        "required": [
          "libraryPrepMethod"
        ]
      },
      "then": {
        "properties": {
          "10xProbeSetReference": {
            "enum": [
              "Visium Human Transcriptome v1",
              "Visium Human Transcriptome v2",
              "Flex Human Transcriptome Probe Set v1.1.0",
              "Flex Human Transcriptome Probe Set v1.0.1",
              "custom probe set"
            ]
          }
        },
        "required": [
          "10xProbeSetReference"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "libraryID": {}
        },
        "required": [
          "libraryID"
        ]
      }
    }
  ]
}