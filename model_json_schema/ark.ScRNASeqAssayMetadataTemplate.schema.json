{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "libraryPrepMethod": {
      "enum": [
        "10x GEM-X Flex Gene Expression Human",
        "custom DASH-treatment",
        "10x Chromium GEM-X Single Cell 5' v3",
        "10x Chromium Next GEM Single Cell 3'",
        "10x Chromium Single Cell Human TCR",
        "10x Chromium Next GEM Single Cell ATAC v2",
        "SMART-Seq Human TCR with UMI",
        "in-house library prep",
        "SMARTer Stranded Total RNA v2",
        "TruSeq Stranded mRNA",
        "10x GEM-X Universal 5? Gene Expression v3",
        "Takara Human scTCR profiling for Illumina",
        "10x Chromium Next GEM Single Cell 3' 3.1",
        "Nextera XT DNA",
        "SMART-Seq Human BCR with UMI",
        "Nextera XT",
        "SMART-Seq v4 Ultra Low Input RNA",
        "Takara Human TCRv2 profiling for Illumina",
        "NEBNext Ultra II Directional RNA Library",
        "10x Chromium Next GEM Single Cell 5' v1.1",
        "10x Chromium GEM-X Single Cell 3' v4",
        "QIAseq miRNA Library",
        "Takara Human TCR profiling for Illumina",
        "Takara Human BCR profiling for Illumina",
        "10x Chromium Single Cell Human BCR",
        "Chromium Next GEM Single Cell ATAC v1.1",
        "10x Chromium Next GEM Single Cell 5' v2",
        "Fluidigm C1 HT",
        "10x Chromium Fixed RNA Human Transcriptome",
        "CEL-Seq2",
        "NEBNext Human Immune Sequencing Kit"
      ]
    },
    "platform": {
      "type": "array",
      "items": {
        "enum": [
          "BD FACSLyric Clinical",
          "BD FACSDiscover A8",
          "none",
          "GEM-X Flex Gene Expression Chip",
          "Illumina NextSeq 500",
          "Thermo Fisher Attune CytPix",
          "Cytek Aurora Evo",
          "Illumina NovaSeq 6000",
          "BD FACSAria Fusion cell sorter",
          "Chromium Next GEM Chip M",
          "BD FACSAria III",
          "Hyperion",
          "Illumina HiSeq 2500",
          "Chromium X",
          "BD FACSDiscover S8",
          "Thermo Fisher Attune NxT",
          "unknown",
          "BD LSRFortessa",
          "Sony MA900",
          "BD FACSymphony S6",
          "Chromium GEM-X Single Cell 3' Chip v4",
          "BD FACSCanto",
          "Chromium Next GEM Chip Q",
          "Xenium",
          "Illumina HiSeq X Ten",
          "Not Applicable",
          "Fluidigm BioMark",
          "Helios Mass Cytometer",
          "GEM-X OCM 5' Chip",
          "Chromium iX",
          "Olink Signature Q100",
          "Visium CytAssist",
          "BD FACSCanto II",
          "Thermo Fisher Attune Xenith",
          "Chromium Controller",
          "BD FACSMelody",
          "Chromium Xo",
          "Chromium Next GEM Chip G",
          "Chromium Next GEM Chip K",
          "Illumina NovaSeq X",
          "Chromium Next GEM Chip H",
          "CyTOF XT",
          "Cytek Aurora"
        ]
      },
      "maxItems": 43
    },
    "percentCellViability": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "softwareAndVersion": {
      "enum": [
        "Cell Ranger v6.1.0",
        "Cell Ranger v3.1.0",
        "Cell Ranger v3.0.2",
        "Cell Ranger v3.0.0",
        "Space Ranger 3.1.1",
        "Space Ranger 3.1.3",
        "Cell Ranger ATAC v1.1.0",
        "Cell Ranger v6.1.1",
        "Cell Ranger v4.0.0",
        "Cell Ranger 9.0.1",
        "Cell Ranger v7.0.1",
        "Cell Ranger v5.0.1",
        "Cell Ranger v9.0.0",
        "Cell Ranger v3.0.1",
        "Cell Ranger v6.0.2",
        "Space Ranger 3.1.2",
        "Cell Ranger v6.0.1",
        "Cell Ranger v5.0.0",
        "Cell Ranger v6.0.0",
        "Cell Ranger v7.1.0",
        "Cell Ranger v8.0.0",
        "Space Ranger 3.0.0",
        "demuxlet",
        "Space Ranger 3.0.1",
        "Cell Ranger v7.2.0",
        "Cell Ranger v8.0.1",
        "BD FACSDiva 8.0.1",
        "Cell Ranger v6.1.2",
        "Space Ranger 3.1.0",
        "Cell Ranger v7.0.0",
        ""
      ]
    },
    "inputCellCount": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "totalReads": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "sampleProcessingBatch": {},
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "Olink Explore HT",
          "Olink Reveal",
          "LC-MS/MS",
          "imaging mass cytometry",
          "kiloplex",
          "serial IHC",
          "multiplexed ELISA",
          "scRNASeq",
          "SNP array",
          "imaging mass spectrometry",
          "Olink Focus",
          "CITESeq",
          "Xenium",
          "feature barcode sequencing",
          "CyTOF",
          "NULISA",
          "Olink Target 96",
          "H&E",
          "WGS",
          "CosMX",
          "snRNASeq",
          "SomaScan",
          "RNASeq",
          "flow cytometry",
          "WES",
          "VDJSeq",
          "ASAPSeq",
          "snATACSeq",
          "Olink Flex",
          "CE-MS",
          "scVDJSeq",
          "Olink Target 48"
        ]
      },
      "maxItems": 32
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "dataCollectionBatch": {},
    "sequencingSaturation": {},
    "alignmentReference": {
      "enum": [
        "10x Cell Ranger Human GRCh38 2020-A",
        "10x Cell Ranger Human GRCh38 2024-A",
        "unknown",
        "vdj_GRCh38_alts_ensembl-4.0.0"
      ]
    },
    "specimenModality": {
      "enum": [
        "multispecimen",
        "single specimen"
      ]
    },
    "nucleicAcidSource": {
      "type": "array",
      "items": {
        "enum": [
          "surface protein feature barcode",
          "multiplexing oligo",
          "BCR mRNA",
          "globin-depleted RNA",
          "rRNA-depleted RNA",
          "poly(A) RNA",
          "gDNA",
          "TCR mRNA",
          "Tn5-accessible gDNA",
          "intracellular protein feature barcode",
          "antigen capture barcode",
          "CRISPR protospacer feature barcode"
        ]
      },
      "maxItems": 12
    },
    "10xProbeSetReference": {
      "enum": [
        "custom probe set",
        "Flex Human Transcriptome Probe Set v1.1.0",
        "Flex Human Transcriptome Probe Set v1.0.1",
        "Visium Human Transcriptome v1",
        "Visium Human Transcriptome v2",
        ""
      ]
    },
    "libraryID": {},
    "biospecimenID": {}
  },
  "required": [
    "libraryPrepMethod",
    "platform",
    "percentCellViability",
    "inputCellCount",
    "totalReads",
    "assay",
    "Component",
    "alignmentReference",
    "specimenModality",
    "nucleicAcidSource"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "libraryPrepMethod": {
            "enum": [
              "10x GEM-X Flex Gene Expression Human"
            ]
          }
        },
        "required": [
          "libraryPrepMethod"
        ]
      },
      "then": {
        "properties": {
          "10xProbeSetReference": {
            "enum": [
              "custom probe set",
              "Flex Human Transcriptome Probe Set v1.1.0",
              "Flex Human Transcriptome Probe Set v1.0.1",
              "Visium Human Transcriptome v1",
              "Visium Human Transcriptome v2"
            ]
          }
        },
        "required": [
          "10xProbeSetReference"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "libraryID": {}
        },
        "required": [
          "libraryID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    }
  ]
}