{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "kiloplex",
          "scRNASeq",
          "WGS",
          "Olink Reveal",
          "Olink Target 48",
          "imaging mass cytometry",
          "Xenium",
          "WES",
          "SNP array",
          "NULISA",
          "CITESeq",
          "Olink Focus",
          "CosMX",
          "CyTOF",
          "ASAPSeq",
          "flow cytometry",
          "multiplexed ELISA",
          "VDJSeq",
          "Olink Explore HT",
          "Olink Target 96",
          "LC-MS/MS",
          "SomaScan",
          "Olink Flex",
          "serial IHC",
          "RNASeq",
          "snRNASeq",
          "snATACSeq",
          "feature barcode sequencing",
          "H&E",
          "scVDJSeq",
          "imaging mass spectrometry",
          "CE-MS"
        ]
      },
      "maxItems": 32
    },
    "totalReads": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "platform": {
      "type": "array",
      "items": {
        "enum": [
          "none",
          "unknown",
          "Not Applicable",
          "Olink Signature Q100",
          "BD FACSDiscover S8",
          "Hyperion",
          "Chromium X",
          "Fluidigm BioMark",
          "Chromium iX",
          "Illumina NextSeq 500",
          "Cytek Aurora Evo",
          "Xenium",
          "Illumina HiSeq X Ten",
          "Illumina HiSeq 2500",
          "Sony MA900",
          "GEM-X Flex Gene Expression Chip",
          "BD FACSymphony S6",
          "BD FACSCanto",
          "Cytek Aurora",
          "Thermo Fisher Attune NxT",
          "Chromium Controller",
          "Helios Mass Cytometer",
          "Chromium Next GEM Chip H",
          "GEM-X OCM 5' Chip",
          "BD FACSAria Fusion cell sorter",
          "Chromium Next GEM Chip M",
          "Chromium GEM-X Single Cell 3' Chip v4",
          "BD FACSAria III",
          "Illumina NovaSeq 6000",
          "Chromium Next GEM Chip Q",
          "Chromium Next GEM Chip G",
          "Thermo Fisher Attune CytPix",
          "BD FACSCanto II",
          "Chromium Xo",
          "Chromium Next GEM Chip K",
          "Visium CytAssist",
          "Illumina NovaSeq X",
          "CyTOF XT",
          "BD FACSLyric Clinical",
          "BD LSRFortessa",
          "BD FACSDiscover A8",
          "BD FACSMelody",
          "Thermo Fisher Attune Xenith"
        ]
      },
      "maxItems": 43
    },
    "sequencingSaturation": {},
    "sampleProcessingBatch": {},
    "specimenModality": {
      "enum": [
        "single specimen",
        "multispecimen"
      ]
    },
    "inputCellCount": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "dataCollectionBatch": {},
    "alignmentReference": {
      "enum": [
        "10x Cell Ranger Human GRCh38 2024-A",
        "10x Cell Ranger Human GRCh38 2020-A",
        "unknown",
        "vdj_GRCh38_alts_ensembl-4.0.0"
      ]
    },
    "softwareAndVersion": {
      "enum": [
        "Cell Ranger v6.0.0",
        "Cell Ranger v3.0.2",
        "Space Ranger 3.1.3",
        "Cell Ranger v6.0.1",
        "Cell Ranger v5.0.1",
        "demuxlet",
        "Space Ranger 3.1.1",
        "Cell Ranger v4.0.0",
        "Space Ranger 3.0.1",
        "Space Ranger 3.1.0",
        "Cell Ranger v9.0.0",
        "Cell Ranger v7.2.0",
        "Cell Ranger v6.1.1",
        "Cell Ranger v6.0.2",
        "BD FACSDiva 8.0.1",
        "Cell Ranger v8.0.0",
        "Cell Ranger v3.0.1",
        "Cell Ranger v7.0.0",
        "Cell Ranger v6.1.0",
        "Cell Ranger v6.1.2",
        "Cell Ranger ATAC v1.1.0",
        "Cell Ranger 9.0.1",
        "Space Ranger 3.1.2",
        "Cell Ranger v7.1.0",
        "Cell Ranger v7.0.1",
        "Cell Ranger v5.0.0",
        "Cell Ranger v8.0.1",
        "Cell Ranger v3.1.0",
        "Cell Ranger v3.0.0",
        "Space Ranger 3.0.0",
        ""
      ]
    },
    "percentCellViability": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "libraryPrepMethod": {
      "enum": [
        "TruSeq Stranded mRNA",
        "10x GEM-X Universal 5? Gene Expression v3",
        "Nextera XT DNA",
        "custom DASH-treatment",
        "Fluidigm C1 HT",
        "SMART-Seq Human BCR with UMI",
        "10x Chromium Next GEM Single Cell 5' v2",
        "NEBNext Human Immune Sequencing Kit",
        "Takara Human BCR profiling for Illumina",
        "QIAseq miRNA Library",
        "Takara Human scTCR profiling for Illumina",
        "10x Chromium Single Cell Human BCR",
        "10x Chromium Fixed RNA Human Transcriptome",
        "NEBNext Ultra II Directional RNA Library",
        "SMART-Seq v4 Ultra Low Input RNA",
        "10x Chromium Next GEM Single Cell 3'",
        "Chromium Next GEM Single Cell ATAC v1.1",
        "10x GEM-X Flex Gene Expression Human",
        "in-house library prep",
        "10x Chromium Next GEM Single Cell 3' 3.1",
        "10x Chromium GEM-X Single Cell 5' v3",
        "SMART-Seq Human TCR with UMI",
        "10x Chromium Next GEM Single Cell ATAC v2",
        "SMARTer Stranded Total RNA v2",
        "10x Chromium Single Cell Human TCR",
        "10x Chromium GEM-X Single Cell 3' v4",
        "Nextera XT",
        "Takara Human TCRv2 profiling for Illumina",
        "Takara Human TCR profiling for Illumina",
        "10x Chromium Next GEM Single Cell 5' v1.1",
        "CEL-Seq2"
      ]
    },
    "nucleicAcidSource": {
      "type": "array",
      "items": {
        "enum": [
          "globin-depleted RNA",
          "antigen capture barcode",
          "multiplexing oligo",
          "CRISPR protospacer feature barcode",
          "poly(A) RNA",
          "rRNA-depleted RNA",
          "BCR mRNA",
          "gDNA",
          "surface protein feature barcode",
          "TCR mRNA",
          "Tn5-accessible gDNA",
          "intracellular protein feature barcode"
        ]
      },
      "maxItems": 12
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenID": {},
    "libraryID": {},
    "10xProbeSetReference": {
      "enum": [
        "Flex Human Transcriptome Probe Set v1.0.1",
        "Visium Human Transcriptome v1",
        "custom probe set",
        "Flex Human Transcriptome Probe Set v1.1.0",
        "Visium Human Transcriptome v2",
        ""
      ]
    }
  },
  "required": [
    "assay",
    "totalReads",
    "platform",
    "specimenModality",
    "inputCellCount",
    "alignmentReference",
    "percentCellViability",
    "libraryPrepMethod",
    "nucleicAcidSource",
    "Component"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "libraryID": {}
        },
        "required": [
          "libraryID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "libraryPrepMethod": {
            "enum": [
              "10x GEM-X Flex Gene Expression Human"
            ]
          }
        },
        "required": [
          "libraryPrepMethod"
        ]
      },
      "then": {
        "properties": {
          "10xProbeSetReference": {
            "enum": [
              "Flex Human Transcriptome Probe Set v1.0.1",
              "Visium Human Transcriptome v1",
              "custom probe set",
              "Flex Human Transcriptome Probe Set v1.1.0",
              "Visium Human Transcriptome v2"
            ]
          }
        },
        "required": [
          "10xProbeSetReference"
        ]
      }
    }
  ]
}