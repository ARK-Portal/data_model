{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/example",
  "title": "example",
  "type": "object",
  "properties": {
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "platform": {
      "type": "array",
      "items": {
        "enum": [
          "GEM-X Flex Gene Expression Chip",
          "none",
          "GEM-X OCM 5' Chip",
          "CyTOF XT",
          "Chromium Xo",
          "Chromium X",
          "Chromium Next GEM Chip M",
          "Illumina NovaSeq 6000",
          "Xenium",
          "Chromium GEM-X Single Cell 3' Chip v4",
          "Chromium Controller",
          "Helios Mass Cytometer",
          "Illumina NovaSeq X",
          "Illumina HiSeq 2500",
          "Chromium Next GEM Chip Q",
          "Chromium iX",
          "Chromium Next GEM Chip H",
          "Illumina NextSeq 500",
          "BD FACSAria Fusion cell sorter",
          "Visium CytAssist",
          "Illumina HiSeq X Ten",
          "Chromium Next GEM Chip K",
          "Hyperion",
          "Chromium Next GEM Chip G",
          ""
        ]
      },
      "maxItems": 24
    },
    "fileFormat": {
      "enum": [
        "fastq",
        ""
      ]
    },
    "resourceType": {
      "enum": [
        "experimental data",
        ""
      ]
    },
    "nucleicAcidSource": {
      "type": "array",
      "items": {
        "enum": [
          "rRNA-depleted RNA",
          "surface protein feature barcode",
          "multiplexing oligo",
          "CRISPR protospacer feature barcode",
          "BCR mRNA",
          "globin-depleted RNA",
          "gDNA",
          "antigen capture barcode",
          "intracellular protein feature barcode",
          "Tn5-accessible gDNA",
          "TCR mRNA",
          "poly(A) RNA"
        ]
      },
      "maxItems": 12
    },
    "biospecimenType": {
      "type": "array",
      "items": {
        "enum": [
          "none",
          "salivary gland",
          "skin swab",
          "total leukocytes",
          "skin biopsy",
          "suction blister cells",
          "suction blister fluid",
          "uvea",
          "synovial fluid",
          "plasma",
          "urine",
          "kidney biopsy",
          "whole blood",
          "synovial tissue",
          "saliva",
          "serum",
          "fibroblast-like synoviocyte",
          "PBMCs",
          "stool"
        ]
      },
      "maxItems": 19
    },
    "diagnosis": {
      "enum": [
        "Sjogren's disease",
        "psoriatic arthritis",
        "OA",
        "cutaneous lupus erythematosus",
        "vitiligo",
        "control",
        "RA",
        "At-Risk RA",
        "SLE",
        "dermatomyositis",
        "lupus nephritis",
        "scleroderma",
        "psoriasis"
      ]
    },
    "visitID": {},
    "assay": {
      "type": "array",
      "items": {
        "enum": [
          "CosMX",
          "VDJSeq",
          "ASAPSeq",
          "scVDJSeq",
          "Olink Explore HT",
          "H&E",
          "imaging mass spectrometry",
          "flow cytometry",
          "snATACSeq",
          "multiplexed ELISA",
          "RNASeq",
          "NULISA",
          "CyTOF",
          "Xenium",
          "CITESeq",
          "WES",
          "SomaScan",
          "serial IHC",
          "CE-MS",
          "feature barcode sequencing",
          "imaging mass cytometry",
          "snRNASeq",
          "LC-MS/MS",
          "WGS",
          "scRNASeq",
          "SNP array"
        ]
      },
      "maxItems": 26
    },
    "program": {
      "enum": [
        "Community Contribution",
        "AMP AIM",
        "AMP RA/SLE"
      ]
    },
    "libraryPrepMethod": {
      "enum": [
        "10x Chromium Single Cell Human TCR",
        "QIAseq miRNA Library",
        "in-house library prep",
        "SMART-Seq Human BCR with UMI",
        "custom DASH-treatment",
        "TruSeq Stranded mRNA",
        "10x GEM-X Universal 5? Gene Expression v3",
        "Takara Human TCR profiling for Illumina",
        "SMART-Seq v4 Ultra Low Input RNA",
        "Takara Human TCRv2 profiling for Illumina",
        "10x Chromium GEM-X Single Cell 3' v4",
        "Chromium Next GEM Single Cell ATAC v1.1",
        "SMART-Seq Human TCR with UMI",
        "Takara Human scTCR profiling for Illumina",
        "10x Chromium Next GEM Single Cell 3'",
        "10x Chromium Next GEM Single Cell 5' v2",
        "Takara Human BCR profiling for Illumina",
        "10x Chromium Fixed RNA Human Transcriptome",
        "10x Chromium Single Cell Human BCR",
        "CEL-Seq2",
        "NEBNext Human Immune Sequencing Kit",
        "10x Chromium Next GEM Single Cell 5' v1.1",
        "10x Chromium GEM-X Single Cell 5' v3",
        "NEBNext Ultra II Directional RNA Library",
        "Nextera XT DNA",
        "Nextera XT",
        "SMARTer Stranded Total RNA v2",
        "Fluidigm C1 HT",
        "10x Chromium Next GEM Single Cell ATAC v2",
        "10x GEM-X Flex Gene Expression Human",
        "10x Chromium Next GEM Single Cell 3' 3.1"
      ]
    },
    "biospecimenSubtype": {
      "enum": [
        "frozen tissue",
        "fresh tissue",
        "PFA-fixed tissue",
        "FFPE tissue",
        "nuclei suspension",
        "flow-sorted cells",
        "cell suspension",
        ""
      ]
    },
    "Filename": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "project": {
      "enum": [
        "V-CoRT",
        "LOCKIT",
        "AIM for RA",
        "ELLIPSS",
        "RA",
        "SLE",
        "STAMP"
      ]
    },
    "dataSubtype": {
      "type": "array",
      "items": {
        "enum": [
          "pseudobulk",
          "none",
          "bulk",
          "single-nucleus",
          "spatial",
          "single-cell"
        ]
      },
      "maxItems": 6
    },
    "specimenModality": {
      "enum": [
        "single specimen",
        "multispecimen"
      ]
    },
    "dataType": {
      "type": "array",
      "items": {
        "enum": [
          "metabolomics",
          "epigenomics",
          "cytometry",
          "multimodal",
          "genomics",
          "proteomics",
          "lipidomics",
          "transcriptomics",
          "immunostaining",
          "microbiome",
          "histology",
          "immune repertoire profiling"
        ]
      },
      "maxItems": 12
    },
    "parentBiospecimenID": {},
    "targetPanelSynID": {},
    "targetPanel": {},
    "programPhase": {
      "enum": [
        "I",
        "II",
        ""
      ]
    },
    "individualID": {},
    "biospecimenID": {},
    "libraryID": {}
  },
  "required": [
    "Component",
    "nucleicAcidSource",
    "biospecimenType",
    "diagnosis",
    "assay",
    "program",
    "libraryPrepMethod",
    "Filename",
    "project",
    "dataSubtype",
    "specimenModality",
    "dataType"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "assay": {
            "enum": [
              "feature barcode sequencing"
            ]
          }
        },
        "required": [
          "assay"
        ]
      },
      "then": {
        "properties": {
          "targetPanelSynID": {}
        },
        "required": [
          "targetPanelSynID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "assay": {
            "enum": [
              "feature barcode sequencing"
            ]
          }
        },
        "required": [
          "assay"
        ]
      },
      "then": {
        "properties": {
          "targetPanel": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "targetPanel"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP RA/SLE"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "programPhase": {
            "enum": [
              "I",
              "II"
            ]
          }
        },
        "required": [
          "programPhase"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "individualID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "individualID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "single specimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "biospecimenID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "biospecimenID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "specimenModality": {
            "enum": [
              "multispecimen"
            ]
          }
        },
        "required": [
          "specimenModality"
        ]
      },
      "then": {
        "properties": {
          "libraryID": {}
        },
        "required": [
          "libraryID"
        ]
      }
    }
  ]
}