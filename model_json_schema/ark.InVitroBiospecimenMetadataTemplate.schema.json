{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "altSampleID": {},
    "parentBiospecimenID": {},
    "treatment": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "total leukocytes",
        "cell line",
        "skin biopsy",
        "synovial fluid",
        "fibroblast-like synoviocyte",
        "none",
        "plasma",
        "primary cell culture",
        "urine",
        "skin swab",
        "kidney biopsy",
        "salivary gland",
        "uvea",
        "synovial tissue",
        "saliva",
        "serum",
        "suction blister fluid",
        "suction blister cells",
        "stool",
        "whole blood",
        "PBMCs"
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "AIM for RA",
          "STAMP",
          "LOCKIT",
          "SLE",
          "RA",
          "ELLIPSS",
          "V-CoRT"
        ]
      },
      "maxItems": 7
    },
    "biospecimenSubtype": {
      "enum": [
        "frozen tissue",
        "nuclei suspension",
        "PFA-fixed tissue",
        "cell suspension",
        "supernatant",
        "flow-sorted cells",
        "FFPE tissue",
        "cell or tissue lysate",
        "fresh tissue",
        ""
      ]
    },
    "notes": {},
    "treatmentTimepoint": {},
    "individualID": {},
    "program": {
      "enum": [
        "AMP RA/SLE",
        "AMP AIM",
        "Community Contribution"
      ]
    },
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "cellType": {},
    "cellOntologyID": {},
    "anatomicalSite": {
      "enum": [
        "right hip joint",
        "other site",
        "right ankle joint",
        "right 2nd MTP joint",
        "right 2nd MCP joint",
        "left 2nd MCP joint",
        "unknown",
        "right knee joint",
        "right 3rd MCP joint",
        "right wrist joint",
        "right 1st MTP joint",
        "left wrist joint",
        "left knee joint",
        "left hip joint",
        "left ankle joint",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "lesional",
        "lesional proximal",
        "non-lesional",
        "healthy control",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "unknown",
        "synovectomy",
        "arthroplasty",
        "biopsy",
        ""
      ]
    },
    "primaryCellSource": {
      "enum": [
        "kidney",
        "total leukocytes",
        "uvea",
        "synovial tissue",
        "PBMCs",
        "urine",
        "pannus-derived epidermis",
        "whole blood",
        "pannus-derived dermis",
        "salivary gland",
        ""
      ]
    },
    "krennInflammatory": {},
    "krennSynovitisScore": {},
    "krennLining": {},
    "krennStroma": {},
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "userDefinedCellType": {},
    "FACSPopulation": {},
    "visitID": {}
  },
  "required": [
    "treatment",
    "biospecimenType",
    "biospecimenID",
    "plateID",
    "project",
    "program",
    "Component"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "cell line"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "cell line"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "other site",
              "right ankle joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "unknown",
              "right knee joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right 1st MTP joint",
              "left wrist joint",
              "left knee joint",
              "left hip joint",
              "left ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "other site",
              "right ankle joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "unknown",
              "right knee joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right 1st MTP joint",
              "left wrist joint",
              "left knee joint",
              "left hip joint",
              "left ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "other site",
              "right ankle joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "unknown",
              "right knee joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right 1st MTP joint",
              "left wrist joint",
              "left knee joint",
              "left hip joint",
              "left ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "other site",
              "right ankle joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "unknown",
              "right knee joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right 1st MTP joint",
              "left wrist joint",
              "left knee joint",
              "left hip joint",
              "left ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "other site",
              "right ankle joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "unknown",
              "right knee joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right 1st MTP joint",
              "left wrist joint",
              "left knee joint",
              "left hip joint",
              "left ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "right hip joint",
              "other site",
              "right ankle joint",
              "right 2nd MTP joint",
              "right 2nd MCP joint",
              "left 2nd MCP joint",
              "unknown",
              "right knee joint",
              "right 3rd MCP joint",
              "right wrist joint",
              "right 1st MTP joint",
              "left wrist joint",
              "left knee joint",
              "left hip joint",
              "left ankle joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "lesional proximal",
              "non-lesional",
              "healthy control"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "lesional proximal",
              "non-lesional",
              "healthy control"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "lesional proximal",
              "non-lesional",
              "healthy control"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional",
              "lesional proximal",
              "non-lesional",
              "healthy control"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "synovectomy",
              "arthroplasty",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "unknown",
              "synovectomy",
              "arthroplasty",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "kidney",
              "total leukocytes",
              "uvea",
              "synovial tissue",
              "PBMCs",
              "urine",
              "pannus-derived epidermis",
              "whole blood",
              "pannus-derived dermis",
              "salivary gland"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP RA/SLE"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "visitID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "visitID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP AIM"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "visitID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "visitID"
        ]
      }
    }
  ]
}