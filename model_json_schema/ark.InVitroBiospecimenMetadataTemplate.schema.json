{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "primary cell culture",
        "synovial tissue",
        "suction blister cells",
        "saliva",
        "cell line",
        "fibroblast-like synoviocyte",
        "salivary gland",
        "whole blood",
        "suction blister fluid",
        "serum",
        "uvea",
        "stool",
        "kidney biopsy",
        "plasma",
        "urine",
        "PBMCs",
        "skin swab",
        "skin biopsy",
        "synovial fluid",
        "total leukocytes",
        "none"
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "parentBiospecimenID": {},
    "notes": {},
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenSubtype": {
      "enum": [
        "cell or tissue lysate",
        "FFPE tissue",
        "flow-sorted cells",
        "fresh tissue",
        "nuclei suspension",
        "supernatant",
        "frozen tissue",
        "PFA-fixed tissue",
        "cell suspension",
        ""
      ]
    },
    "treatment": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "program": {
      "enum": [
        "AMP RA/SLE",
        "Community Contribution",
        "AMP AIM"
      ]
    },
    "treatmentTimepoint": {},
    "altSampleID": {},
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "LOCKIT",
          "AIM for RA",
          "V-CoRT",
          "ELLIPSS",
          "STAMP",
          "SLE",
          "RA"
        ]
      },
      "maxItems": 7
    },
    "individualID": {},
    "cellType": {},
    "cellOntologyID": {},
    "primaryCellSource": {
      "enum": [
        "pannus-derived dermis",
        "PBMCs",
        "salivary gland",
        "whole blood",
        "synovial tissue",
        "pannus-derived epidermis",
        "total leukocytes",
        "kidney",
        "uvea",
        "urine",
        ""
      ]
    },
    "krennSynovitisScore": {},
    "anatomicalSite": {
      "enum": [
        "left wrist joint",
        "other site",
        "left hip joint",
        "unknown",
        "right 2nd MCP joint",
        "right ankle joint",
        "left knee joint",
        "right hip joint",
        "right 2nd MTP joint",
        "right knee joint",
        "right wrist joint",
        "left ankle joint",
        "right 1st MTP joint",
        "left 2nd MCP joint",
        "right 3rd MCP joint",
        ""
      ]
    },
    "krennInflammatory": {},
    "krennLining": {},
    "krennStroma": {},
    "synovialCollectionProcedure": {
      "enum": [
        "synovectomy",
        "unknown",
        "arthroplasty",
        "biopsy",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "lesional proximal",
        "non-lesional",
        "healthy control",
        "lesional",
        ""
      ]
    },
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "FACSPopulation": {},
    "userDefinedCellType": {},
    "visitID": {}
  },
  "required": [
    "Component",
    "biospecimenType",
    "biospecimenID",
    "plateID",
    "treatment",
    "program",
    "project"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "cell line"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "cell line"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "pannus-derived dermis",
              "PBMCs",
              "salivary gland",
              "whole blood",
              "synovial tissue",
              "pannus-derived epidermis",
              "total leukocytes",
              "kidney",
              "uvea",
              "urine"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "other site",
              "left hip joint",
              "unknown",
              "right 2nd MCP joint",
              "right ankle joint",
              "left knee joint",
              "right hip joint",
              "right 2nd MTP joint",
              "right knee joint",
              "right wrist joint",
              "left ankle joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "other site",
              "left hip joint",
              "unknown",
              "right 2nd MCP joint",
              "right ankle joint",
              "left knee joint",
              "right hip joint",
              "right 2nd MTP joint",
              "right knee joint",
              "right wrist joint",
              "left ankle joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "other site",
              "left hip joint",
              "unknown",
              "right 2nd MCP joint",
              "right ankle joint",
              "left knee joint",
              "right hip joint",
              "right 2nd MTP joint",
              "right knee joint",
              "right wrist joint",
              "left ankle joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "other site",
              "left hip joint",
              "unknown",
              "right 2nd MCP joint",
              "right ankle joint",
              "left knee joint",
              "right hip joint",
              "right 2nd MTP joint",
              "right knee joint",
              "right wrist joint",
              "left ankle joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "other site",
              "left hip joint",
              "unknown",
              "right 2nd MCP joint",
              "right ankle joint",
              "left knee joint",
              "right hip joint",
              "right 2nd MTP joint",
              "right knee joint",
              "right wrist joint",
              "left ankle joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "other site",
              "left hip joint",
              "unknown",
              "right 2nd MCP joint",
              "right ankle joint",
              "left knee joint",
              "right hip joint",
              "right 2nd MTP joint",
              "right knee joint",
              "right wrist joint",
              "left ankle joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "left wrist joint",
              "other site",
              "left hip joint",
              "unknown",
              "right 2nd MCP joint",
              "right ankle joint",
              "left knee joint",
              "right hip joint",
              "right 2nd MTP joint",
              "right knee joint",
              "right wrist joint",
              "left ankle joint",
              "right 1st MTP joint",
              "left 2nd MCP joint",
              "right 3rd MCP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "unknown",
              "arthroplasty",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "unknown",
              "arthroplasty",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "synovectomy",
              "unknown",
              "arthroplasty",
              "biopsy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "non-lesional",
              "healthy control",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "non-lesional",
              "healthy control",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "non-lesional",
              "healthy control",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "lesional proximal",
              "non-lesional",
              "healthy control",
              "lesional"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP RA/SLE"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "visitID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "visitID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP AIM"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "visitID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "visitID"
        ]
      }
    }
  ]
}