{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://example.com/ark",
  "title": "ark",
  "type": "object",
  "properties": {
    "treatmentTimepoint": {},
    "program": {
      "enum": [
        "AMP RA/SLE",
        "AMP AIM",
        "Community Contribution"
      ]
    },
    "parentBiospecimenID": {},
    "individualID": {},
    "Component": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "treatment": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "plateID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "biospecimenType": {
      "enum": [
        "skin swab",
        "cell line",
        "saliva",
        "total leukocytes",
        "suction blister fluid",
        "skin biopsy",
        "none",
        "whole blood",
        "synovial fluid",
        "kidney biopsy",
        "stool",
        "plasma",
        "synovial tissue",
        "salivary gland",
        "urine",
        "uvea",
        "PBMCs",
        "suction blister cells",
        "fibroblast-like synoviocyte",
        "serum",
        "primary cell culture"
      ]
    },
    "biospecimenID": {
      "not": {
        "type": "null"
      },
      "minLength": 1
    },
    "project": {
      "type": "array",
      "items": {
        "enum": [
          "SLE",
          "STAMP",
          "LOCKIT",
          "V-CoRT",
          "RA",
          "ELLIPSS",
          "AIM for RA"
        ]
      },
      "maxItems": 7
    },
    "altSampleID": {},
    "notes": {},
    "biospecimenSubtype": {
      "enum": [
        "flow-sorted cells",
        "frozen tissue",
        "FFPE tissue",
        "cell suspension",
        "nuclei suspension",
        "cell or tissue lysate",
        "supernatant",
        "fresh tissue",
        "PFA-fixed tissue",
        ""
      ]
    },
    "visitID": {},
    "anatomicalSite": {
      "enum": [
        "unknown",
        "right wrist joint",
        "right 3rd MCP joint",
        "right 2nd MTP joint",
        "left knee joint",
        "right ankle joint",
        "right 2nd MCP joint",
        "right hip joint",
        "right knee joint",
        "left ankle joint",
        "left 2nd MCP joint",
        "left hip joint",
        "other site",
        "left wrist joint",
        "right 1st MTP joint",
        ""
      ]
    },
    "skinSiteStatus": {
      "enum": [
        "healthy control",
        "lesional",
        "non-lesional",
        "lesional proximal",
        ""
      ]
    },
    "cellOntologyID": {},
    "cellType": {},
    "salivaCollectionProcedure": {
      "enum": [
        "stimulated",
        "unstimulated",
        ""
      ]
    },
    "synovialCollectionProcedure": {
      "enum": [
        "biopsy",
        "unknown",
        "arthroplasty",
        "synovectomy",
        ""
      ]
    },
    "krennLining": {},
    "krennSynovitisScore": {},
    "krennInflammatory": {},
    "krennStroma": {},
    "primaryCellSource": {
      "enum": [
        "salivary gland",
        "pannus-derived dermis",
        "total leukocytes",
        "urine",
        "whole blood",
        "uvea",
        "PBMCs",
        "pannus-derived epidermis",
        "synovial tissue",
        "kidney",
        ""
      ]
    },
    "userDefinedCellType": {},
    "FACSPopulation": {}
  },
  "required": [
    "program",
    "Component",
    "treatment",
    "plateID",
    "biospecimenType",
    "biospecimenID",
    "project"
  ],
  "allOf": [
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP RA/SLE"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "visitID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "visitID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "program": {
            "enum": [
              "AMP AIM"
            ]
          }
        },
        "required": [
          "program"
        ]
      },
      "then": {
        "properties": {
          "visitID": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "visitID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "unknown",
              "right wrist joint",
              "right 3rd MCP joint",
              "right 2nd MTP joint",
              "left knee joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "right hip joint",
              "right knee joint",
              "left ankle joint",
              "left 2nd MCP joint",
              "left hip joint",
              "other site",
              "left wrist joint",
              "right 1st MTP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "unknown",
              "right wrist joint",
              "right 3rd MCP joint",
              "right 2nd MTP joint",
              "left knee joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "right hip joint",
              "right knee joint",
              "left ankle joint",
              "left 2nd MCP joint",
              "left hip joint",
              "other site",
              "left wrist joint",
              "right 1st MTP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "unknown",
              "right wrist joint",
              "right 3rd MCP joint",
              "right 2nd MTP joint",
              "left knee joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "right hip joint",
              "right knee joint",
              "left ankle joint",
              "left 2nd MCP joint",
              "left hip joint",
              "other site",
              "left wrist joint",
              "right 1st MTP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "unknown",
              "right wrist joint",
              "right 3rd MCP joint",
              "right 2nd MTP joint",
              "left knee joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "right hip joint",
              "right knee joint",
              "left ankle joint",
              "left 2nd MCP joint",
              "left hip joint",
              "other site",
              "left wrist joint",
              "right 1st MTP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "unknown",
              "right wrist joint",
              "right 3rd MCP joint",
              "right 2nd MTP joint",
              "left knee joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "right hip joint",
              "right knee joint",
              "left ankle joint",
              "left 2nd MCP joint",
              "left hip joint",
              "other site",
              "left wrist joint",
              "right 1st MTP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "anatomicalSite": {
            "enum": [
              "unknown",
              "right wrist joint",
              "right 3rd MCP joint",
              "right 2nd MTP joint",
              "left knee joint",
              "right ankle joint",
              "right 2nd MCP joint",
              "right hip joint",
              "right knee joint",
              "left ankle joint",
              "left 2nd MCP joint",
              "left hip joint",
              "other site",
              "left wrist joint",
              "right 1st MTP joint"
            ]
          }
        },
        "required": [
          "anatomicalSite"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin swab"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "non-lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "non-lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "skin biopsy"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "non-lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "suction blister cells"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "skinSiteStatus": {
            "enum": [
              "healthy control",
              "lesional",
              "non-lesional",
              "lesional proximal"
            ]
          }
        },
        "required": [
          "skinSiteStatus"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "cell line"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellOntologyID": {}
        },
        "required": [
          "cellOntologyID"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "cell line"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "cellType": {}
        },
        "required": [
          "cellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "saliva"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "salivaCollectionProcedure": {
            "enum": [
              "stimulated",
              "unstimulated"
            ]
          }
        },
        "required": [
          "salivaCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial fluid"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "unknown",
              "arthroplasty",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "synovialCollectionProcedure": {
            "enum": [
              "biopsy",
              "unknown",
              "arthroplasty",
              "synovectomy"
            ]
          }
        },
        "required": [
          "synovialCollectionProcedure"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennLining": {}
        },
        "required": [
          "krennLining"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennSynovitisScore": {}
        },
        "required": [
          "krennSynovitisScore"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennInflammatory": {}
        },
        "required": [
          "krennInflammatory"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "synovial tissue"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "krennStroma": {}
        },
        "required": [
          "krennStroma"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenType": {
            "enum": [
              "primary cell culture"
            ]
          }
        },
        "required": [
          "biospecimenType"
        ]
      },
      "then": {
        "properties": {
          "primaryCellSource": {
            "enum": [
              "salivary gland",
              "pannus-derived dermis",
              "total leukocytes",
              "urine",
              "whole blood",
              "uvea",
              "PBMCs",
              "pannus-derived epidermis",
              "synovial tissue",
              "kidney"
            ]
          }
        },
        "required": [
          "primaryCellSource"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "cell suspension"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "userDefinedCellType": {}
        },
        "required": [
          "userDefinedCellType"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "biospecimenSubtype": {
            "enum": [
              "flow-sorted cells"
            ]
          }
        },
        "required": [
          "biospecimenSubtype"
        ]
      },
      "then": {
        "properties": {
          "FACSPopulation": {
            "not": {
              "type": "null"
            },
            "minLength": 1
          }
        },
        "required": [
          "FACSPopulation"
        ]
      }
    }
  ]
}